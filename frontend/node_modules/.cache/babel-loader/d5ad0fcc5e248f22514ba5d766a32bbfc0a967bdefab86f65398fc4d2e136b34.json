{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"result-container\"\n};\nconst _hoisted_2 = {\n  class: \"analysis-progress\"\n};\nconst _hoisted_3 = {\n  class: \"bazi-chart\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"four-pillars\"\n};\nconst _hoisted_5 = {\n  class: \"pillar\"\n};\nconst _hoisted_6 = {\n  class: \"stem\"\n};\nconst _hoisted_7 = {\n  class: \"branch\"\n};\nconst _hoisted_8 = {\n  class: \"nayin\"\n};\nconst _hoisted_9 = {\n  class: \"shishen\"\n};\nconst _hoisted_10 = {\n  class: \"wangshuai\"\n};\nconst _hoisted_11 = {\n  class: \"pillar\"\n};\nconst _hoisted_12 = {\n  class: \"stem\"\n};\nconst _hoisted_13 = {\n  class: \"branch\"\n};\nconst _hoisted_14 = {\n  class: \"nayin\"\n};\nconst _hoisted_15 = {\n  class: \"shishen\"\n};\nconst _hoisted_16 = {\n  class: \"wangshuai\"\n};\nconst _hoisted_17 = {\n  class: \"pillar\"\n};\nconst _hoisted_18 = {\n  class: \"stem\"\n};\nconst _hoisted_19 = {\n  class: \"branch\"\n};\nconst _hoisted_20 = {\n  class: \"nayin\"\n};\nconst _hoisted_21 = {\n  class: \"shishen\"\n};\nconst _hoisted_22 = {\n  class: \"wangshuai\"\n};\nconst _hoisted_23 = {\n  class: \"pillar\"\n};\nconst _hoisted_24 = {\n  class: \"stem\"\n};\nconst _hoisted_25 = {\n  class: \"branch\"\n};\nconst _hoisted_26 = {\n  class: \"nayin\"\n};\nconst _hoisted_27 = {\n  class: \"shishen\"\n};\nconst _hoisted_28 = {\n  class: \"wangshuai\"\n};\nconst _hoisted_29 = {\n  key: 1,\n  class: \"error-message\"\n};\nconst _hoisted_30 = {\n  key: 2,\n  class: \"five-elements\"\n};\nconst _hoisted_31 = {\n  class: \"element-name\"\n};\nconst _hoisted_32 = {\n  class: \"element-value\"\n};\nconst _hoisted_33 = {\n  key: 3,\n  class: \"five-elements\"\n};\nconst _hoisted_34 = {\n  class: \"element-name\"\n};\nconst _hoisted_35 = {\n  key: 4,\n  class: \"shen-sha-info\"\n};\nconst _hoisted_36 = {\n  class: \"shen-sha-content\"\n};\nconst _hoisted_37 = {\n  class: \"shen-sha-item\"\n};\nconst _hoisted_38 = {\n  class: \"value\"\n};\nconst _hoisted_39 = {\n  class: \"shen-sha-item\"\n};\nconst _hoisted_40 = {\n  class: \"value\"\n};\nconst _hoisted_41 = {\n  class: \"shen-sha-item\"\n};\nconst _hoisted_42 = {\n  class: \"value\"\n};\nconst _hoisted_43 = {\n  class: \"shen-sha-item\"\n};\nconst _hoisted_44 = {\n  class: \"value\"\n};\nconst _hoisted_45 = {\n  class: \"shen-sha-item\"\n};\nconst _hoisted_46 = {\n  class: \"value\"\n};\nconst _hoisted_47 = {\n  key: 0,\n  class: \"ben-ming-sha\"\n};\nconst _hoisted_48 = {\n  class: \"ben-ming-list\"\n};\nconst _hoisted_49 = {\n  key: 5,\n  class: \"shen-sha-info\"\n};\nconst _hoisted_50 = {\n  key: 6,\n  class: \"da-yun-info\"\n};\nconst _hoisted_51 = {\n  class: \"qi-yun-info\"\n};\nconst _hoisted_52 = {\n  class: \"da-yun-table\"\n};\nconst _hoisted_53 = {\n  class: \"custom-table\"\n};\nconst _hoisted_54 = {\n  key: 7,\n  class: \"da-yun-info\"\n};\nconst _hoisted_55 = {\n  key: 8,\n  class: \"liu-nian-info\"\n};\nconst _hoisted_56 = {\n  class: \"custom-table\"\n};\nconst _hoisted_57 = {\n  key: 9,\n  class: \"liu-nian-info\"\n};\nconst _hoisted_58 = {\n  class: \"ai-analysis\"\n};\nconst _hoisted_59 = {\n  key: 0,\n  class: \"age-notice\"\n};\nconst _hoisted_60 = {\n  key: 1,\n  class: \"age-notice\"\n};\nconst _hoisted_61 = {\n  key: 2,\n  class: \"age-notice\"\n};\nconst _hoisted_62 = {\n  class: \"analysis-progress\"\n};\nconst _hoisted_63 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_64 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_65 = [\"innerHTML\"];\nconst _hoisted_66 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_67 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_68 = [\"innerHTML\"];\nconst _hoisted_69 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_70 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_71 = [\"innerHTML\"];\nconst _hoisted_72 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_73 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_74 = [\"innerHTML\"];\nconst _hoisted_75 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_76 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_77 = {\n  key: 1\n};\nconst _hoisted_78 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_79 = [\"innerHTML\"];\nconst _hoisted_80 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_81 = [\"innerHTML\"];\nconst _hoisted_82 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_83 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_84 = {\n  key: 1\n};\nconst _hoisted_85 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_86 = [\"innerHTML\"];\nconst _hoisted_87 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_88 = [\"innerHTML\"];\nconst _hoisted_89 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_90 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_91 = {\n  key: 1\n};\nconst _hoisted_92 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_93 = [\"innerHTML\"];\nconst _hoisted_94 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_95 = [\"innerHTML\"];\nconst _hoisted_96 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_97 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_98 = {\n  key: 1\n};\nconst _hoisted_99 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_100 = [\"innerHTML\"];\nconst _hoisted_101 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_102 = [\"innerHTML\"];\nconst _hoisted_103 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_104 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_105 = {\n  key: 1\n};\nconst _hoisted_106 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_107 = [\"innerHTML\"];\nconst _hoisted_108 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_109 = [\"innerHTML\"];\nconst _hoisted_110 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_111 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_112 = {\n  key: 1\n};\nconst _hoisted_113 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_114 = [\"innerHTML\"];\nconst _hoisted_115 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_116 = [\"innerHTML\"];\nconst _hoisted_117 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_118 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_119 = {\n  key: 1\n};\nconst _hoisted_120 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_121 = [\"innerHTML\"];\nconst _hoisted_122 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_123 = [\"innerHTML\"];\nconst _hoisted_124 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_125 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_126 = {\n  key: 1\n};\nconst _hoisted_127 = {\n  key: 0,\n  class: \"enhanced-analysis\"\n};\nconst _hoisted_128 = [\"innerHTML\"];\nconst _hoisted_129 = {\n  class: \"analysis-source\"\n};\nconst _hoisted_130 = [\"innerHTML\"];\nconst _hoisted_131 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_132 = {\n  key: 1,\n  class: \"followup-section\"\n};\nconst _hoisted_133 = {\n  class: \"followup-options\"\n};\nconst _hoisted_134 = [\"onClick\"];\nconst _hoisted_135 = {\n  class: \"option-content\"\n};\nconst _hoisted_136 = {\n  class: \"option-name\"\n};\nconst _hoisted_137 = {\n  key: 0,\n  class: \"option-status\"\n};\nconst _hoisted_138 = {\n  key: 1,\n  class: \"option-status\"\n};\nconst _hoisted_139 = {\n  key: 0,\n  class: \"followup-result\"\n};\nconst _hoisted_140 = {\n  key: 0,\n  class: \"loading-content\"\n};\nconst _hoisted_141 = {\n  key: 1,\n  class: \"loading-content\"\n};\nconst _hoisted_142 = [\"innerHTML\"];\nconst _hoisted_143 = {\n  class: \"followup-dialog-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_progress = _resolveComponent(\"van-progress\");\n  const _component_van_notice_bar = _resolveComponent(\"van-notice-bar\");\n  const _component_van_empty = _resolveComponent(\"van-empty\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_cell = _resolveComponent(\"van-cell\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_tab = _resolveComponent(\"van-tab\");\n  const _component_van_loading = _resolveComponent(\"van-loading\");\n  const _component_van_tag = _resolveComponent(\"van-tag\");\n  const _component_van_tabs = _resolveComponent(\"van-tabs\");\n  const _component_van_dialog = _resolveComponent(\"van-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_nav_bar, {\n    title: \"八字分析结果\",\n    \"left-text\": \"返回\",\n    \"left-arrow\": \"\",\n    onClickLeft: $setup.onClickLeft\n  }), _cache[63] || (_cache[63] = _createElementVNode(\"div\", {\n    class: \"result-header\"\n  }, [_createElementVNode(\"h2\", null, \"您的八字命盘分析\"), _createElementVNode(\"p\", null, \"基于您的出生信息，AI为您提供的个性化人生指导\")], -1 /* HOISTED */)), _createCommentVNode(\" 添加全局分析状态提示 \"), $setup.isAnalyzing ? (_openBlock(), _createBlock(_component_van_notice_bar, {\n    key: 0,\n    color: \"#1989fa\",\n    background: \"#ecf9ff\",\n    \"left-icon\": \"info-o\",\n    scrollable: false,\n    class: \"analysis-progress-notice\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"p\", null, \"AI正在生成八字分析结果，这可能需要30-60秒\", -1 /* HOISTED */)), _createVNode(_component_van_progress, {\n      percentage: $setup.analyzeProgress,\n      \"show-pivot\": false,\n      color: \"#1989fa\"\n    }, null, 8 /* PROPS */, [\"percentage\"])])]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_van_tabs, {\n    modelValue: $setup.activeTab,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.activeTab = $event),\n    sticky: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_van_tab, {\n      title: \"命盘信息\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_cache[18] || (_cache[18] = _createElementVNode(\"h3\", null, \"八字命盘\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.yearPillar && $setup.baziData.monthPillar && $setup.baziData.dayPillar && $setup.baziData.hourPillar ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" 年柱 \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, _toDisplayString($setup.baziData.yearPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.baziData.yearPillar.earthlyBranch), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n        class: \"label\"\n      }, \"年柱\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($setup.baziData.yearPillar.naYin), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, _toDisplayString($setup.baziData.yearPillar.shiShen), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($setup.baziData.yearPillar.wangShuai), 1 /* TEXT */)]), _createCommentVNode(\" 月柱 \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, _toDisplayString($setup.baziData.monthPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_13, _toDisplayString($setup.baziData.monthPillar.earthlyBranch), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n        class: \"label\"\n      }, \"月柱\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.baziData.monthPillar.naYin), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, _toDisplayString($setup.baziData.monthPillar.shiShen), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_16, _toDisplayString($setup.baziData.monthPillar.wangShuai), 1 /* TEXT */)]), _createCommentVNode(\" 日柱 \"), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, _toDisplayString($setup.baziData.dayPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_19, _toDisplayString($setup.baziData.dayPillar.earthlyBranch), 1 /* TEXT */), _cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n        class: \"label\"\n      }, \"日柱\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_20, _toDisplayString($setup.baziData.dayPillar.naYin), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_21, _toDisplayString($setup.baziData.dayPillar.shiShen), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_22, _toDisplayString($setup.baziData.dayPillar.wangShuai), 1 /* TEXT */)]), _createCommentVNode(\" 时柱 \"), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, _toDisplayString($setup.baziData.hourPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_25, _toDisplayString($setup.baziData.hourPillar.earthlyBranch), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n        class: \"label\"\n      }, \"时柱\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_26, _toDisplayString($setup.baziData.hourPillar.naYin), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_27, _toDisplayString($setup.baziData.hourPillar.shiShen), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_28, _toDisplayString($setup.baziData.hourPillar.wangShuai), 1 /* TEXT */)])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [_createVNode(_component_van_empty, {\n        description: \"八字数据加载失败，请重试\"\n      }), _createVNode(_component_van_button, {\n        type: \"primary\",\n        size: \"small\",\n        onClick: $setup.reloadBaziData\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"重新加载\")])),\n        _: 1 /* STABLE */,\n        __: [8]\n      })])), _cache[19] || (_cache[19] = _createElementVNode(\"h3\", null, \"五行分布\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.fiveElements ? (_openBlock(), _createElementBlock(\"div\", _hoisted_30, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.fiveElements, (value, element) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"element\",\n          key: element\n        }, [_createElementVNode(\"div\", _hoisted_31, _toDisplayString($setup.getElementName(element)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_32, _toDisplayString(value), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['wood', 'fire', 'earth', 'metal', 'water'], element => {\n        return _createElementVNode(\"div\", {\n          class: \"element\",\n          key: element\n        }, [_createElementVNode(\"div\", _hoisted_34, _toDisplayString($setup.getElementName(element)), 1 /* TEXT */), _cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n          class: \"element-value\"\n        }, \"--\", -1 /* HOISTED */))]);\n      }), 64 /* STABLE_FRAGMENT */))])), _createCommentVNode(\" 添加神煞显示 \"), _cache[20] || (_cache[20] = _createElementVNode(\"h3\", null, \"神煞信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.shenSha ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n        class: \"label\"\n      }, \"日冲\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_38, _toDisplayString($setup.baziData.shenSha.dayChong), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_39, [_cache[11] || (_cache[11] = _createElementVNode(\"span\", {\n        class: \"label\"\n      }, \"值神\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_40, _toDisplayString($setup.baziData.shenSha.zhiShen), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_41, [_cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n        class: \"label\"\n      }, \"喜神\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_42, _toDisplayString($setup.baziData.shenSha.xiShen), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_43, [_cache[13] || (_cache[13] = _createElementVNode(\"span\", {\n        class: \"label\"\n      }, \"福神\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_44, _toDisplayString($setup.baziData.shenSha.fuShen), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_45, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n        class: \"label\"\n      }, \"财神\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_46, _toDisplayString($setup.baziData.shenSha.caiShen), 1 /* TEXT */)])]), _createCommentVNode(\" 本命神煞 \"), $setup.baziData.shenSha.benMing.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_47, [_cache[15] || (_cache[15] = _createElementVNode(\"h4\", null, \"本命神煞\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_48, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.shenSha.benMing, (sha, index) => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: index,\n          class: \"ben-ming-item\"\n        }, _toDisplayString(sha), 1 /* TEXT */);\n      }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_49, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"神煞信息\",\n          value: \"暂无数据\"\n        })]),\n        _: 1 /* STABLE */\n      })])), _createCommentVNode(\" 添加大运显示 \"), _cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"大运信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.daYun ? (_openBlock(), _createElementBlock(\"div\", _hoisted_50, [_createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"p\", null, \"起运年龄: \" + _toDisplayString($setup.baziData.daYun.startAge) + \"岁\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"起运年份: \" + _toDisplayString($setup.baziData.daYun.startYear) + \"年\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"大运顺序: \" + _toDisplayString($setup.baziData.daYun.isForward ? '顺行' : '逆行'), 1 /* TEXT */)]), _createCommentVNode(\" 大运列表 \"), _createElementVNode(\"div\", _hoisted_52, [_createElementVNode(\"table\", _hoisted_53, [_cache[16] || (_cache[16] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"年龄\"), _createElementVNode(\"th\", null, \"年份\"), _createElementVNode(\"th\", null, \"天干\"), _createElementVNode(\"th\", null, \"地支\"), _createElementVNode(\"th\", null, \"纳音\"), _createElementVNode(\"th\", null, \"吉凶\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.daYun.daYunList, (yun, index) => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: index\n        }, [_createElementVNode(\"td\", null, _toDisplayString(yun.startAge) + \"-\" + _toDisplayString(yun.endAge), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(yun.startYear) + \"-\" + _toDisplayString(yun.endYear), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(yun.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(yun.earthlyBranch), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(yun.naYin), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(yun.jiXiong), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_54, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"大运信息\",\n          value: \"暂无数据\"\n        })]),\n        _: 1 /* STABLE */\n      })])), _cache[22] || (_cache[22] = _createElementVNode(\"h3\", null, \"流年信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.flowingYears && $setup.baziData.flowingYears.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_55, [_createElementVNode(\"table\", _hoisted_56, [_cache[17] || (_cache[17] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"年份\"), _createElementVNode(\"th\", null, \"年龄\"), _createElementVNode(\"th\", null, \"天干\"), _createElementVNode(\"th\", null, \"地支\"), _createElementVNode(\"th\", null, \"五行\"), _createElementVNode(\"th\", null, \"神煞\"), _createElementVNode(\"th\", null, \"吉凶\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.flowingYears, (year, index) => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: index\n        }, [_createElementVNode(\"td\", null, _toDisplayString(year.year), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(year.age), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(year.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(year.earthlyBranch), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.getElementName(year.ganElement)) + \"/\" + _toDisplayString($setup.getElementName(year.zhiElement)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(year.shenSha && Array.isArray(year.shenSha) ? year.shenSha.join(', ') : '无'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(year.jiXiong || '未知'), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_57, [_createVNode(_component_van_empty, {\n        description: \"流年数据暂无\"\n      })]))])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_van_tab, {\n      title: \"AI分析结果\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_58, [$setup.userAge !== null && $setup.userAge < 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_59, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => _cache[23] || (_cache[23] = [_createTextVNode(\" 此分析针对未来出生的宝宝，重点关注性格特点、天赋才能和健康发展趋势。 \")])),\n        _: 1 /* STABLE */,\n        __: [23]\n      })])) : $setup.userAge !== null && $setup.userAge < 6 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_60, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 此分析针对婴幼儿(\" + _toDisplayString($setup.userAge) + \"岁)，重点关注性格特点、天赋才能和健康发展趋势。 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })])) : $setup.userAge !== null && $setup.userAge < 18 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_61, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 此分析针对未成年人(\" + _toDisplayString($setup.userAge) + \"岁)，重点关注性格特点、学业发展和健康状况。 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 添加全局分析状态提示 \"), $setup.isAnalyzing ? (_openBlock(), _createBlock(_component_van_notice_bar, {\n        key: 3,\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\",\n        scrollable: false,\n        class: \"analysis-progress-notice\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_62, [_cache[24] || (_cache[24] = _createElementVNode(\"p\", null, \"AI正在生成八字分析结果，这可能需要30-60秒\", -1 /* HOISTED */)), _createVNode(_component_van_progress, {\n          percentage: $setup.analyzeProgress,\n          \"show-pivot\": false,\n          color: \"#1989fa\"\n        }, null, 8 /* PROPS */, [\"percentage\"])])]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 八字命局核心分析 \"), _createElementVNode(\"div\", _hoisted_63, [_cache[26] || (_cache[26] = _createElementVNode(\"h3\", null, \"八字命局核心分析\", -1 /* HOISTED */)), !$setup.aiAnalysis.coreAnalysis || $setup.aiAnalysis.coreAnalysis === '暂无' || $setup.aiAnalysis.coreAnalysis.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_64, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[25] || (_cache[25] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [25]\n      })])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.coreAnalysis),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_65))]), _createCommentVNode(\" 五行旺衰与用神 \"), _createElementVNode(\"div\", _hoisted_66, [_cache[28] || (_cache[28] = _createElementVNode(\"h3\", null, \"五行旺衰与用神\", -1 /* HOISTED */)), !$setup.aiAnalysis.fiveElements || $setup.aiAnalysis.fiveElements === '暂无' || $setup.aiAnalysis.fiveElements.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_67, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[27] || (_cache[27] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [27]\n      })])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.fiveElements),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_68))]), _createCommentVNode(\" 神煞解析 \"), _createElementVNode(\"div\", _hoisted_69, [_cache[30] || (_cache[30] = _createElementVNode(\"h3\", null, \"神煞解析\", -1 /* HOISTED */)), !$setup.aiAnalysis.shenShaAnalysis || $setup.aiAnalysis.shenShaAnalysis === '暂无' || $setup.aiAnalysis.shenShaAnalysis.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_70, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[29] || (_cache[29] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [29]\n      })])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.shenShaAnalysis),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_71))]), _createCommentVNode(\" 大运与流年关键节点 \"), _createElementVNode(\"div\", _hoisted_72, [_cache[32] || (_cache[32] = _createElementVNode(\"h3\", null, \"大运与流年关键节点\", -1 /* HOISTED */)), !$setup.aiAnalysis.keyPoints || $setup.aiAnalysis.keyPoints === '暂无' || $setup.aiAnalysis.keyPoints.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_73, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[31] || (_cache[31] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [31]\n      })])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.keyPoints),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_74))]), _createCommentVNode(\" 婚姻感情 \"), _createElementVNode(\"div\", _hoisted_75, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '婚姻感情' : '未来感情发展'), 1 /* TEXT */), !$setup.aiAnalysis.relationship || $setup.aiAnalysis.relationship === '暂无' || $setup.aiAnalysis.relationship.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_76, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[33] || (_cache[33] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [33]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_77, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.relationship || $setup.followupAnalysis.marriage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_78, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.relationship || $setup.followupAnalysis.marriage),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_79), _createElementVNode(\"div\", _hoisted_80, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[34] || (_cache[34] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [34]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.relationship),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_81))]))]), _createCommentVNode(\" 事业财运 \"), _createElementVNode(\"div\", _hoisted_82, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '事业财运' : '未来事业财运'), 1 /* TEXT */), !$setup.aiAnalysis.career || $setup.aiAnalysis.career === '暂无' || $setup.aiAnalysis.career.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_83, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[35] || (_cache[35] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [35]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_84, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.career || $setup.followupAnalysis.work || $setup.followupAnalysis.money || $setup.followupAnalysis.wealth ? (_openBlock(), _createElementBlock(\"div\", _hoisted_85, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.career || $setup.followupAnalysis.work || $setup.followupAnalysis.money || $setup.followupAnalysis.wealth),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_86), _createElementVNode(\"div\", _hoisted_87, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[36] || (_cache[36] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [36]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.career),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_88))]))]), _createCommentVNode(\" 子女情况 \"), _createElementVNode(\"div\", _hoisted_89, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '子女情况' : '未来子女缘分'), 1 /* TEXT */), !$setup.aiAnalysis.children || $setup.aiAnalysis.children === '暂无' || $setup.aiAnalysis.children.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_90, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[37] || (_cache[37] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [37]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_91, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.children || $setup.followupAnalysis.family ? (_openBlock(), _createElementBlock(\"div\", _hoisted_92, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.children || $setup.followupAnalysis.family),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_93), _createElementVNode(\"div\", _hoisted_94, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[38] || (_cache[38] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [38]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.children),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_95))]))]), _createCommentVNode(\" 父母情况 \"), _createElementVNode(\"div\", _hoisted_96, [_cache[41] || (_cache[41] = _createElementVNode(\"h3\", null, \"父母情况\", -1 /* HOISTED */)), !$setup.aiAnalysis.parents || $setup.aiAnalysis.parents === '暂无' || $setup.aiAnalysis.parents.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_97, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[39] || (_cache[39] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [39]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_98, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.parents ? (_openBlock(), _createElementBlock(\"div\", _hoisted_99, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.parents),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_100), _createElementVNode(\"div\", _hoisted_101, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[40] || (_cache[40] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [40]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.parents),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_102))]))]), _createCommentVNode(\" 身体健康 \"), _createElementVNode(\"div\", _hoisted_103, [_cache[44] || (_cache[44] = _createElementVNode(\"h3\", null, \"身体健康\", -1 /* HOISTED */)), !$setup.aiAnalysis.health || $setup.aiAnalysis.health === '暂无' || $setup.aiAnalysis.health.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_104, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[42] || (_cache[42] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [42]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_105, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.health ? (_openBlock(), _createElementBlock(\"div\", _hoisted_106, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.health),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_107), _createElementVNode(\"div\", _hoisted_108, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[43] || (_cache[43] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [43]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.health),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_109))]))]), _createCommentVNode(\" 学业 \"), _createElementVNode(\"div\", _hoisted_110, [_cache[47] || (_cache[47] = _createElementVNode(\"h3\", null, \"学业\", -1 /* HOISTED */)), !$setup.aiAnalysis.education || $setup.aiAnalysis.education === '暂无' || $setup.aiAnalysis.education.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_111, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[45] || (_cache[45] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [45]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_112, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.education || $setup.followupAnalysis.study ? (_openBlock(), _createElementBlock(\"div\", _hoisted_113, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.education || $setup.followupAnalysis.study),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_114), _createElementVNode(\"div\", _hoisted_115, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[46] || (_cache[46] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [46]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.education),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_116))]))]), _createCommentVNode(\" 人际关系 \"), _createElementVNode(\"div\", _hoisted_117, [_cache[50] || (_cache[50] = _createElementVNode(\"h3\", null, \"人际关系\", -1 /* HOISTED */)), !$setup.aiAnalysis.social || $setup.aiAnalysis.social === '暂无' || $setup.aiAnalysis.social.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_118, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[48] || (_cache[48] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [48]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_119, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.social || $setup.followupAnalysis.relationship || $setup.followupAnalysis.friends ? (_openBlock(), _createElementBlock(\"div\", _hoisted_120, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.social || $setup.followupAnalysis.relationship || $setup.followupAnalysis.friends),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_121), _createElementVNode(\"div\", _hoisted_122, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[49] || (_cache[49] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [49]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.social),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_123))]))]), _createCommentVNode(\" 近五年运势 \"), _createElementVNode(\"div\", _hoisted_124, [_cache[53] || (_cache[53] = _createElementVNode(\"h3\", null, \"近五年运势\", -1 /* HOISTED */)), !$setup.aiAnalysis.future || $setup.aiAnalysis.future === '暂无' || $setup.aiAnalysis.future.includes('正在分析') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_125, [_createVNode(_component_van_loading, {\n        size: \"24px\",\n        vertical: \"\"\n      }, {\n        default: _withCtx(() => _cache[51] || (_cache[51] = [_createTextVNode(\"分析生成中...\")])),\n        _: 1 /* STABLE */,\n        __: [51]\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_126, [_createCommentVNode(\" 如果有追问分析结果，优先显示追问分析 \"), $setup.followupAnalysis.future || $setup.followupAnalysis.fiveYears ? (_openBlock(), _createElementBlock(\"div\", _hoisted_127, [_createElementVNode(\"div\", {\n        innerHTML: $setup.renderMarkdown($setup.followupAnalysis.future || $setup.followupAnalysis.fiveYears),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_128), _createElementVNode(\"div\", _hoisted_129, [_createVNode(_component_van_tag, {\n        type: \"primary\",\n        size: \"medium\"\n      }, {\n        default: _withCtx(() => _cache[52] || (_cache[52] = [_createTextVNode(\"深度分析\")])),\n        _: 1 /* STABLE */,\n        __: [52]\n      })])])) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        innerHTML: $setup.renderMarkdown($setup.aiAnalysis.future),\n        class: \"markdown-content\"\n      }, null, 8 /* PROPS */, _hoisted_130))]))])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_131, [_createVNode(_component_van_button, {\n    type: \"primary\",\n    block: \"\",\n    onClick: $setup.downloadPDF\n  }, {\n    default: _withCtx(() => _cache[54] || (_cache[54] = [_createTextVNode(\" 下载PDF报告 \")])),\n    _: 1 /* STABLE */,\n    __: [54]\n  }), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"primary\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.shareResult\n  }, {\n    default: _withCtx(() => _cache[55] || (_cache[55] = [_createTextVNode(\" 分享结果 \")])),\n    _: 1 /* STABLE */,\n    __: [55]\n  }), _createCommentVNode(\" 本地生成PDF按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"info\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.handleLocalPDFGeneration\n  }, {\n    default: _withCtx(() => _cache[56] || (_cache[56] = [_createTextVNode(\" 本地生成PDF \")])),\n    _: 1 /* STABLE */,\n    __: [56]\n  }), _createCommentVNode(\" 调试按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"warning\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.reloadBaziData\n  }, {\n    default: _withCtx(() => _cache[57] || (_cache[57] = [_createTextVNode(\" 重新加载分析数据 \")])),\n    _: 1 /* STABLE */,\n    __: [57]\n  })]), _createCommentVNode(\" 添加追问部分 \"), $setup.baziData && !$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_132, [_cache[60] || (_cache[60] = _createElementVNode(\"h2\", {\n    class: \"section-title\"\n  }, \"深度分析\", -1 /* HOISTED */)), _cache[61] || (_cache[61] = _createElementVNode(\"p\", {\n    class: \"section-desc\"\n  }, \"选择您感兴趣的领域，进行深度分析\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_133, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.followupOptions, option => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: option.id,\n      class: _normalizeClass([\"followup-option\", {\n        'paid': option.paid\n      }]),\n      onClick: $event => $setup.selectFollowupOption(option)\n    }, [_createElementVNode(\"div\", _hoisted_135, [_createElementVNode(\"span\", _hoisted_136, _toDisplayString(option.name), 1 /* TEXT */), option.paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_137, \"已解锁\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_138, \"￥9.9\"))])], 10 /* CLASS, PROPS */, _hoisted_134);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 已支付的追问分析结果展示 \"), $setup.currentFollowup && $setup.currentFollowup.paid ? (_openBlock(), _createElementBlock(\"div\", _hoisted_139, [_createElementVNode(\"h3\", null, _toDisplayString($setup.currentFollowup.name) + \"分析\", 1 /* TEXT */), $setup.isLoadingFollowup ? (_openBlock(), _createElementBlock(\"div\", _hoisted_140, [_createVNode(_component_van_loading, {\n    size: \"24px\",\n    vertical: \"\"\n  }, {\n    default: _withCtx(() => _cache[58] || (_cache[58] = [_createTextVNode(\"分析加载中...\")])),\n    _: 1 /* STABLE */,\n    __: [58]\n  })])) : !$setup.followupAnalysis[$setup.currentFollowup.id] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_141, [_createVNode(_component_van_empty, {\n    description: \"分析结果尚未生成，请稍后刷新页面\"\n  }), _createVNode(_component_van_button, {\n    type: \"primary\",\n    size: \"small\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.reloadFollowupAnalysis($setup.currentFollowup.id))\n  }, {\n    default: _withCtx(() => _cache[59] || (_cache[59] = [_createTextVNode(\" 刷新分析 \")])),\n    _: 1 /* STABLE */,\n    __: [59]\n  })])) : (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"analysis-content\",\n    innerHTML: $setup.renderMarkdown($setup.followupAnalysis[$setup.currentFollowup.id])\n  }, null, 8 /* PROPS */, _hoisted_142))])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 追问支付对话框 \"), _createVNode(_component_van_dialog, {\n    show: $setup.showFollowupDialog,\n    \"onUpdate:show\": _cache[2] || (_cache[2] = $event => $setup.showFollowupDialog = $event),\n    title: \"深度分析\",\n    \"confirm-button-text\": \"支付 ￥9.9\",\n    onConfirm: $setup.payForFollowup,\n    \"before-close\": () => !$setup.isLoadingFollowup\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_143, [_createElementVNode(\"p\", null, \"您选择了「\" + _toDisplayString($setup.currentFollowup?.name) + \"」深度分析\", 1 /* TEXT */), _cache[62] || (_cache[62] = _createElementVNode(\"p\", null, \"支付后，AI将根据您的八字和流年运势，为您提供专业的命理分析\", -1 /* HOISTED */))])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\", \"before-close\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_createElementVNode","_createCommentVNode","isAnalyzing","_createBlock","_component_van_notice_bar","color","background","scrollable","default","_withCtx","_hoisted_2","_component_van_progress","percentage","analyzeProgress","_","_component_van_tabs","modelValue","activeTab","_cache","$event","sticky","_component_van_tab","_hoisted_3","baziData","yearPillar","monthPillar","dayPillar","hourPillar","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","heavenlyStem","_hoisted_7","earthlyBranch","_hoisted_8","naYin","_hoisted_9","shiShen","_hoisted_10","wangShuai","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_component_van_empty","description","_component_van_button","type","size","onClick","reloadBaziData","_createTextVNode","__","fiveElements","_hoisted_30","_Fragment","_renderList","value","element","_hoisted_31","getElementName","_hoisted_32","_hoisted_33","_hoisted_34","shenSha","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","dayChong","_hoisted_39","_hoisted_40","zhiShen","_hoisted_41","_hoisted_42","xiShen","_hoisted_43","_hoisted_44","fuShen","_hoisted_45","_hoisted_46","caiShen","benMing","length","_hoisted_47","_hoisted_48","sha","index","_hoisted_49","_component_van_cell_group","inset","_component_van_cell","daYun","_hoisted_50","_hoisted_51","startAge","startYear","isForward","_hoisted_52","_hoisted_53","daYunList","yun","endAge","endYear","jiXiong","_hoisted_54","flowingYears","_hoisted_55","_hoisted_56","year","age","ganElement","zhiElement","Array","isArray","join","_hoisted_57","_hoisted_58","userAge","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","aiAnalysis","coreAnalysis","includes","_hoisted_64","_component_van_loading","vertical","innerHTML","renderMarkdown","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","shenShaAnalysis","_hoisted_70","_hoisted_71","_hoisted_72","keyPoints","_hoisted_73","_hoisted_74","_hoisted_75","relationship","_hoisted_76","_hoisted_77","followupAnalysis","marriage","_hoisted_78","_hoisted_79","_hoisted_80","_component_van_tag","_hoisted_81","_hoisted_82","career","_hoisted_83","_hoisted_84","work","money","wealth","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","children","_hoisted_90","_hoisted_91","family","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","parents","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","health","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","education","_hoisted_111","_hoisted_112","study","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","social","_hoisted_118","_hoisted_119","friends","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","future","_hoisted_125","_hoisted_126","fiveYears","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","block","downloadPDF","plain","style","shareResult","handleLocalPDFGeneration","loading","_hoisted_132","_hoisted_133","followupOptions","option","id","_normalizeClass","paid","selectFollowupOption","_hoisted_135","_hoisted_136","name","_hoisted_137","_hoisted_138","_hoisted_134","currentFollowup","_hoisted_139","isLoadingFollowup","_hoisted_140","_hoisted_141","reloadFollowupAnalysis","_hoisted_142","_component_van_dialog","show","showFollowupDialog","onConfirm","payForFollowup","before-close","_hoisted_143"],"sources":["D:\\Python\\20250603开发八字命理AI指导功能页码\\开发八字命理AI指导功能页码\\frontend\\src\\Result.vue"],"sourcesContent":["<template>\n  <div class=\"result-container\">\n    <van-nav-bar\n      title=\"八字分析结果\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"result-header\">\n      <h2>您的八字命盘分析</h2>\n      <p>基于您的出生信息，AI为您提供的个性化人生指导</p>\n    </div>\n    \n    <!-- 添加全局分析状态提示 -->\n    <van-notice-bar\n      v-if=\"isAnalyzing\"\n      color=\"#1989fa\"\n      background=\"#ecf9ff\"\n      left-icon=\"info-o\"\n      :scrollable=\"false\"\n      class=\"analysis-progress-notice\"\n    >\n      <div class=\"analysis-progress\">\n        <p>AI正在生成八字分析结果，这可能需要30-60秒</p>\n        <van-progress :percentage=\"analyzeProgress\" :show-pivot=\"false\" color=\"#1989fa\" />\n      </div>\n    </van-notice-bar>\n    \n    <van-tabs v-model=\"activeTab\" sticky>\n      <van-tab title=\"命盘信息\">\n        <div class=\"bazi-chart\">\n          <h3>八字命盘</h3>\n          <div v-if=\"baziData && baziData.yearPillar && baziData.monthPillar && baziData.dayPillar && baziData.hourPillar\" class=\"four-pillars\">\n            <!-- 年柱 -->\n            <div class=\"pillar\">\n              <div class=\"stem\">{{ baziData.yearPillar.heavenlyStem }}</div>\n              <div class=\"branch\">{{ baziData.yearPillar.earthlyBranch }}</div>\n              <div class=\"label\">年柱</div>\n              <div class=\"nayin\">{{ baziData.yearPillar.naYin }}</div>\n              <div class=\"shishen\">{{ baziData.yearPillar.shiShen }}</div>\n              <div class=\"wangshuai\">{{ baziData.yearPillar.wangShuai }}</div>\n            </div>\n            \n            <!-- 月柱 -->\n            <div class=\"pillar\">\n              <div class=\"stem\">{{ baziData.monthPillar.heavenlyStem }}</div>\n              <div class=\"branch\">{{ baziData.monthPillar.earthlyBranch }}</div>\n              <div class=\"label\">月柱</div>\n              <div class=\"nayin\">{{ baziData.monthPillar.naYin }}</div>\n              <div class=\"shishen\">{{ baziData.monthPillar.shiShen }}</div>\n              <div class=\"wangshuai\">{{ baziData.monthPillar.wangShuai }}</div>\n            </div>\n            \n            <!-- 日柱 -->\n            <div class=\"pillar\">\n              <div class=\"stem\">{{ baziData.dayPillar.heavenlyStem }}</div>\n              <div class=\"branch\">{{ baziData.dayPillar.earthlyBranch }}</div>\n              <div class=\"label\">日柱</div>\n              <div class=\"nayin\">{{ baziData.dayPillar.naYin }}</div>\n              <div class=\"shishen\">{{ baziData.dayPillar.shiShen }}</div>\n              <div class=\"wangshuai\">{{ baziData.dayPillar.wangShuai }}</div>\n            </div>\n            \n            <!-- 时柱 -->\n            <div class=\"pillar\">\n              <div class=\"stem\">{{ baziData.hourPillar.heavenlyStem }}</div>\n              <div class=\"branch\">{{ baziData.hourPillar.earthlyBranch }}</div>\n              <div class=\"label\">时柱</div>\n              <div class=\"nayin\">{{ baziData.hourPillar.naYin }}</div>\n              <div class=\"shishen\">{{ baziData.hourPillar.shiShen }}</div>\n              <div class=\"wangshuai\">{{ baziData.hourPillar.wangShuai }}</div>\n            </div>\n          </div>\n          <div v-else class=\"error-message\">\n            <van-empty description=\"八字数据加载失败，请重试\" />\n            <van-button type=\"primary\" size=\"small\" @click=\"reloadBaziData\">重新加载</van-button>\n          </div>\n          \n          <h3>五行分布</h3>\n          <div class=\"five-elements\" v-if=\"baziData && baziData.fiveElements\">\n            <div class=\"element\" v-for=\"(value, element) in baziData.fiveElements\" :key=\"element\">\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\n              <div class=\"element-value\">{{ value }}</div>\n            </div>\n          </div>\n          <div class=\"five-elements\" v-else>\n            <div class=\"element\" v-for=\"element in ['wood', 'fire', 'earth', 'metal', 'water']\" :key=\"element\">\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\n              <div class=\"element-value\">--</div>\n            </div>\n          </div>\n          \n          <!-- 添加神煞显示 -->\n          <h3>神煞信息</h3>\n          <div class=\"shen-sha-info\" v-if=\"baziData && baziData.shenSha\">\n            <div class=\"shen-sha-content\">\n              <div class=\"shen-sha-item\">\n                <span class=\"label\">日冲</span>\n                <span class=\"value\">{{ baziData.shenSha.dayChong }}</span>\n              </div>\n              <div class=\"shen-sha-item\">\n                <span class=\"label\">值神</span>\n                <span class=\"value\">{{ baziData.shenSha.zhiShen }}</span>\n              </div>\n              <div class=\"shen-sha-item\">\n                <span class=\"label\">喜神</span>\n                <span class=\"value\">{{ baziData.shenSha.xiShen }}</span>\n              </div>\n              <div class=\"shen-sha-item\">\n                <span class=\"label\">福神</span>\n                <span class=\"value\">{{ baziData.shenSha.fuShen }}</span>\n              </div>\n              <div class=\"shen-sha-item\">\n                <span class=\"label\">财神</span>\n                <span class=\"value\">{{ baziData.shenSha.caiShen }}</span>\n              </div>\n            </div>\n            \n            <!-- 本命神煞 -->\n            <div class=\"ben-ming-sha\" v-if=\"baziData.shenSha.benMing.length > 0\">\n              <h4>本命神煞</h4>\n              <div class=\"ben-ming-list\">\n                <span v-for=\"(sha, index) in baziData.shenSha.benMing\" :key=\"index\" class=\"ben-ming-item\">\n                  {{ sha }}\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class=\"shen-sha-info\" v-else>\n            <van-cell-group inset>\n              <van-cell title=\"神煞信息\" value=\"暂无数据\" />\n            </van-cell-group>\n          </div>\n          \n          <!-- 添加大运显示 -->\n          <h3>大运信息</h3>\n          <div class=\"da-yun-info\" v-if=\"baziData && baziData.daYun\">\n            <div class=\"qi-yun-info\">\n              <p>起运年龄: {{ baziData.daYun.startAge }}岁</p>\n              <p>起运年份: {{ baziData.daYun.startYear }}年</p>\n              <p>大运顺序: {{ baziData.daYun.isForward ? '顺行' : '逆行' }}</p>\n            </div>\n            \n            <!-- 大运列表 -->\n            <div class=\"da-yun-table\">\n              <table class=\"custom-table\">\n                <thead>\n                  <tr>\n                    <th>年龄</th>\n                    <th>年份</th>\n                    <th>天干</th>\n                    <th>地支</th>\n                    <th>纳音</th>\n                    <th>吉凶</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(yun, index) in baziData.daYun.daYunList\" :key=\"index\">\n                    <td>{{ yun.startAge }}-{{ yun.endAge }}</td>\n                    <td>{{ yun.startYear }}-{{ yun.endYear }}</td>\n                    <td>{{ yun.heavenlyStem }}</td>\n                    <td>{{ yun.earthlyBranch }}</td>\n                    <td>{{ yun.naYin }}</td>\n                    <td>{{ yun.jiXiong }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class=\"da-yun-info\" v-else>\n            <van-cell-group inset>\n              <van-cell title=\"大运信息\" value=\"暂无数据\" />\n            </van-cell-group>\n          </div>\n          \n          <h3>流年信息</h3>\n          <div class=\"liu-nian-info\" v-if=\"baziData && baziData.flowingYears && baziData.flowingYears.length\">\n            <table class=\"custom-table\">\n              <thead>\n                <tr>\n                  <th>年份</th>\n                  <th>年龄</th>\n                  <th>天干</th>\n                  <th>地支</th>\n                  <th>五行</th>\n                  <th>神煞</th>\n                  <th>吉凶</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(year, index) in baziData.flowingYears\" :key=\"index\">\n                  <td>{{ year.year }}</td>\n                  <td>{{ year.age }}</td>\n                  <td>{{ year.heavenlyStem }}</td>\n                  <td>{{ year.earthlyBranch }}</td>\n                  <td>{{ getElementName(year.ganElement) }}/{{ getElementName(year.zhiElement) }}</td>\n                  <td>{{ year.shenSha && Array.isArray(year.shenSha) ? year.shenSha.join(', ') : '无' }}</td>\n                  <td>{{ year.jiXiong || '未知' }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"liu-nian-info\" v-else>\n            <van-empty description=\"流年数据暂无\" />\n          </div>\n        </div>\n      </van-tab>\n      \n      <van-tab title=\"AI分析结果\">\n        <div class=\"ai-analysis\">\n          <div v-if=\"userAge !== null && userAge < 0\" class=\"age-notice\">\n            <van-notice-bar\n              color=\"#1989fa\"\n              background=\"#ecf9ff\"\n              left-icon=\"info-o\"\n            >\n              此分析针对未来出生的宝宝，重点关注性格特点、天赋才能和健康发展趋势。\n            </van-notice-bar>\n          </div>\n          <div v-else-if=\"userAge !== null && userAge < 6\" class=\"age-notice\">\n            <van-notice-bar\n              color=\"#1989fa\"\n              background=\"#ecf9ff\"\n              left-icon=\"info-o\"\n            >\n              此分析针对婴幼儿({{userAge}}岁)，重点关注性格特点、天赋才能和健康发展趋势。\n            </van-notice-bar>\n          </div>\n          <div v-else-if=\"userAge !== null && userAge < 18\" class=\"age-notice\">\n            <van-notice-bar\n              color=\"#1989fa\"\n              background=\"#ecf9ff\"\n              left-icon=\"info-o\"\n            >\n              此分析针对未成年人({{userAge}}岁)，重点关注性格特点、学业发展和健康状况。\n            </van-notice-bar>\n          </div>\n          \n          <!-- 添加全局分析状态提示 -->\n          <van-notice-bar\n            v-if=\"isAnalyzing\"\n            color=\"#1989fa\"\n            background=\"#ecf9ff\"\n            left-icon=\"info-o\"\n            :scrollable=\"false\"\n            class=\"analysis-progress-notice\"\n          >\n            <div class=\"analysis-progress\">\n              <p>AI正在生成八字分析结果，这可能需要30-60秒</p>\n              <van-progress :percentage=\"analyzeProgress\" :show-pivot=\"false\" color=\"#1989fa\" />\n            </div>\n          </van-notice-bar>\n          \n          <!-- 八字命局核心分析 -->\n          <div class=\"analysis-section\">\n            <h3>八字命局核心分析</h3>\n            <template v-if=\"!aiAnalysis.coreAnalysis || aiAnalysis.coreAnalysis === '暂无' || aiAnalysis.coreAnalysis.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else v-html=\"renderMarkdown(aiAnalysis.coreAnalysis)\" class=\"markdown-content\"></div>\n          </div>\n          \n          <!-- 五行旺衰与用神 -->\n          <div class=\"analysis-section\">\n            <h3>五行旺衰与用神</h3>\n            <template v-if=\"!aiAnalysis.fiveElements || aiAnalysis.fiveElements === '暂无' || aiAnalysis.fiveElements.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else v-html=\"renderMarkdown(aiAnalysis.fiveElements)\" class=\"markdown-content\"></div>\n          </div>\n          \n          <!-- 神煞解析 -->\n          <div class=\"analysis-section\">\n            <h3>神煞解析</h3>\n            <template v-if=\"!aiAnalysis.shenShaAnalysis || aiAnalysis.shenShaAnalysis === '暂无' || aiAnalysis.shenShaAnalysis.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else v-html=\"renderMarkdown(aiAnalysis.shenShaAnalysis)\" class=\"markdown-content\"></div>\n          </div>\n          \n          <!-- 大运与流年关键节点 -->\n          <div class=\"analysis-section\">\n            <h3>大运与流年关键节点</h3>\n            <template v-if=\"!aiAnalysis.keyPoints || aiAnalysis.keyPoints === '暂无' || aiAnalysis.keyPoints.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else v-html=\"renderMarkdown(aiAnalysis.keyPoints)\" class=\"markdown-content\"></div>\n          </div>\n          \n          <!-- 婚姻感情 -->\n          <div class=\"analysis-section\">\n            <h3>{{ userAge !== null && userAge >= 18 ? '婚姻感情' : '未来感情发展' }}</h3>\n            <template v-if=\"!aiAnalysis.relationship || aiAnalysis.relationship === '暂无' || aiAnalysis.relationship.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.relationship || followupAnalysis.marriage\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.relationship || followupAnalysis.marriage)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.relationship)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 事业财运 -->\n          <div class=\"analysis-section\">\n            <h3>{{ userAge !== null && userAge >= 18 ? '事业财运' : '未来事业财运' }}</h3>\n            <template v-if=\"!aiAnalysis.career || aiAnalysis.career === '暂无' || aiAnalysis.career.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.career || followupAnalysis.work || followupAnalysis.money || followupAnalysis.wealth\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.career || followupAnalysis.work || followupAnalysis.money || followupAnalysis.wealth)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.career)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 子女情况 -->\n          <div class=\"analysis-section\">\n            <h3>{{ userAge !== null && userAge >= 18 ? '子女情况' : '未来子女缘分' }}</h3>\n            <template v-if=\"!aiAnalysis.children || aiAnalysis.children === '暂无' || aiAnalysis.children.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.children || followupAnalysis.family\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.children || followupAnalysis.family)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.children)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 父母情况 -->\n          <div class=\"analysis-section\">\n            <h3>父母情况</h3>\n            <template v-if=\"!aiAnalysis.parents || aiAnalysis.parents === '暂无' || aiAnalysis.parents.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.parents\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.parents)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.parents)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 身体健康 -->\n          <div class=\"analysis-section\">\n            <h3>身体健康</h3>\n            <template v-if=\"!aiAnalysis.health || aiAnalysis.health === '暂无' || aiAnalysis.health.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.health\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.health)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.health)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 学业 -->\n          <div class=\"analysis-section\">\n            <h3>学业</h3>\n            <template v-if=\"!aiAnalysis.education || aiAnalysis.education === '暂无' || aiAnalysis.education.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.education || followupAnalysis.study\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.education || followupAnalysis.study)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.education)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 人际关系 -->\n          <div class=\"analysis-section\">\n            <h3>人际关系</h3>\n            <template v-if=\"!aiAnalysis.social || aiAnalysis.social === '暂无' || aiAnalysis.social.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.social || followupAnalysis.relationship || followupAnalysis.friends\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.social || followupAnalysis.relationship || followupAnalysis.friends)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.social)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n          \n          <!-- 近五年运势 -->\n          <div class=\"analysis-section\">\n            <h3>近五年运势</h3>\n            <template v-if=\"!aiAnalysis.future || aiAnalysis.future === '暂无' || aiAnalysis.future.includes('正在分析')\">\n              <div class=\"loading-content\">\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\n              </div>\n            </template>\n            <div v-else>\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\n              <div v-if=\"followupAnalysis.future || followupAnalysis.fiveYears\" class=\"enhanced-analysis\">\n                <div v-html=\"renderMarkdown(followupAnalysis.future || followupAnalysis.fiveYears)\" class=\"markdown-content\"></div>\n                <div class=\"analysis-source\">\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\n                </div>\n              </div>\n              <div v-else v-html=\"renderMarkdown(aiAnalysis.future)\" class=\"markdown-content\"></div>\n            </div>\n          </div>\n        </div>\n      </van-tab>\n    </van-tabs>\n    \n    <div class=\"action-buttons\">\n      <van-button type=\"primary\" block @click=\"downloadPDF\">\n        下载PDF报告\n      </van-button>\n      <van-button plain type=\"primary\" block style=\"margin-top: 10px;\" @click=\"shareResult\">\n        分享结果\n      </van-button>\n      \n      <!-- 本地生成PDF按钮 -->\n      <van-button plain type=\"info\" \n                  block \n                  style=\"margin-top: 10px;\" \n                  @click=\"handleLocalPDFGeneration\">\n        本地生成PDF\n      </van-button>\n      \n      <!-- 调试按钮 -->\n      <van-button plain type=\"warning\" \n                  block \n                  style=\"margin-top: 10px;\" \n                  @click=\"reloadBaziData\">\n        重新加载分析数据\n      </van-button>\n    </div>\n    \n    <!-- 添加追问部分 -->\n    <div class=\"followup-section\" v-if=\"baziData && !loading\">\n      <h2 class=\"section-title\">深度分析</h2>\n      <p class=\"section-desc\">选择您感兴趣的领域，进行深度分析</p>\n      \n      <div class=\"followup-options\">\n        <div \n          v-for=\"option in followupOptions\" \n          :key=\"option.id\" \n          class=\"followup-option\" \n          :class=\"{ 'paid': option.paid }\"\n          @click=\"selectFollowupOption(option)\"\n        >\n          <div class=\"option-content\">\n            <span class=\"option-name\">{{ option.name }}</span>\n            <span class=\"option-status\" v-if=\"option.paid\">已解锁</span>\n            <span class=\"option-status\" v-else>￥9.9</span>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 已支付的追问分析结果展示 -->\n      <div v-if=\"currentFollowup && currentFollowup.paid\" class=\"followup-result\">\n        <h3>{{ currentFollowup.name }}分析</h3>\n        <div v-if=\"isLoadingFollowup\" class=\"loading-content\">\n          <van-loading size=\"24px\" vertical>分析加载中...</van-loading>\n        </div>\n        <div v-else-if=\"!followupAnalysis[currentFollowup.id]\" class=\"loading-content\">\n          <van-empty description=\"分析结果尚未生成，请稍后刷新页面\" />\n          <van-button type=\"primary\" size=\"small\" @click=\"reloadFollowupAnalysis(currentFollowup.id)\">\n            刷新分析\n          </van-button>\n        </div>\n        <div v-else class=\"analysis-content\" v-html=\"renderMarkdown(followupAnalysis[currentFollowup.id])\"></div>\n      </div>\n    </div>\n    \n    <!-- 追问支付对话框 -->\n    <van-dialog\n      v-model:show=\"showFollowupDialog\"\n      title=\"深度分析\"\n      confirm-button-text=\"支付 ￥9.9\"\n      @confirm=\"payForFollowup\"\n      :before-close=\"() => !isLoadingFollowup\"\n    >\n      <div class=\"followup-dialog-content\">\n        <p>您选择了「{{ currentFollowup?.name }}」深度分析</p>\n        <p>支付后，AI将根据您的八字和流年运势，为您提供专业的命理分析</p>\n      </div>\n    </van-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, reactive, computed, watch, onUnmounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { Toast, Dialog } from 'vant';\nimport { jsPDF } from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport axios from 'axios';\nimport MarkdownIt from 'markdown-it';  // 添加markdown-it导入\n\n// 创建markdown解析器实例\nconst md = new MarkdownIt({\n  html: true,\n  breaks: true,\n  linkify: true,\n  typographer: true\n});\n\nconst route = useRoute();\nconst router = useRouter();\nconst resultId = ref(route.params.id || route.query.resultId);\nconst activeTab = ref(0);\nconst loading = ref(false);\n\n// 添加分析状态相关变量\nconst isAnalyzing = ref(false);\nconst analyzeProgress = ref(0);\nconst analyzeTimer = ref(null);\n\n// 渲染Markdown内容\nconst renderMarkdown = (content) => {\n  if (!content) return '';\n  try {\n    // 检查内容是否已经是HTML\n    if (content.includes('<') && content.includes('>') && content.includes('<div') || content.includes('<p>')) {\n      // 如果已经含有HTML标签，可能已经被渲染过，直接返回\n      return content;\n    }\n\n    // 预处理八字分析特殊格式\n    let processedContent = content;\n    \n    // 处理加粗文本 **文本**\n    processedContent = processedContent.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n    \n    // 处理分隔符 --\n    processedContent = processedContent.replace(/\\s*--\\s*/g, '<hr>');\n    \n    // 处理标题（以#开头的行）\n    processedContent = processedContent.replace(/^(#+)\\s+(.*?)$/gm, (match, hashes, text) => {\n      const level = Math.min(hashes.length, 6);\n      return `<h${level}>${text}</h${level}>`;\n    });\n    \n    // 处理列表（以-或数字开头的行）\n    processedContent = processedContent.replace(/^- (.*?)$/gm, '<li>$1</li>');\n    processedContent = processedContent.replace(/^(\\d+)\\. (.*?)$/gm, '<li>$1. $2</li>');\n    \n    // 将连续的<li>元素包装在<ul>或<ol>中\n    if (processedContent.includes('<li>')) {\n      // 简单检测是否含有数字列表\n      const hasNumberList = /^<li>\\d+\\./.test(processedContent);\n      const listTag = hasNumberList ? 'ol' : 'ul';\n      \n      // 将连续的<li>元素包装在列表标签中\n      processedContent = processedContent.replace(/(<li>.*?<\\/li>\\n*)+/g, match => {\n        return `<${listTag}>${match}</${listTag}>`;\n      });\n    }\n    \n    // 处理段落\n    if (!processedContent.includes('<p>')) {\n      const paragraphs = processedContent.split('\\n\\n');\n      processedContent = paragraphs.map(p => {\n        // 如果段落不是以HTML标签开头，则添加<p>标签\n        if (p.trim() && !p.trim().startsWith('<')) {\n          return `<p>${p}</p>`;\n        }\n        return p;\n      }).join('\\n');\n    }\n    \n    // 最后使用markdown-it处理任何剩余的Markdown标记\n    return md.render(processedContent);\n  } catch (e) {\n    console.error('Markdown渲染失败:', e);\n    return content; // 如果渲染失败，返回原始内容\n  }\n};\n\n// 用户年龄，从URL参数或localStorage获取\nconst userAge = ref(null);\n// 尝试从URL参数获取年龄\nif (route.query.age && !isNaN(parseInt(route.query.age))) {\n  userAge.value = parseInt(route.query.age);\n} \n// 如果URL参数中没有年龄，尝试从localStorage获取\nelse if (localStorage.getItem('userAge') && !isNaN(parseInt(localStorage.getItem('userAge')))) {\n  userAge.value = parseInt(localStorage.getItem('userAge'));\n}\n// 记录用户年龄到控制台，便于调试\nconsole.log('用户年龄:', userAge.value);\n\n// 从分析文本中提取特定部分内容\nconst getAnalysisContent = (sectionName) => {\n  try {\n    // 如果是性格特点或学业发展，直接从对应字段获取\n    if (sectionName === '性格特点' && aiAnalysis.value.personality) {\n      return aiAnalysis.value.personality;\n    }\n    \n    if (sectionName === '学业发展' && aiAnalysis.value.education) {\n      return aiAnalysis.value.education;\n    }\n    \n    // 处理健康分析文本，尝试提取学业、性格等内容\n    if (aiAnalysis.value.health) {\n      const healthText = aiAnalysis.value.health;\n      \n      // 查找各部分的标记\n      const sectionMatch = healthText.match(new RegExp(`###\\\\s*${sectionName}([\\\\s\\\\S]*?)(?=###|$)`, 'i'));\n      if (sectionMatch && sectionMatch[1]) {\n        return sectionMatch[1].trim();\n      }\n      \n      // 如果是未来发展，尝试从overall中提取\n      if (sectionName === '未来发展' && aiAnalysis.value.overall) {\n        const futureMatch = aiAnalysis.value.overall.match(/未来(\\d+)年[：:]([\\s\\S]*?)(?=（本分析|$)/i);\n        if (futureMatch && futureMatch[2]) {\n          return futureMatch[2].trim();\n        }\n      }\n    }\n    \n    // 如果没有找到对应部分或提取失败，返回空字符串\n    return '';\n  } catch (e) {\n    console.error(`提取${sectionName}内容时出错:`, e);\n    return '';\n  }\n};\n\n// 修改数据初始化\nconst focusAreas = ref([]);\nconst analysisResult = ref({});\n\n// 初始化八字数据\nconst baziData = ref({\n  yearPillar: { \n    heavenlyStem: '', \n    earthlyBranch: '',\n    naYin: '',\n    shiShen: '',\n    wangShuai: ''\n  },\n  monthPillar: { \n    heavenlyStem: '', \n    earthlyBranch: '',\n    naYin: '',\n    shiShen: '',\n    wangShuai: ''\n  },\n  dayPillar: { \n    heavenlyStem: '', \n    earthlyBranch: '',\n    naYin: '',\n    shiShen: '',\n    wangShuai: ''\n  },\n  hourPillar: { \n    heavenlyStem: '', \n    earthlyBranch: '',\n    naYin: '',\n    shiShen: '',\n    wangShuai: ''\n  },\n  fiveElements: {},\n  flowingYears: [],\n  shenSha: {\n    dayChong: '',\n    zhiShen: '',\n    xiShen: '',\n    fuShen: '',\n    caiShen: '',\n    benMing: [],\n    yearGan: [],\n    yearZhi: [],\n    dayGan: [],\n    dayZhi: []\n  },\n  daYun: {\n    startAge: 0,\n    startYear: 0,\n    isForward: true,\n    daYunList: []\n  },\n  birthDate: null,\n  birthTime: null,\n  gender: null\n});\n\n// 初始化分析数据\nconst aiAnalysis = ref({\n  health: '',\n  career: '',\n  relationship: '',\n  children: '',\n  social: '',\n  future: '',\n  parents: '',\n  education: '',\n  // 新增字段\n  coreAnalysis: '',\n  fiveElements: '',\n  shenShaAnalysis: '',\n  keyPoints: ''\n});\n\nconst testApiConnection = async () => {\n  try {\n    Toast.loading('正在测试API连接...');\n    // 使用配置好的http实例\n    const response = await axios.get('/');\n    console.log('API根路径响应:', response.data);\n    Toast.success('API连接成功');\n    return true;\n  } catch (error) {\n    console.error('API连接测试失败:', error);\n    Toast.fail('API连接失败，请检查后端服务');\n    return false;\n  }\n};\n\nonMounted(async () => {\n  // 先测试API连接\n  const isApiConnected = await testApiConnection();\n  if (!isApiConnected) {\n    console.warn('API连接失败，将使用模拟数据');\n    loading.value = false;\n    return;\n  }\n  \n  console.log('结果页面加载，URL参数中的ID:', resultId.value);\n  \n  // 如果没有resultId，尝试从本地存储获取\n  const localResultId = localStorage.getItem('resultId');\n  if (!resultId.value && localResultId) {\n    console.log('从本地存储获取ID:', localResultId);\n    // 更新resultId为从本地存储获取的值\n    resultId.value = localResultId;\n  }\n  \n  // 确保resultId是字符串类型，不是布尔值或其他数据类型\n  if (resultId.value === true || resultId.value === false) {\n    console.error('resultId不应该是布尔值:', resultId.value);\n    resultId.value = localResultId || route.query.resultId || '';\n  }\n  \n  console.log('最终使用的resultId:', resultId.value);\n  \n  // 如果resultId为空或无效，显示错误并尝试从URL查询参数获取\n  if (!resultId.value) {\n    console.error('缺少结果ID，无法获取分析结果');\n    \n    // 尝试从URL查询参数获取备选ID\n    const urlResultId = route.query.resultId;\n    if (urlResultId) {\n      console.log('从URL查询参数获取备选ID:', urlResultId);\n      resultId.value = urlResultId;\n    } else {\n      Toast.fail('缺少结果ID，无法获取分析结果');\n      loading.value = false;\n      return;\n    }\n  }\n  \n  // 存储确认的resultId到本地存储\n  localStorage.setItem('resultId', resultId.value);\n  \n  // 显示加载提示\n  Toast.loading({\n    message: '正在加载八字分析结果，请稍候...',\n    duration: 0,\n    forbidClick: true\n  });\n  \n  // 调用getBaziResult函数获取结果\n  await getBaziResult();\n  \n  // 检查分析是否完成\n  const stillAnalyzing = Object.values(aiAnalysis.value).some(\n    value => typeof value === 'string' && value.includes('正在分析')\n  );\n  \n  if (stillAnalyzing) {\n    console.log('检测到分析仍在进行中...');\n    Toast.loading({\n      message: '正在生成八字分析结果，这可能需要30-60秒...',\n      duration: 0\n    });\n    \n    // 启动轮询\n    await pollAnalysisStatus(resultId.value);\n    Toast.success('分析完成');\n  }\n  \n  // 关闭加载提示\n  Toast.clear();\n});\n\nconst getElementName = (element) => {\n  if (!element) return '--';\n  \n  const elementNames = {\n    'wood': '木',\n    'fire': '火',\n    'earth': '土',\n    'metal': '金',\n    'water': '水',\n    '木': '木',\n    '火': '火',\n    '土': '土',\n    '金': '金',\n    '水': '水'\n  };\n  \n  return elementNames[element] || element;\n};\n\nconst onClickLeft = () => {\n  router.push('/');\n};\n\n// 修改后的直接流下载函数，适应后端始终返回文件流\nconst downloadPDFAsStream = async () => {\n  Toast.loading({\n    message: '正在生成PDF并下载报告...',\n    duration: 0,\n    position: 'middle',\n    forbidClick: true\n  });\n  \n  if (!resultId.value) {\n    Toast.clear();\n    Toast.fail('缺少结果ID，无法下载报告');\n    return false;\n  }\n  \n  try {\n    console.log('直接下载报告, 结果ID:', resultId.value);\n    \n    // 创建下载链接，添加时间戳避免缓存问题和force参数强制重新生成\n    const timestamp = new Date().getTime();\n    // 默认启用markdown解析\n    const downloadUrl = `/api/bazi/pdf/${resultId.value}?t=${timestamp}&force=true&parseMarkdown=true`;\n    console.log('下载URL:', downloadUrl);\n    \n    // 使用fetch API获取文件流\n    const response = await fetch(downloadUrl, {\n      method: 'GET',\n      cache: 'no-cache',\n      headers: {\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        'Pragma': 'no-cache',\n        'Expires': '0'\n      }\n    });\n    \n    // 检查错误\n    if (!response.ok) {\n      let errorMsg = `下载失败: HTTP错误 ${response.status}`;\n      try {\n        const contentType = response.headers.get('content-type');\n        if (contentType && contentType.includes('application/json')) {\n          const errorData = await response.json();\n          errorMsg = errorData.message || errorMsg;\n        } else {\n          // 如果不是JSON格式的错误，尝试获取文本错误信息\n          const errorText = await response.text();\n          if (errorText) {\n            errorMsg = `下载失败: ${errorText.substring(0, 100)}`;\n          }\n        }\n      } catch (e) {\n        console.error('解析错误响应失败:', e);\n      }\n      throw new Error(errorMsg);\n    }\n    \n    // 检查内容类型\n    const contentType = response.headers.get('content-type');\n    const disposition = response.headers.get('content-disposition');\n    \n    console.log('响应内容类型:', contentType);\n    console.log('响应内容处置:', disposition);\n    \n    // 确定文件名和扩展名\n    let filename = `八字命理分析_${resultId.value}.pdf`;\n    if (disposition && disposition.includes('filename=')) {\n      const filenameMatch = disposition.match(/filename=[\"']?([^\"']+)[\"']?/);\n      if (filenameMatch && filenameMatch[1]) {\n        filename = filenameMatch[1];\n      }\n    }\n    \n    // 确定文件类型\n    const fileExtension = contentType && contentType.includes('html') ? 'html' : 'pdf';\n    if (!filename.endsWith(fileExtension)) {\n      filename = `八字命理分析_${resultId.value}.${fileExtension}`;\n    }\n    \n    // 转换为Blob对象\n    const blob = await response.blob();\n    console.log('PDF Blob大小:', blob.size, '字节');\n    \n    // 检查Blob大小 - 注意：当浏览器接管下载时，可能会导致blob.size为0\n    // 因此，如果有Content-Disposition头部，我们应该认为下载已经开始\n    const isDownloadStarted = disposition && disposition.includes('attachment');\n    if (blob.size === 0 && !isDownloadStarted) {\n      throw new Error('下载的文件为空');\n    }\n    \n    // 对于小文件，我们可以验证文件内容\n    // 但对于大文件或浏览器接管的下载，跳过验证\n    if (blob.size > 0 && blob.size < 1024*1024 && contentType && contentType.includes('pdf')) {\n      try {\n        // 读取文件头部以验证是否为有效的PDF\n        const fileReader = new FileReader();\n        const headerPromise = new Promise((resolve, reject) => {\n          fileReader.onloadend = (e) => resolve(e.target.result);\n          fileReader.onerror = (e) => reject(e);\n        });\n        fileReader.readAsArrayBuffer(blob.slice(0, 5));\n        \n        const header = await headerPromise;\n        const headerView = new Uint8Array(header);\n        const headerString = String.fromCharCode.apply(null, headerView);\n        \n        if (!headerString.startsWith('%PDF')) {\n          console.error('无效的PDF文件头:', headerString);\n          throw new Error('下载的不是有效的PDF文件');\n        } else {\n          console.log('PDF文件头验证通过');\n        }\n      } catch (e) {\n        console.error('验证PDF文件失败:', e);\n        // 如果是浏览器接管下载导致的验证失败，我们不抛出错误\n        if (!isDownloadStarted) {\n          throw new Error('验证PDF文件失败: ' + e.message);\n        } else {\n          console.warn('浏览器接管了下载，跳过PDF验证');\n        }\n      }\n    }\n    \n    // 不管浏览器是否已经接管下载，我们都手动创建一个下载链接\n    try {\n      // 创建下载链接\n      const url = window.URL.createObjectURL(blob);\n      console.log('创建Blob URL:', url);\n      \n      // 使用iframe方式下载，避免某些浏览器的下载拦截\n      const iframe = document.createElement('iframe');\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n      \n      // 创建a标签并触发下载\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `八字命理分析_${resultId.value}.pdf`; // 强制使用自定义文件名\n      a.target = '_blank';\n      a.rel = 'noopener noreferrer';\n      \n      // 在iframe中添加a标签并点击\n      iframe.contentWindow.document.body.appendChild(a);\n      console.log('触发下载, 文件名:', a.download);\n      a.click();\n      \n      // 清理\n      setTimeout(() => {\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(iframe);\n        console.log('清理下载资源完成');\n      }, 1000); // 增加延时确保下载开始\n    } catch (e) {\n      console.error('创建下载链接失败:', e);\n      \n      // 尝试使用window.open直接打开PDF\n      try {\n        console.log('尝试使用window.open方法下载');\n        const pdfWindow = window.open(downloadUrl, '_blank');\n        if (!pdfWindow) {\n          console.warn('弹出窗口被阻止，尝试其他方法');\n          // 提示用户直接打开链接\n          Dialog.alert({\n            title: '下载提示',\n            message: '系统无法自动下载PDF，请点击确定后手动保存文件',\n            confirmButtonText: '确定',\n          }).then(() => {\n            window.open(downloadUrl, '_blank');\n          });\n        }\n      } catch (openError) {\n        console.error('使用window.open下载失败:', openError);\n        throw new Error('下载失败，请尝试使用其他浏览器');\n      }\n    }\n    \n    Toast.clear();\n    Toast.success('报告下载成功');\n    return true;\n  } catch (error) {\n    console.error('直接下载PDF出错:', error);\n    Toast.clear();\n    \n    // 检查是否是因为浏览器已经接管了下载而导致的错误\n    if (error.message && (\n        error.message.includes('下载的文件为空') || \n        error.message.includes('验证PDF文件失败')\n      )) {\n      // 如果是这类错误，可能是浏览器已经开始下载，我们不显示错误\n      console.log('可能是浏览器已经接管了下载，不显示错误');\n      Toast.success('报告下载已开始，请等待浏览器完成下载');\n      return true;\n    }\n    \n    // 显示错误信息\n    Toast.fail(error.message || '下载失败，请稍后重试');\n    return false;\n  }\n};\n\n// 修改主下载函数，添加重试逻辑\nconst downloadPDF = async () => {\n  Toast.loading({\n    message: '正在准备生成PDF报告...',\n    duration: 5000,\n    position: 'middle'\n  });\n  \n  if (!resultId.value) {\n    Toast.fail('缺少结果ID，无法生成报告');\n    return;\n  }\n  \n  try {\n    // 先重新加载最新的数据，确保PDF包含最新的追问分析结果\n    Toast.loading({\n      message: '正在同步最新数据...',\n      duration: 5000\n    });\n    \n    // 获取最新的基础分析结果\n    await getBaziResult();\n    \n    // 获取最新的追问分析结果\n    await loadFollowupResults();\n    \n    Toast.loading({\n      message: '正在生成并下载PDF报告...',\n      duration: 5000\n    });\n    \n    // 最多尝试3次下载\n    let attempts = 0;\n    let success = false;\n    \n    while (attempts < 3 && !success) {\n      attempts++;\n      \n      if (attempts > 1) {\n        console.log(`尝试第${attempts}次下载...`);\n        Toast.loading({\n          message: `尝试第${attempts}次下载...`,\n          duration: 2000\n        });\n        // 在重试之前等待一段时间\n        await new Promise(resolve => setTimeout(resolve, 2000));\n      }\n      \n      // 使用流式下载模式，并处理返回值\n      success = await downloadPDFAsStream();\n      \n      // 如果流式下载成功，直接返回，不再尝试其他方法\n      if (success === true) {\n        return;\n      }\n    }\n    \n    // 如果多次尝试后仍然失败，提示用户\n    if (!success) {\n      Toast.clear();\n      Dialog.alert({\n        title: 'PDF下载失败',\n        message: '下载PDF报告失败，请稍后再试。如果问题持续存在，请联系客服。',\n      });\n    }\n  } catch (error) {\n    console.error('下载PDF过程中发生错误:', error);\n    Toast.clear();\n    Toast.fail('生成PDF报告失败: ' + (error.message || '未知错误'));\n  }\n};\n\n// 本地生成PDF的函数\nconst generatePDFLocally = async () => {\n  console.log('使用客户端jsPDF库生成PDF');\n  \n  // 获取内容元素\n  const element = document.querySelector('.result-container');\n  if (!element) {\n    throw new Error('找不到要转换的内容元素');\n  }\n  \n  Toast.loading({\n    message: '正在捕获页面内容...',\n    duration: 5000\n  });\n  \n  try {\n    // 在捕获内容前先应用Markdown格式（临时）\n    const sections = document.querySelectorAll('.analysis-section');\n    const originalContents = [];\n    \n    // 确保所有Markdown内容都已经被渲染为HTML\n    sections.forEach((section, index) => {\n      const contentElement = section.querySelector('p, .markdown-content');\n      if (contentElement && !contentElement.classList.contains('markdown-content')) {\n        originalContents.push({\n          element: contentElement,\n          content: contentElement.innerHTML\n        });\n        \n        // 如果内容中有Markdown语法但尚未渲染，则渲染它\n        if (contentElement.textContent.includes('**') || \n            contentElement.textContent.includes('##') ||\n            contentElement.textContent.includes('--') ||\n            contentElement.textContent.includes('- ')) {\n          contentElement.innerHTML = md.render(contentElement.textContent);\n          contentElement.classList.add('markdown-content-temp');\n        }\n      }\n    });\n    \n    // 使用html2canvas捕获内容\n    const canvas = await html2canvas(element, {\n      scale: 1,\n      useCORS: true,\n      logging: false,\n      windowWidth: document.documentElement.offsetWidth,\n      windowHeight: document.documentElement.offsetHeight,\n    });\n    \n    Toast.loading({\n      message: '正在生成PDF文件...',\n      duration: 5000\n    });\n        \n    // 创建PDF文档\n    const pdf = new jsPDF('p', 'mm', 'a4');\n        \n    // 计算尺寸和比例\n    const imgData = canvas.toDataURL('image/png');\n    const imgWidth = 210; // A4宽度，单位mm\n    const pageHeight = 297; // A4高度，单位mm\n    const imgHeight = canvas.height * imgWidth / canvas.width;\n    let heightLeft = imgHeight;\n    let position = 0;\n          \n    // 添加首页\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n    \n    // 如果内容超过一页，添加更多页\n    while (heightLeft > 0) {\n      position = heightLeft - imgHeight;\n      pdf.addPage();\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n    }\n    \n    // 添加页脚\n    const pageCount = pdf.internal.getNumberOfPages();\n    for (let i = 1; i <= pageCount; i++) {\n      pdf.setPage(i);\n      pdf.setFontSize(10);\n      pdf.setTextColor(150);\n      pdf.text(`八字命理AI分析报告 - 页 ${i} / ${pageCount}`, pdf.internal.pageSize.getWidth() / 2, pdf.internal.pageSize.getHeight() - 10, { align: 'center' });\n    }\n    \n    // 恢复原始内容\n    originalContents.forEach(item => {\n      if (item && item.element) {\n        item.element.innerHTML = item.content;\n        item.element.classList.remove('markdown-content-temp');\n      }\n    });\n    \n    // 保存PDF\n    pdf.save(`八字命理分析_${resultId.value}.pdf`);\n    \n    return true;\n  } catch (error) {\n    console.error('本地PDF生成错误:', error);\n    throw error;\n  }\n};\n\nconst shareResult = () => {\n  Toast.success('分享功能开发中');\n};\n\n// 处理本地PDF生成\nconst handleLocalPDFGeneration = async () => {\n  try {\n    Toast.loading({\n      message: '正在本地生成PDF...',\n      duration: 0,\n      forbidClick: true\n    });\n    \n    // 确保所有内容都已经渲染Markdown\n    const sections = document.querySelectorAll('.analysis-section');\n    const originalContents = [];\n    let needsRendering = false;\n    \n    // 检查是否有内容需要渲染\n    sections.forEach((section) => {\n      const contentElement = section.querySelector('p:not(.markdown-content)');\n      if (contentElement) {\n        needsRendering = true;\n      }\n    });\n    \n    // 如果需要渲染，先将所有内容进行Markdown渲染\n    if (needsRendering) {\n      console.log('检测到需要渲染Markdown内容');\n      sections.forEach((section) => {\n        const contentElements = section.querySelectorAll('p:not(.markdown-content)');\n        contentElements.forEach((element) => {\n          const text = element.textContent;\n          if (text && (\n            text.includes('**') || \n            text.includes('#') || \n            text.includes('-') || \n            text.includes('1.') ||\n            text.includes('\\n')\n          )) {\n            originalContents.push({\n              element: element,\n              content: element.innerHTML\n            });\n            element.innerHTML = md.render(text);\n            element.classList.add('markdown-content');\n            element.classList.add('temp-rendered');\n          }\n        });\n      });\n    }\n    \n    // 生成PDF\n    await generatePDFLocally();\n    \n    // 恢复原始内容\n    if (needsRendering) {\n      document.querySelectorAll('.temp-rendered').forEach((element) => {\n        const original = originalContents.find(item => item.element === element);\n        if (original) {\n          element.innerHTML = original.content;\n          element.classList.remove('markdown-content');\n          element.classList.remove('temp-rendered');\n        }\n      });\n    }\n    \n    Toast.clear();\n    Toast.success('本地PDF生成成功');\n  } catch (error) {\n    console.error('本地PDF生成失败:', error);\n    Toast.clear();\n    Toast.fail('本地PDF生成失败: ' + (error.message || '未知错误'));\n  }\n};\n\n// 添加分析状态检查函数\nconst checkAnalysisStatus = async (resultId) => {\n  try {\n    console.log('检查分析状态:', resultId);\n    const response = await axios.get(`/api/bazi/result/${resultId}`);\n    \n    if (response.data.code === 200) {\n      // 检查AI分析是否已经生成\n      const aiAnalysisData = response.data.data.aiAnalysis || {};\n      \n      // 统计已完成和正在分析的项目\n      let totalItems = 0;\n      let completedItems = 0;\n      \n      Object.entries(aiAnalysisData).forEach(([key, value]) => {\n        totalItems++;\n        if (!(typeof value === 'string' && value.includes('正在分析'))) {\n          completedItems++;\n        }\n      });\n      \n      // 更新进度\n      if (totalItems > 0) {\n        analyzeProgress.value = Math.floor((completedItems / totalItems) * 100);\n      }\n      \n      // 检查是否还有\"正在分析\"的内容\n      const stillAnalyzing = Object.values(aiAnalysisData).some(\n        value => typeof value === 'string' && value.includes('正在分析')\n      );\n      \n      isAnalyzing.value = stillAnalyzing;\n      \n      if (stillAnalyzing) {\n        console.log('分析仍在进行中...', `完成度: ${analyzeProgress.value}%`);\n        return false;\n      } else {\n        console.log('分析已完成');\n        return true;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('检查分析状态出错:', error);\n    return false;\n  }\n};\n\n// 添加轮询检查函数\nconst pollAnalysisStatus = async (resultId, maxAttempts = 30) => {\n  let attempts = 0;\n  \n  // 显示进度条\n  isAnalyzing.value = true;\n  \n  // 创建模拟进度，即使后端没有反馈也会看到进度在增加\n  if (analyzeTimer.value) clearInterval(analyzeTimer.value);\n  analyzeTimer.value = setInterval(() => {\n    if (analyzeProgress.value < 90) {\n      analyzeProgress.value += 2;\n    }\n  }, 2000);\n  \n  return new Promise((resolve) => {\n    const checkInterval = setInterval(async () => {\n      attempts++;\n      const isComplete = await checkAnalysisStatus(resultId);\n      \n      if (isComplete || attempts >= maxAttempts) {\n        clearInterval(checkInterval);\n        \n        // 清除模拟进度定时器\n        if (analyzeTimer.value) {\n          clearInterval(analyzeTimer.value);\n          analyzeTimer.value = null;\n        }\n        \n        if (isComplete) {\n          // 如果完成，确保进度显示100%\n          analyzeProgress.value = 100;\n          setTimeout(() => {\n            isAnalyzing.value = false;\n          }, 1000); // 短暂显示100%后隐藏进度条\n        }\n        \n        await getBaziResult(); // 最后再获取一次完整结果\n        Toast.clear();\n        resolve(isComplete);\n      }\n    }, 2000); // 每2秒检查一次\n  });\n};\n\n// 修改reloadBaziData函数，添加轮询逻辑\nconst reloadBaziData = async () => {\n  Toast.loading('正在重新加载数据...');\n  \n  try {\n    if (!resultId.value) {\n      Toast.fail('缺少结果ID');\n      return;\n    }\n    \n    console.log(`重新加载数据，结果ID: ${resultId.value}`);\n    \n    // 获取URL参数\n    const urlParams = new URLSearchParams(window.location.search);\n    \n    // 尝试使用模拟支付接口\n    try {\n      console.log('尝试使用模拟支付接口...');\n      \n      // 显示加载提示\n      Toast.loading({\n        message: '正在处理支付...',\n        duration: 0,\n        position: 'middle',\n        forbidClick: true\n      });\n      \n      // 准备请求数据\n      const requestData = {\n        birthDate: baziData.value.birthDate || urlParams.get('birthDate'),\n        birthTime: baziData.value.birthTime || urlParams.get('birthTime'),\n        gender: baziData.value.gender || urlParams.get('gender')\n      };\n      \n      console.log('请求数据:', requestData);\n      \n      // 发送模拟支付请求\n      const mockPaymentResponse = await axios.post(`/api/order/mock/pay/${resultId.value}`, requestData);\n      console.log('模拟支付响应:', mockPaymentResponse.data);\n      \n      if (mockPaymentResponse.data.code === 200) {\n        // 支付成功，显示成功提示\n        Toast.success('支付成功');\n        \n        // 使用返回的resultId重新加载数据\n        if (mockPaymentResponse.data.data && mockPaymentResponse.data.data.resultId) {\n          const newResultId = mockPaymentResponse.data.data.resultId;\n          console.log('获取到新的resultId:', newResultId);\n          \n          // 更新全局的resultId变量\n          resultId.value = newResultId;\n          // 还需要更新本地存储中的resultId\n          localStorage.setItem('resultId', newResultId);\n          \n          // 显示正在加载分析结果\n          Toast.loading({\n            message: '正在生成八字分析结果，这可能需要30-60秒...',\n            duration: 0,\n            position: 'middle',\n            forbidClick: true\n          });\n          \n          // 轮询检查分析状态\n          const analysisComplete = await pollAnalysisStatus(newResultId);\n          \n          if (analysisComplete) {\n            Toast.success('分析已完成');\n          } else {\n            Toast.success('已完成部分分析，显示可用结果');\n          }\n          \n          // 重新加载追问分析结果\n          await loadFollowupResults();\n          \n          return;\n        }\n      }\n    } catch (mockError) {\n      console.error('模拟支付失败:', mockError);\n      Toast.fail('重新加载失败: ' + (mockError.message || '未知错误'));\n      return;\n    }\n    \n    // 如果模拟支付失败，尝试直接获取结果\n    try {\n      Toast.loading({\n        message: '正在加载现有分析结果...',\n        duration: 0,\n        forbidClick: true\n      });\n      \n      const response = await axios.get(`/api/bazi/result/${resultId.value}`);\n      \n      if (response.data.code === 200) {\n        // 更新八字数据，使用空值合并运算符确保数据存在\n        baziData.value = {\n          yearPillar: response.data.data.baziChart?.yearPillar || null,\n          monthPillar: response.data.data.baziChart?.monthPillar || null,\n          dayPillar: response.data.data.baziChart?.dayPillar || null,\n          hourPillar: response.data.data.baziChart?.hourPillar || null,\n          fiveElements: response.data.data.baziChart?.fiveElements || null,\n          flowingYears: response.data.data.baziChart?.flowingYears || [],\n          shenSha: response.data.data.baziChart?.shenSha || baziData.value.shenSha,\n          daYun: response.data.data.baziChart?.daYun || baziData.value.daYun,\n          birthDate: response.data.data.baziChart?.birthDate || null,\n          birthTime: response.data.data.baziChart?.birthTime || null,\n          gender: response.data.data.baziChart?.gender || null\n        };\n        \n        // 更新AI分析结果\n        aiAnalysis.value = {\n          health: response.data.data.aiAnalysis?.health || '',\n          career: response.data.data.aiAnalysis?.career || '',\n          relationship: response.data.data.aiAnalysis?.relationship || '',\n          children: response.data.data.aiAnalysis?.children || '',\n          social: response.data.data.aiAnalysis?.social || '',\n          future: response.data.data.aiAnalysis?.future || '',\n          parents: response.data.data.aiAnalysis?.parents || '',\n          education: response.data.data.aiAnalysis?.education || '',\n          // 新增字段\n          coreAnalysis: response.data.data.aiAnalysis?.coreAnalysis || '',\n          fiveElements: response.data.data.aiAnalysis?.fiveElements || '',\n          shenShaAnalysis: response.data.data.aiAnalysis?.shenShaAnalysis || '',\n          keyPoints: response.data.data.aiAnalysis?.keyPoints || ''\n        };\n        \n        // 检查是否存在\"正在分析\"的内容\n        const stillAnalyzing = Object.values(aiAnalysis.value).some(\n          value => typeof value === 'string' && value.includes('正在分析')\n        );\n        \n        // 更新分析状态\n        isAnalyzing.value = stillAnalyzing;\n        \n        if (stillAnalyzing) {\n          console.log('分析仍在进行中...');\n          // 不显示Toast，因为我们已经有进度条显示\n        } else {\n          // 分析完成\n          analyzeProgress.value = 100;\n          setTimeout(() => {\n            isAnalyzing.value = false;\n          }, 1000);\n        }\n        \n        // 重新加载追问分析结果\n        console.log('重新加载追问分析结果...');\n        await loadFollowupResults();\n        \n        // 遍历所有已支付的追问选项，强制重新获取分析结果\n        const paidOptions = followupOptions.value.filter(option => option.paid);\n        if (paidOptions.length > 0) {\n          console.log('发现已支付的追问选项，强制重新获取:', paidOptions.map(o => o.id));\n          for (const option of paidOptions) {\n            await getFollowupAnalysis(option.id);\n          }\n        }\n        \n        Toast.success('数据刷新成功');\n      } else {\n        Toast.fail(response.data.message || '加载失败');\n      }\n    } catch (error) {\n      console.error('重新加载失败:', error);\n      Toast.fail('加载失败: ' + (error.message || '未知错误'));\n    }\n  } catch (error) {\n    console.error('重新加载失败:', error);\n    Toast.fail('加载失败: ' + (error.message || '未知错误'));\n  }\n};\n\n// 追问相关状态\nconst followupOptions = ref([\n  { id: 'marriage', name: '婚姻感情', selected: false, paid: false },\n  { id: 'career', name: '事业财运', selected: false, paid: false },\n  { id: 'children', name: '子女情况', selected: false, paid: false },\n  { id: 'parents', name: '父母情况', selected: false, paid: false },\n  { id: 'health', name: '身体健康', selected: false, paid: false },\n  { id: 'education', name: '学业', selected: false, paid: false },\n  { id: 'relationship', name: '人际关系', selected: false, paid: false },\n  { id: 'fiveYears', name: '近五年运势', selected: false, paid: false }\n]);\n\nconst currentFollowup = ref(null);\nconst showFollowupDialog = ref(false);\nconst followupAnalysis = ref({});\nconst isLoadingFollowup = ref(false);\n\n// 选择追问选项\nconst selectFollowupOption = async (option) => {\n  // 设置当前选择的追问选项\n  currentFollowup.value = option;\n  \n  // 如果已经支付过，直接显示结果\n  if (option.paid) {\n    console.log(`选择已支付的追问: ${option.id}`);\n    \n    // 如果已有分析结果，直接显示\n    if (followupAnalysis.value[option.id]) {\n      console.log(`已有${option.id}分析结果，直接显示`);\n      return;\n    }\n    \n    // 如果没有分析结果，尝试获取\n    console.log(`尝试获取${option.id}分析结果`);\n    Toast.loading({\n      message: '正在加载分析结果...',\n      duration: 0\n    });\n    \n    try {\n      // 尝试获取分析结果\n      const analysis = await getFollowupAnalysis(option.id);\n      if (analysis && typeof analysis === 'string' && analysis.length > 0) {\n        Toast.success('加载成功');\n        console.log(`成功获取${option.id}分析结果，长度: ${analysis.length}`);\n      } else {\n        Toast.fail('分析结果尚未生成完成，请稍后再试');\n        console.warn(`获取${option.id}分析结果失败或为空`);\n      }\n    } catch (error) {\n      console.error(`获取${option.id}分析失败:`, error);\n      Toast.fail('获取分析失败，请重试');\n    } finally {\n      Toast.clear();\n    }\n    \n    return;\n  }\n  \n  // 否则显示支付对话框\n  showFollowupDialog.value = true;\n};\n\n// 支付追问费用\nconst payForFollowup = async () => {\n  if (!currentFollowup.value) return;\n  \n  try {\n    isLoadingFollowup.value = true;\n    \n    // 第一步：创建订单\n    Toast.loading({\n      message: '正在创建订单...',\n      forbidClick: true,\n      duration: 0\n    });\n    \n    // 获取URL参数\n    const urlParams = new URLSearchParams(window.location.search);\n    \n    // 创建追问订单\n    const orderResponse = await axios.post('/api/order/create/followup', {\n      resultId: resultId.value,\n      area: currentFollowup.value.id\n    });\n    \n    if (orderResponse.data.code === 200) {\n      const followupOrderId = orderResponse.data.data.orderId;\n      console.log('追问订单创建成功:', followupOrderId);\n      \n      // 第二步：处理支付\n      Toast.loading({\n        message: '正在处理支付...',\n        forbidClick: true,\n        duration: 0\n      });\n      \n      // 模拟支付\n      const paymentResponse = await axios.post(`/api/order/mock/pay/${followupOrderId}`, {\n        birthDate: baziData.value?.birthDate || urlParams.get('birthDate'),\n        birthTime: baziData.value?.birthTime || urlParams.get('birthTime'),\n        gender: baziData.value?.gender || urlParams.get('gender'),\n        area: currentFollowup.value.id,\n        resultId: resultId.value\n      });\n      \n      if (paymentResponse.data.code === 200) {\n        console.log('追问支付成功:', paymentResponse.data);\n        Toast.success('支付成功');\n        \n        // 立即更新UI状态，将当前追问标记为已付费\n        const index = followupOptions.value.findIndex(o => o.id === currentFollowup.value.id);\n        if (index !== -1) {\n          followupOptions.value[index].paid = true;\n          followupOptions.value = [...followupOptions.value]; // 强制Vue更新\n        }\n        \n        // 第三步：加载分析结果\n        Toast.loading({\n          message: '正在生成分析结果，这可能需要30-60秒...',\n          forbidClick: true,\n          duration: 0\n        });\n        \n        // 获取并保存新的resultId（如果有的话）\n        if (paymentResponse.data.data && paymentResponse.data.data.resultId) {\n          const newResultId = paymentResponse.data.data.resultId;\n          console.log('获取到新的resultId:', newResultId);\n          // 更新全局的resultId变量\n          resultId.value = newResultId;\n          // 还需要更新本地存储中的resultId\n          localStorage.setItem('resultId', newResultId);\n        }\n        \n        // 轮询检查分析结果状态\n        const area = currentFollowup.value.id;\n        let isComplete = false;\n        let attempts = 0;\n        const maxAttempts = 60; // 最多等待120秒（60次 * 2秒）\n        \n        // 自定义轮询检查追问分析状态\n        const pollFollowupStatus = async () => {\n          console.log(`开始轮询追问分析状态: ${area}`);\n          \n          // 开始计时\n          const startTime = new Date().getTime();\n          const timeoutMs = 120000; // 120秒超时\n          \n          while (attempts < maxAttempts && !isComplete) {\n            attempts++;\n            try {\n              // 等待2秒\n              await new Promise(resolve => setTimeout(resolve, 2000));\n              \n              // 检查是否超时\n              const currentTime = new Date().getTime();\n              if (currentTime - startTime > timeoutMs) {\n                console.warn(`轮询追问分析状态超时: ${area}`);\n                break;\n              }\n              \n              // 检查追问分析结果\n              console.log(`尝试第${attempts}次获取追问分析: ${area}`);\n              const response = await axios.get(`/api/bazi/followup/${resultId.value}/${area}`);\n              \n              if (response.data.code === 200 && response.data.data && response.data.data.analysis) {\n                // 检查分析内容是否为\"正在分析\"\n                const analysis = response.data.data.analysis;\n                if (typeof analysis === 'string' && !analysis.includes('正在分析')) {\n                  console.log(`成功获取追问分析结果: ${area}`);\n                  isComplete = true;\n                  followupAnalysis.value[area] = analysis;\n                  break;\n                } else {\n                  console.log(`追问分析结果还在生成中: ${area}`);\n                }\n              }\n            } catch (error) {\n              // 只有非404错误才打印详细信息\n              if (!error.response || error.response.status !== 404) {\n                console.error('检查追问分析状态出错:', error);\n              }\n              \n              // 如果遇到404错误，表示追问分析尚未创建完毕\n              if (error.response && error.response.status === 404) {\n                console.log('追问分析尚未创建完毕，继续等待...');\n              } else if (attempts >= maxAttempts / 2) {\n                // 如果尝试次数超过一半且仍然失败，不要退出轮询，但记录错误\n                console.warn(`获取分析数据失败(${attempts}/${maxAttempts})，继续尝试...`);\n              }\n            }\n          }\n          \n          // 无论是否完成，都尝试获取最终结果\n          console.log(`轮询完成，最终尝试获取追问分析: ${area}`);\n          try {\n            const finalResult = await getFollowupAnalysis(area);\n            console.log(`最终获取追问分析结果: ${finalResult ? '成功' : '失败'}`);\n            return finalResult;\n          } catch (error) {\n            console.error('获取最终追问分析结果失败:', error);\n            // 如果分析结果仍然不可用，显示友好的错误信息\n            followupAnalysis.value[area] = \"分析正在处理中，请稍后刷新页面查看。\";\n            return null;\n          }\n        };\n        \n        // 开始轮询\n        const result = await pollFollowupStatus();\n        \n        // 更新UI\n        Toast.clear();\n        if (result) {\n          Toast.success('分析已完成');\n          \n          // 支付成功且分析完成后，切换到AI分析结果标签页显示结果\n          activeTab.value = 1; // 切换到AI分析结果标签\n          \n          // 滚动到相应分析部分\n          setTimeout(() => {\n            const sectionMap = {\n              'relationship': '婚姻感情',\n              'marriage': '婚姻感情',\n              'career': '事业财运',\n              'work': '事业财运',\n              'money': '事业财运',\n              'wealth': '事业财运',\n              'children': '子女情况',\n              'family': '子女情况',\n              'parents': '父母情况',\n              'health': '身体健康',\n              'education': '学业',\n              'study': '学业',\n              'social': '人际关系',\n              'friends': '人际关系',\n              'future': '近五年运势',\n              'fiveYears': '近五年运势'\n            };\n            \n            const targetTitle = sectionMap[currentFollowup.value.id];\n            if (targetTitle) {\n              // 查找并滚动到对应的分析部分\n              const sections = document.querySelectorAll('.analysis-section h3');\n              for (let i = 0; i < sections.length; i++) {\n                if (sections[i].textContent.includes(targetTitle)) {\n                  sections[i].scrollIntoView({ behavior: 'smooth', block: 'center' });\n                  \n                  // 高亮显示该部分\n                  const section = sections[i].parentElement;\n                  section.classList.add('highlight-section');\n                  setTimeout(() => {\n                    section.classList.remove('highlight-section');\n                  }, 3000);\n                  \n                  break;\n                }\n              }\n            }\n          }, 500);\n        } else {\n          Toast.success('正在生成分析，请稍后刷新查看');\n        }\n        \n        showFollowupDialog.value = false;\n        \n        // 确保界面刷新显示分析结果\n        setTimeout(() => {\n          const index = followupOptions.value.findIndex(o => o.id === currentFollowup.value.id);\n          if (index !== -1) {\n            // 强制更新\n            followupOptions.value = [...followupOptions.value];\n          }\n        }, 500);\n      } else {\n        Toast.fail('支付失败');\n      }\n    } else {\n      Toast.fail('创建订单失败');\n    }\n  } catch (error) {\n    console.error('追问支付过程出错:', error);\n    Toast.fail('处理失败，请重试');\n  } finally {\n    isLoadingFollowup.value = false;\n    Toast.clear();\n  }\n};\n\n// 获取追问分析结果\nconst getFollowupAnalysis = async (area) => {\n  loading.value = true;\n  try {\n    console.log(`开始获取[${area}]追问分析，结果ID: ${resultId.value}`);\n    const response = await axios.get(`/api/bazi/followup/${resultId.value}/${area}`);\n    \n    if (response.data.code === 200) {\n      console.log('获取追问分析成功，响应数据:', response.data);\n      console.log('响应data字段详情:', JSON.stringify(response.data.data));\n      \n      // 处理分析结果为null或空的情况\n      if (!response.data.data) {\n        console.warn(`追问分析结果data为空: ${area}`);\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析正在生成中，请稍后刷新页面查看。`;\n        followupAnalysis.value[area] = defaultMessage;\n        return defaultMessage;\n      }\n      \n      // 提取分析内容，处理不同的响应格式\n      let analysisContent = null;\n      \n      if (response.data.data.analysis) {\n        // 标准格式：{area, analysis}\n        analysisContent = response.data.data.analysis;\n        console.log(`获取到标准格式分析结果, 类型: ${typeof analysisContent}, 长度: ${analysisContent ? analysisContent.length : 0}`);\n      } else if (typeof response.data.data === 'string') {\n        // 直接字符串格式\n        analysisContent = response.data.data;\n        console.log(`获取到字符串格式分析结果, 长度: ${analysisContent.length}`);\n      } else if (response.data.data[area]) {\n        // 对象格式：{area1: \"分析1\", area2: \"分析2\"}\n        analysisContent = response.data.data[area];\n        console.log(`获取到对象格式分析结果, 长度: ${analysisContent ? analysisContent.length : 0}`);\n      } else {\n        // 尝试遍历所有属性，看是否有匹配的内容\n        console.log('尝试查找匹配内容，data的所有键:', Object.keys(response.data.data));\n        for (const key in response.data.data) {\n          if (key.toLowerCase() === area.toLowerCase() || \n             (area === 'fiveYears' && key === 'future') ||\n             (area === 'future' && key === 'fiveYears')) {\n            analysisContent = response.data.data[key];\n            console.log(`找到匹配的键[${key}]，内容长度: ${analysisContent ? analysisContent.length : 0}`);\n            break;\n          }\n        }\n      }\n      \n      // 检查分析结果是否为null或空\n      if (!analysisContent) {\n        console.warn(`无法从响应中提取有效分析内容: ${area}`);\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析尚未生成，请稍后刷新页面查看。`;\n        followupAnalysis.value[area] = defaultMessage;\n        return defaultMessage;\n      }\n      \n      // 检查分析结果是否是空字符串\n      if (typeof analysisContent === 'string' && analysisContent.trim() === '') {\n        console.warn(`追问分析结果为空字符串: ${area}`);\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析正在生成中，请稍后刷新页面查看。`;\n        followupAnalysis.value[area] = defaultMessage;\n        return defaultMessage;\n      }\n      \n      // 记录有效的分析结果\n      console.log(`获取到有效的[${area}]分析结果，长度: ${analysisContent.length}`);\n      \n      // 存储并返回分析结果\n      followupAnalysis.value[area] = analysisContent;\n      return analysisContent;\n    } else {\n      console.error('获取追问分析失败:', response.data);\n      const errorMessage = `获取分析失败: ${response.data.message || '未知错误'}`;\n      followupAnalysis.value[area] = errorMessage;\n      return errorMessage;\n    }\n  } catch (error) {\n    console.error('获取追问分析出错:', error);\n    const errorMessage = `获取分析出错: ${error.message || '请稍后重试'}`;\n    followupAnalysis.value[area] = errorMessage;\n    return errorMessage;\n  } finally {\n    loading.value = false;\n  }\n};\n\n// 检查已支付的追问\nconst checkPaidFollowups = async () => {\n  try {\n    const response = await axios.get(`/api/bazi/followup/list/${resultId.value}`);\n    \n    if (response.data.code === 200 && response.data.data.followups) {\n      const paidFollowups = response.data.data.followups;\n      \n      // 更新已支付的追问选项\n      followupOptions.value = followupOptions.value.map(option => {\n        const isPaid = paidFollowups.some(f => f.area === option.id);\n        if (isPaid) {\n          // 如果已支付，获取分析结果\n          getFollowupAnalysis(option.id);\n        }\n        return { ...option, paid: isPaid };\n      });\n    }\n  } catch (error) {\n    console.error('检查已支付追问出错:', error);\n  }\n};\n\n// 修改getBaziResult函数\nconst getBaziResult = async () => {\n  loading.value = true;\n  try {\n    console.log('获取八字分析结果，ID:', resultId.value);\n    const response = await axios.get(`/api/bazi/result/${resultId.value}`);\n    console.log('八字分析结果:', response.data);\n    \n    if (response.data.code === 200 && response.data.data) {\n      // 更新八字数据，使用深度合并确保数据结构完整\n      if (response.data.data.baziChart) {\n        baziData.value = {\n          yearPillar: response.data.data.baziChart.yearPillar || baziData.value.yearPillar,\n          monthPillar: response.data.data.baziChart.monthPillar || baziData.value.monthPillar,\n          dayPillar: response.data.data.baziChart.dayPillar || baziData.value.dayPillar,\n          hourPillar: response.data.data.baziChart.hourPillar || baziData.value.hourPillar,\n          fiveElements: response.data.data.baziChart.fiveElements || baziData.value.fiveElements,\n          flowingYears: response.data.data.baziChart.flowingYears || [],\n          shenSha: response.data.data.baziChart.shenSha || baziData.value.shenSha,\n          daYun: response.data.data.baziChart.daYun || baziData.value.daYun,\n          birthDate: response.data.data.baziChart.birthDate || null,\n          birthTime: response.data.data.baziChart.birthTime || null,\n          gender: response.data.data.baziChart.gender || null\n        };\n      } else {\n        console.warn('响应中缺少baziChart数据');\n        Toast.fail('数据格式不正确');\n      }\n      \n      // 更新AI分析结果\n      if (response.data.data.aiAnalysis) {\n        aiAnalysis.value = {\n          health: response.data.data.aiAnalysis.health || '',\n          career: response.data.data.aiAnalysis.career || '',\n          relationship: response.data.data.aiAnalysis.relationship || '',\n          children: response.data.data.aiAnalysis.children || '',\n          social: response.data.data.aiAnalysis.social || '',\n          future: response.data.data.aiAnalysis.future || '',\n          parents: response.data.data.aiAnalysis.parents || '',\n          education: response.data.data.aiAnalysis.education || '',\n          // 新增字段\n          coreAnalysis: response.data.data.aiAnalysis.coreAnalysis || '',\n          fiveElements: response.data.data.aiAnalysis.fiveElements || '',\n          shenShaAnalysis: response.data.data.aiAnalysis.shenShaAnalysis || '',\n          keyPoints: response.data.data.aiAnalysis.keyPoints || ''\n        };\n      }\n      \n      // 初始化追问选项\n      initFollowupOptions();\n      \n      // 加载已支付的追问分析结果\n      await loadFollowupResults();\n      \n      Toast.success('分析结果加载成功');\n    } else {\n      console.error('获取八字分析结果失败:', response.data.message);\n      Toast.fail(response.data.message || '获取分析结果失败');\n    }\n  } catch (error) {\n    console.error('获取八字分析结果出错:', error);\n    Toast.fail('获取分析结果失败，请稍后再试');\n  } finally {\n    loading.value = false;\n  }\n};\n\n// 添加缺失的函数\n// 初始化追问选项\nconst initFollowupOptions = () => {\n  // 根据用户年龄调整追问选项\n  if (userAge.value !== null) {\n    if (userAge.value < 6) {\n      // 为婴幼儿调整选项\n      followupOptions.value = followupOptions.value.filter(option => \n        ['health', 'personality', 'education', 'parents'].includes(option.id)\n      );\n    } else if (userAge.value < 18) {\n      // 为未成年人调整选项\n      followupOptions.value = followupOptions.value.filter(option => \n        !['marriage', 'career'].includes(option.id)\n      );\n    }\n  }\n  \n  console.log('初始化追问选项完成:', followupOptions.value);\n};\n\n// 加载已支付的追问分析结果\nconst loadFollowupResults = async () => {\n  try {\n    // 检查是否有结果ID\n    if (!resultId.value) {\n      console.warn('缺少结果ID，无法加载追问分析');\n      return;\n    }\n    \n    console.log('开始加载追问分析结果列表:', resultId.value);\n    \n    // 调用API获取已支付的追问列表\n    const response = await axios.get(`/api/bazi/followup/list/${resultId.value}`);\n    \n    if (response.data.code === 200 && response.data.data.followups) {\n      const paidFollowups = response.data.data.followups;\n      console.log('获取到的追问列表:', paidFollowups);\n      \n      // 更新已支付的追问选项\n      followupOptions.value = followupOptions.value.map(option => {\n        // 检查是否有匹配的追问分析\n        const isPaid = paidFollowups.some(f => {\n          // 尝试多种匹配方式\n          if (typeof f === 'object') {\n            // 对象格式：检查area字段\n            return f.area === option.id;\n          } else if (typeof f === 'string') {\n            // 字符串格式：直接比较\n            return f === option.id;\n          }\n          return false;\n        });\n        \n        if (isPaid) {\n          console.log(`发现已支付的追问: ${option.id}`);\n          // 如果已支付，获取分析结果\n          getFollowupAnalysis(option.id);\n        }\n        \n        return { ...option, paid: isPaid };\n      });\n      \n      console.log('更新后的追问选项:', followupOptions.value);\n    } else {\n      console.warn('获取追问列表失败或返回空列表');\n    }\n  } catch (error) {\n    console.error('加载追问分析结果出错:', error);\n    // 出错时不显示错误提示，静默失败\n  }\n};\n\n// 解析八字数据\nconst parseBaZiData = (data) => {\n  if (!data) return null;\n  \n  return {\n    yearPillar: data.yearPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\n    monthPillar: data.monthPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\n    dayPillar: data.dayPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\n    hourPillar: data.hourPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\n    shenSha: data.shenSha || {\n      dayChong: '未知',\n      zhiShen: '未知',\n      pengZuGan: '未知',\n      pengZuZhi: '未知',\n      xiShen: '未知',\n      fuShen: '未知',\n      caiShen: '未知',\n      benMing: [],\n      yearGan: [],\n      yearZhi: [],\n      dayGan: [],\n      dayZhi: []\n    },\n    daYun: data.daYun || {\n      startAge: 0,\n      startYear: 0,\n      isForward: true,\n      daYunList: []\n    },\n    flowingYears: data.flowingYears || []\n  };\n};\n\n// 添加分析状态检测函数\nconst isAnalysisItemLoading = (key) => {\n  if (!aiAnalysis.value) return true;\n  const value = aiAnalysis.value[key];\n  return !value || value === '暂无' || (value.includes && value.includes('正在分析'));\n};\n\n// 清理组件时移除定时器\nonUnmounted(() => {\n  if (analyzeTimer.value) {\n    clearInterval(analyzeTimer.value);\n    analyzeTimer.value = null;\n  }\n});\n\n// 刷新特定追问的分析结果\nconst reloadFollowupAnalysis = async (area) => {\n  if (!area) return;\n  \n  try {\n    isLoadingFollowup.value = true;\n    Toast.loading({\n      message: '正在刷新分析结果...',\n      duration: 0\n    });\n    \n    console.log(`刷新${area}分析结果`);\n    const analysis = await getFollowupAnalysis(area);\n    \n    if (analysis && typeof analysis === 'string' && analysis.length > 0) {\n      Toast.success('刷新成功');\n      console.log(`成功刷新${area}分析结果，长度: ${analysis.length}`);\n    } else {\n      Toast.fail('分析结果尚未生成完成');\n      console.warn(`刷新${area}分析结果失败或为空`);\n    }\n  } catch (error) {\n    console.error(`刷新${area}分析失败:`, error);\n    Toast.fail('刷新失败，请重试');\n  } finally {\n    isLoadingFollowup.value = false;\n    Toast.clear();\n  }\n};\n</script>\n\n<style scoped>\n.result-container {\n  padding-bottom: 20px;\n}\n\n.result-header {\n  text-align: center;\n  padding: 20px 0;\n  background-color: #f2f3f5;\n}\n\n.result-header h2 {\n  margin: 0;\n  font-size: 20px;\n  color: #323233;\n}\n\n.result-header p {\n  margin: 10px 0 0;\n  font-size: 14px;\n  color: #969799;\n}\n\n.bazi-chart {\n  padding: 20px 16px;\n}\n\n.bazi-chart h3 {\n  margin: 20px 0 10px;\n  color: #323233;\n}\n\n.four-pillars {\n  display: flex;\n  justify-content: space-around;\n  margin: 20px 0;\n}\n\n.pillar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #f5f7fa;\n  padding: 10px;\n  border-radius: 8px;\n  width: 80px;\n}\n\n.stem, .branch {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  margin: 4px 0;\n  border-radius: 4px;\n}\n\n.stem {\n  background: #1989fa;\n  color: white;\n}\n\n.branch {\n  background: #07c160;\n  color: white;\n}\n\n.label {\n  font-size: 12px;\n  color: #646566;\n  margin-top: 4px;\n}\n\n.nayin, .shishen, .wangshuai {\n  font-size: 12px;\n  color: #323233;\n  margin-top: 4px;\n}\n\n.five-elements {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n}\n\n.element {\n  text-align: center;\n  flex: 1;\n}\n\n.element-name {\n  font-size: 14px;\n  color: #323233;\n}\n\n.element-value {\n  font-size: 18px;\n  font-weight: bold;\n  color: #1989fa;\n  margin-top: 5px;\n}\n\n.flowing-years {\n  margin: 20px 0;\n}\n\n.ai-analysis {\n  padding: 20px 16px;\n}\n\n.analysis-section {\n  margin-bottom: 20px;\n}\n\n.analysis-section h3 {\n  margin: 0 0 10px;\n  color: #323233;\n}\n\n.analysis-section p {\n  margin: 0;\n  font-size: 14px;\n  color: #646566;\n  line-height: 1.6;\n}\n\n.action-buttons {\n  padding: 20px 16px;\n}\n\n.age-notice {\n  margin-bottom: 20px;\n}\n\n.shen-sha-info {\n  margin-bottom: 20px;\n}\n\n.da-yun-info {\n  margin-bottom: 20px;\n}\n\n.qi-yun-info {\n  margin: 0 0 10px;\n  font-size: 14px;\n  color: #646566;\n}\n\n.da-yun-table {\n  margin-top: 10px;\n}\n\n.placeholder {\n  background-color: #f2f3f5;\n  color: #969799;\n}\n\n/* 追问部分样式 */\n.followup-section {\n  margin-top: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 8px;\n}\n\n.section-title {\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  color: #333;\n}\n\n.section-desc {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 15px;\n}\n\n.followup-options {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n}\n\n.followup-option {\n  background-color: #f5f7fa;\n  border-radius: 8px;\n  padding: 15px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.followup-option:hover {\n  background-color: #e8f0fe;\n}\n\n.followup-option.paid {\n  background-color: #e6f7ff;\n  border: 1px solid #91d5ff;\n}\n\n.option-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.option-name {\n  font-size: 15px;\n  font-weight: 500;\n}\n\n.option-status {\n  font-size: 13px;\n  color: #ff6b00;\n}\n\n.followup-option.paid .option-status {\n  color: #52c41a;\n}\n\n.followup-result {\n  margin-top: 20px;\n  padding: 15px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  border-left: 4px solid #1989fa;\n}\n\n.followup-result h3 {\n  font-size: 16px;\n  margin-bottom: 10px;\n  color: #333;\n}\n\n.analysis-content {\n  font-size: 14px;\n  line-height: 1.6;\n  color: #333;\n  white-space: pre-wrap;\n}\n\n.followup-dialog-content {\n  padding: 15px;\n  text-align: center;\n}\n\n/* 添加表格样式 */\n.custom-table {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  margin: 10px 0;\n  background-color: #fff;\n  color: #323233;\n  font-size: 14px;\n}\n\n.custom-table th,\n.custom-table td {\n  padding: 8px 12px;\n  border-bottom: 1px solid #ebedf0;\n  text-align: center;\n}\n\n.custom-table th {\n  font-weight: 500;\n  background-color: #f7f8fa;\n  color: #646566;\n}\n\n.custom-table tr:hover {\n  background-color: #f2f3f5;\n}\n\n/* 添加分析状态相关样式 */\n.analysis-progress-notice {\n  margin: 10px 16px;\n  border-radius: 8px;\n}\n\n.analysis-progress {\n  width: 100%;\n}\n\n.analysis-progress p {\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: #1989fa;\n}\n\n.loading-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px 0;\n  background-color: #f7f8fa;\n  border-radius: 8px;\n  margin: 10px 0;\n}\n\n.enhanced-analysis {\n  margin-bottom: 10px;\n  padding: 10px;\n  border-left: 3px solid #1989fa;\n  background-color: #f8f9ff;\n  border-radius: 4px;\n}\n\n.enhanced-analysis p {\n  color: #333;\n  line-height: 1.6;\n  white-space: pre-wrap;\n  margin-bottom: 8px;\n}\n\n.analysis-source {\n  text-align: right;\n  margin-top: 8px;\n}\n\n/* 高亮效果 */\n@keyframes highlight-pulse {\n  0% { box-shadow: 0 0 0 0 rgba(25, 137, 250, 0.7); }\n  70% { box-shadow: 0 0 0 10px rgba(25, 137, 250, 0); }\n  100% { box-shadow: 0 0 0 0 rgba(25, 137, 250, 0); }\n}\n\n.highlight-section {\n  animation: highlight-pulse 1.5s ease-in-out;\n  background-color: rgba(25, 137, 250, 0.08);\n  border-radius: 8px;\n  transition: background-color 0.5s ease;\n}\n\n.markdown-content {\n  white-space: pre-wrap;\n  line-height: 1.6;\n  font-size: 14px;\n  color: #333;\n}\n\n.markdown-content h1, \n.markdown-content h2, \n.markdown-content h3, \n.markdown-content h4, \n.markdown-content h5, \n.markdown-content h6 {\n  margin-top: 1em;\n  margin-bottom: 0.5em;\n  font-weight: bold;\n  color: #333;\n}\n\n.markdown-content h1 {\n  font-size: 1.8em;\n}\n\n.markdown-content h2 {\n  font-size: 1.5em;\n}\n\n.markdown-content h3 {\n  font-size: 1.3em;\n}\n\n.markdown-content h4 {\n  font-size: 1.1em;\n}\n\n.markdown-content p {\n  margin-bottom: 1em;\n}\n\n.markdown-content ul, \n.markdown-content ol {\n  margin-left: 2em;\n  margin-bottom: 1em;\n}\n\n.markdown-content ul {\n  list-style-type: disc;\n}\n\n.markdown-content ol {\n  list-style-type: decimal;\n}\n\n.markdown-content li {\n  margin-bottom: 0.5em;\n}\n\n.markdown-content strong {\n  font-weight: bold;\n}\n\n.markdown-content em {\n  font-style: italic;\n}\n\n.markdown-content blockquote {\n  border-left: 4px solid #ddd;\n  padding-left: 1em;\n  margin-left: 0;\n  color: #666;\n}\n\n.markdown-content hr {\n  height: 1px;\n  background-color: #ddd;\n  border: none;\n  margin: 1.5em 0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}