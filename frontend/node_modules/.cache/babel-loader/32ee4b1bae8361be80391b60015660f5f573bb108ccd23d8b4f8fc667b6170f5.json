{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"result-container\"\n};\nconst _hoisted_2 = {\n  class: \"bazi-chart\"\n};\nconst _hoisted_3 = {\n  class: \"pillar\"\n};\nconst _hoisted_4 = {\n  class: \"stem\"\n};\nconst _hoisted_5 = {\n  class: \"branch\"\n};\nconst _hoisted_6 = {\n  class: \"pillar\"\n};\nconst _hoisted_7 = {\n  class: \"stem\"\n};\nconst _hoisted_8 = {\n  class: \"branch\"\n};\nconst _hoisted_9 = {\n  class: \"pillar\"\n};\nconst _hoisted_10 = {\n  class: \"stem\"\n};\nconst _hoisted_11 = {\n  class: \"branch\"\n};\nconst _hoisted_12 = {\n  class: \"pillar\"\n};\nconst _hoisted_13 = {\n  class: \"stem\"\n};\nconst _hoisted_14 = {\n  class: \"branch\"\n};\nconst _hoisted_15 = {\n  class: \"five-elements\"\n};\nconst _hoisted_16 = {\n  class: \"element-name\"\n};\nconst _hoisted_17 = {\n  class: \"element-value\"\n};\nconst _hoisted_18 = {\n  class: \"flowing-years\"\n};\nconst _hoisted_19 = {\n  class: \"ai-analysis\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"analysis-section\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"analysis-section\"\n};\nconst _hoisted_22 = {\n  key: 2,\n  class: \"analysis-section\"\n};\nconst _hoisted_23 = {\n  key: 3,\n  class: \"analysis-section\"\n};\nconst _hoisted_24 = {\n  key: 4,\n  class: \"analysis-section\"\n};\nconst _hoisted_25 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_26 = {\n  class: \"action-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_grid_item = _resolveComponent(\"van-grid-item\");\n  const _component_van_grid = _resolveComponent(\"van-grid\");\n  const _component_van_step = _resolveComponent(\"van-step\");\n  const _component_van_steps = _resolveComponent(\"van-steps\");\n  const _component_van_tab = _resolveComponent(\"van-tab\");\n  const _component_van_tabs = _resolveComponent(\"van-tabs\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_nav_bar, {\n    title: \"八字分析结果\",\n    \"left-text\": \"返回\",\n    \"left-arrow\": \"\",\n    onClickLeft: $setup.onClickLeft\n  }), _cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"result-header\"\n  }, [_createElementVNode(\"h2\", null, \"您的八字命盘分析\"), _createElementVNode(\"p\", null, \"基于您的出生信息，AI为您提供的个性化人生指导\")], -1 /* HOISTED */)), _createVNode(_component_van_tabs, {\n    modelValue: $setup.activeTab,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.activeTab = $event),\n    sticky: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_van_tab, {\n      title: \"命盘信息\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h3\", null, \"八字命盘\", -1 /* HOISTED */)), _createVNode(_component_van_grid, {\n        \"column-num\": 4,\n        border: false\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.baziData.yearPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.baziData.yearPillar.earthlyBranch), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"年柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.baziData.monthPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($setup.baziData.monthPillar.earthlyBranch), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"月柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString($setup.baziData.dayPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.baziData.dayPillar.earthlyBranch), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"日柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString($setup.baziData.hourPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.baziData.hourPillar.earthlyBranch), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"时柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"五行分布\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.fiveElements, (value, element) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"element\",\n          key: element\n        }, [_createElementVNode(\"div\", _hoisted_16, _toDisplayString($setup.getElementName(element)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_17, _toDisplayString(value), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))]), _cache[8] || (_cache[8] = _createElementVNode(\"h3\", null, \"大运流年\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_18, [_createVNode(_component_van_steps, {\n        direction: \"horizontal\",\n        active: 2\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.flowingYears.slice(0, 5), (year, index) => {\n          return _openBlock(), _createBlock(_component_van_step, {\n            key: index\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(year.year) + \"年\", 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(year.heavenlyStem) + _toDisplayString(year.earthlyBranch), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */,\n            __: [5]\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })])])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_van_tab, {\n      title: \"AI分析结果\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [$setup.focusAreas.includes('health') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"身体健康\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.health), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.focusAreas.includes('wealth') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, \"财运分析\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.wealth), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.focusAreas.includes('career') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_cache[11] || (_cache[11] = _createElementVNode(\"h3\", null, \"事业发展\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.career), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.focusAreas.includes('relationship') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_cache[12] || (_cache[12] = _createElementVNode(\"h3\", null, \"婚姻感情\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.relationship), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $setup.focusAreas.includes('children') ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"子女缘分\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.children), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_25, [_cache[14] || (_cache[14] = _createElementVNode(\"h3\", null, \"综合建议\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.overall), 1 /* TEXT */)])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_26, [_createVNode(_component_van_button, {\n    type: \"primary\",\n    block: \"\",\n    onClick: $setup.downloadPDF\n  }, {\n    default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\" 下载PDF报告 \")])),\n    _: 1 /* STABLE */,\n    __: [15]\n  }), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"primary\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.shareResult\n  }, {\n    default: _withCtx(() => _cache[16] || (_cache[16] = [_createTextVNode(\" 分享结果 \")])),\n    _: 1 /* STABLE */,\n    __: [16]\n  }), _createCommentVNode(\" 调试按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"warning\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.reloadBaziData\n  }, {\n    default: _withCtx(() => _cache[17] || (_cache[17] = [_createTextVNode(\" 重新加载分析数据 \")])),\n    _: 1 /* STABLE */,\n    __: [17]\n  }), _createCommentVNode(\" 本地PDF生成按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"success\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.generateLocalPDFOnly\n  }, {\n    default: _withCtx(() => _cache[18] || (_cache[18] = [_createTextVNode(\" 本地生成PDF报告 \")])),\n    _: 1 /* STABLE */,\n    __: [18]\n  })])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_createElementVNode","_component_van_tabs","modelValue","activeTab","_cache","$event","sticky","default","_withCtx","_component_van_tab","_hoisted_2","_component_van_grid","border","_component_van_grid_item","_hoisted_3","_hoisted_4","_toDisplayString","baziData","yearPillar","heavenlyStem","_hoisted_5","earthlyBranch","_","_hoisted_6","_hoisted_7","monthPillar","_hoisted_8","_hoisted_9","_hoisted_10","dayPillar","_hoisted_11","_hoisted_12","_hoisted_13","hourPillar","_hoisted_14","_hoisted_15","_Fragment","_renderList","fiveElements","value","element","_hoisted_16","getElementName","_hoisted_17","_hoisted_18","_component_van_steps","direction","active","flowingYears","slice","year","index","_createBlock","_component_van_step","_createTextVNode","__","_hoisted_19","focusAreas","includes","_hoisted_20","aiAnalysis","health","_createCommentVNode","_hoisted_21","wealth","_hoisted_22","career","_hoisted_23","relationship","_hoisted_24","children","_hoisted_25","overall","_hoisted_26","_component_van_button","type","block","onClick","downloadPDF","plain","style","shareResult","reloadBaziData","generateLocalPDFOnly"],"sources":["C:\\Users\\Administrator\\Desktop\\开发八字命理AI指导功能页码\\frontend\\src\\Result.vue"],"sourcesContent":["<template>\n  <div class=\"result-container\">\n    <van-nav-bar\n      title=\"八字分析结果\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"result-header\">\n      <h2>您的八字命盘分析</h2>\n      <p>基于您的出生信息，AI为您提供的个性化人生指导</p>\n    </div>\n    \n    <van-tabs v-model=\"activeTab\" sticky>\n      <van-tab title=\"命盘信息\">\n        <div class=\"bazi-chart\">\n          <h3>八字命盘</h3>\n          <van-grid :column-num=\"4\" :border=\"false\">\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.yearPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.yearPillar.earthlyBranch }}</div>\n                  <div class=\"label\">年柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.monthPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.monthPillar.earthlyBranch }}</div>\n                  <div class=\"label\">月柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.dayPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.dayPillar.earthlyBranch }}</div>\n                  <div class=\"label\">日柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.hourPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.hourPillar.earthlyBranch }}</div>\n                  <div class=\"label\">时柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n          </van-grid>\n          \n          <h3>五行分布</h3>\n          <div class=\"five-elements\">\n            <div class=\"element\" v-for=\"(value, element) in baziData.fiveElements\" :key=\"element\">\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\n              <div class=\"element-value\">{{ value }}</div>\n            </div>\n          </div>\n          \n          <h3>大运流年</h3>\n          <div class=\"flowing-years\">\n            <van-steps direction=\"horizontal\" :active=\"2\">\n              <van-step v-for=\"(year, index) in baziData.flowingYears.slice(0, 5)\" :key=\"index\">\n                {{ year.year }}年<br>\n                {{ year.heavenlyStem }}{{ year.earthlyBranch }}\n              </van-step>\n            </van-steps>\n          </div>\n        </div>\n      </van-tab>\n      \n      <van-tab title=\"AI分析结果\">\n        <div class=\"ai-analysis\">\n          <template v-if=\"focusAreas.includes('health')\">\n            <div class=\"analysis-section\">\n              <h3>身体健康</h3>\n              <p>{{ aiAnalysis.health }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('wealth')\">\n            <div class=\"analysis-section\">\n              <h3>财运分析</h3>\n              <p>{{ aiAnalysis.wealth }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('career')\">\n            <div class=\"analysis-section\">\n              <h3>事业发展</h3>\n              <p>{{ aiAnalysis.career }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('relationship')\">\n            <div class=\"analysis-section\">\n              <h3>婚姻感情</h3>\n              <p>{{ aiAnalysis.relationship }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('children')\">\n            <div class=\"analysis-section\">\n              <h3>子女缘分</h3>\n              <p>{{ aiAnalysis.children }}</p>\n            </div>\n          </template>\n          \n          <div class=\"analysis-section\">\n            <h3>综合建议</h3>\n            <p>{{ aiAnalysis.overall }}</p>\n          </div>\n        </div>\n      </van-tab>\n    </van-tabs>\n    \n    <div class=\"action-buttons\">\n      <van-button type=\"primary\" block @click=\"downloadPDF\">\n        下载PDF报告\n      </van-button>\n      <van-button plain type=\"primary\" block style=\"margin-top: 10px;\" @click=\"shareResult\">\n        分享结果\n      </van-button>\n      \n      <!-- 调试按钮 -->\n      <van-button plain type=\"warning\" \n                  block \n                  style=\"margin-top: 10px;\" \n                  @click=\"reloadBaziData\">\n        重新加载分析数据\n      </van-button>\n      \n      <!-- 本地PDF生成按钮 -->\n      <van-button plain type=\"success\" \n                  block \n                  style=\"margin-top: 10px;\" \n                  @click=\"generateLocalPDFOnly\">\n        本地生成PDF报告\n      </van-button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, reactive } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nimport { jsPDF } from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport axios from 'axios';\nimport http from './api/http'; // 导入配置好的http实例\n\nconst route = useRoute();\nconst router = useRouter();\nconst resultId = route.params.id || route.query.resultId;\nconst activeTab = ref(0);\n\n// 模拟数据，作为API调用失败时的备用数据\nconst focusAreas = ref(['health', 'wealth', 'career', 'relationship']);\n\n// 备用数据，只在API调用失败时使用\nconst baziData = ref({\n  yearPillar: {\n    heavenlyStem: '甲',\n    earthlyBranch: '子',\n    element: '水'\n  },\n  monthPillar: {\n    heavenlyStem: '丙',\n    earthlyBranch: '寅',\n    element: '木'\n  },\n  dayPillar: {\n    heavenlyStem: '戊',\n    earthlyBranch: '午',\n    element: '火'\n  },\n  hourPillar: {\n    heavenlyStem: '庚',\n    earthlyBranch: '申',\n    element: '金'\n  },\n  fiveElements: {\n    wood: 2,\n    fire: 2,\n    earth: 1,\n    metal: 2,\n    water: 1\n  },\n  flowingYears: [\n    {\n      year: 2025,\n      heavenlyStem: '乙',\n      earthlyBranch: '丑',\n      element: '土'\n    },\n    {\n      year: 2026,\n      heavenlyStem: '丙',\n      earthlyBranch: '寅',\n      element: '木'\n    },\n    {\n      year: 2027,\n      heavenlyStem: '丁',\n      earthlyBranch: '卯',\n      element: '木'\n    },\n    {\n      year: 2028,\n      heavenlyStem: '戊',\n      earthlyBranch: '辰',\n      element: '土'\n    },\n    {\n      year: 2029,\n      heavenlyStem: '己',\n      earthlyBranch: '巳',\n      element: '火'\n    }\n  ]\n});\n\n// 备用分析数据，只在API调用失败时使用\nconst aiAnalysis = ref({\n  health: '您的八字中火土较旺，木水偏弱。从健康角度看，您需要注意心脑血管系统和消化系统的保养。建议平时多喝水，保持规律作息，避免过度劳累和情绪波动。2025-2026年间需特别注意肝胆健康，可适当增加绿色蔬菜的摄入，定期体检。',\n  wealth: '您的财运在2025年有明显上升趋势，特别是在春夏季节。八字中金水相生，适合从事金融、贸易、水利相关行业。投资方面，稳健为主，可考虑分散投资组合。2027年有意外财运，但需谨慎对待，避免投机性强的项目。',\n  career: '您的事业宫位较为稳定，具有较强的组织能力和执行力。2025-2026年是事业发展的关键期，有升职或转行的机会。建议提升专业技能，扩展人脉关系。您适合在团队中担任协调或管理角色，发挥沟通才能。',\n  relationship: '您的八字中日柱为戊午，感情态度较为务实。2025年下半年至2026年上半年是感情发展的良好时期。已婚者需注意与伴侣的沟通，避免因工作忙碌而忽略家庭。单身者有机会通过社交活动或朋友介绍认识合适的对象。',\n  children: '您的子女宫位较为温和，与子女关系和谐。教育方面，建议采用引导式而非强制式的方法，尊重子女的兴趣发展。2026-2027年是子女发展的重要阶段，可能需要您更多的关注和支持。',\n  overall: '综合分析您的八字，2025-2027年是您人生的一个上升期，各方面都有良好发展。建议把握这段时间，在事业上积极进取，在健康上注意保养，在人际关系上广结善缘。您的人生态度积极乐观，具有较强的适应能力和抗压能力，这将帮助您度过人生中的各种挑战。'\n});\n\nconst testApiConnection = async () => {\n  try {\n    Toast.loading('正在测试API连接...');\n    // 使用配置好的http实例\n    const response = await http.get('/');\n    console.log('API根路径响应:', response.data);\n    Toast.success('API连接成功');\n    return true;\n  } catch (error) {\n    console.error('API连接测试失败:', error);\n    Toast.fail('API连接失败，请检查后端服务');\n    return false;\n  }\n};\n\nonMounted(async () => {\n  // 先测试API连接\n  const isApiConnected = await testApiConnection();\n  if (!isApiConnected) {\n    console.warn('API连接失败，将使用模拟数据');\n    return;\n  }\n  \n  console.log('结果页面加载，ID:', resultId);\n  \n  // 如果没有resultId，尝试从本地存储获取\n  const localResultId = localStorage.getItem('resultId');\n  if (!resultId && localResultId) {\n    console.log('从本地存储获取ID:', localResultId);\n  }\n  \n  const finalResultId = resultId || localResultId;\n  \n  if (!finalResultId) {\n    console.error('缺少结果ID，无法获取分析结果');\n    Toast.fail('缺少结果ID，无法获取分析结果');\n    return;\n  }\n  \n  try {\n    console.log('调用API获取结果:', `/api/bazi/result/${finalResultId}`);\n    \n    // 显示加载提示，提醒用户需要等待\n    Toast.loading({\n      message: '正在调用AI进行八字分析，请耐心等待30-60秒...',\n      duration: 10000,\n      position: 'middle'\n    });\n    \n    // 使用配置好的http实例\n    const response = await http.get(`/api/bazi/result/${finalResultId}`);\n    \n    console.log('API响应:', response.status, response.data);\n    \n    if (response.data.code === 200) {\n      console.log('获取成功，更新数据');\n      // 确保从API获取数据并更新视图\n      baziData.value = response.data.data.baziChart;\n      aiAnalysis.value = response.data.data.aiAnalysis;\n      focusAreas.value = response.data.data.focusAreas;\n      Toast.success('分析结果加载成功');\n    } else if (response.data.code === 202) {\n      // 服务器接受了请求但还在处理中（异步分析）\n      console.log('分析正在进行中，等待时间:', response.data.data.waitTime || '未知');\n      \n      // 显示清晰的等待提示，告知用户确切的等待情况\n      Toast.loading({\n        message: `AI正在专注分析您的八字命盘，已经分析了${response.data.data.waitTime || 0}秒，完整分析需要30-60秒，请稍候...`,\n        duration: 8000,\n        position: 'middle'\n      });\n      \n      // 预先显示部分数据\n      if (response.data.data.baziChart) {\n        baziData.value = response.data.data.baziChart;\n      }\n      if (response.data.data.aiAnalysis) {\n        aiAnalysis.value = response.data.data.aiAnalysis;\n      }\n      if (response.data.data.focusAreas) {\n        focusAreas.value = response.data.data.focusAreas;\n      }\n      \n      // 启动轮询，每15秒查询一次直到分析完成\n      // 增加轮询间隔，减少服务器压力\n      const pollInterval = setInterval(async () => {\n        try {\n          console.log('轮询查询分析结果...');\n          const pollResponse = await http.get(`/api/bazi/result/${finalResultId}`);\n          \n          if (pollResponse.data.code === 200) {\n            // 分析完成，更新数据\n            baziData.value = pollResponse.data.data.baziChart;\n            aiAnalysis.value = pollResponse.data.data.aiAnalysis;\n            focusAreas.value = pollResponse.data.data.focusAreas;\n            Toast.success('分析结果加载成功！您的八字命盘解析已完成');\n            clearInterval(pollInterval); // 停止轮询\n            \n            // 自动切换到AI分析结果标签\n            activeTab.value = 1;\n          } else if (pollResponse.data.code !== 202) {\n            // 如果返回其他错误码，停止轮询\n            console.error('轮询时发生错误:', pollResponse.data.message);\n            Toast.fail(`查询错误: ${pollResponse.data.message}`);\n            clearInterval(pollInterval); // 停止轮询\n          } else {\n            // 仍在分析中，更新等待时间\n            const waitTime = pollResponse.data.data.waitTime || 0;\n            const remainingTime = Math.max(0, 60 - waitTime);  // 假设总时间为60秒\n            \n            Toast.loading({\n              message: `AI正在专注分析中(${Math.round(waitTime/60*100)}%)，预计还需${remainingTime}秒完成...`,\n              duration: 5000,\n              position: 'middle'\n            });\n            console.log('仍在分析中，已等待:', waitTime, '秒');\n          }\n        } catch (err) {\n          console.error('轮询时出错:', err);\n          clearInterval(pollInterval); // 出错也停止轮询\n        }\n      }, 15000); // 每15秒查询一次，减少服务器压力\n      \n      // 设置最大轮询时间，防止无限轮询\n      setTimeout(() => {\n        if (pollInterval) {\n          clearInterval(pollInterval);\n          console.log('超过最大轮询时间，停止轮询');\n          \n          // 显示一个友好的提示，询问用户是否要继续等待\n          Toast.confirm({\n            title: '分析耗时较长',\n            message: '您的八字命理分析正在进行中，但耗时较长。您可以选择继续等待或稍后再查看结果。',\n            showCancelButton: true,\n            confirmButtonText: '继续等待',\n            cancelButtonText: '稍后查看',\n            theme: 'round-button',\n          }).then(() => {\n            // 用户选择继续等待，重新启动轮询\n            window.location.reload();\n          }).catch(() => {\n            // 用户选择稍后查看，可以先返回首页\n            router.push('/');\n          });\n        }\n      }, 180000); // 最多轮询3分钟\n    } else {\n      console.error('API返回错误:', response.data.message);\n      Toast.fail(response.data.message || '获取分析结果失败');\n    }\n  } catch (error) {\n    console.error('获取分析结果出错:', error);\n    console.error('错误详情:', error.response ? error.response.data : '无响应数据');\n    Toast.fail('获取分析结果失败，请稍后重试');\n    \n    // 备选方案：如果ID以\"RES\"开头，尝试模拟支付再获取结果\n    if (finalResultId.startsWith('RES')) {\n      try {\n        console.log('尝试使用模拟支付接口...');\n        \n        // 显示加载提示\n        Toast.loading({\n          message: '正在模拟支付并进行八字分析，请耐心等待30-60秒...',\n          duration: 10000,\n          position: 'middle'\n        });\n        \n        const orderId = finalResultId.replace('RES', '');\n        const mockPaymentResponse = await http.post(`/api/order/mock/pay/${orderId}`);\n        \n        if (mockPaymentResponse.data.code === 200 && mockPaymentResponse.data.data.resultId) {\n          const newResultId = mockPaymentResponse.data.data.resultId;\n          console.log('获取到新的resultId:', newResultId);\n          \n          const retryResponse = await http.get(`/api/bazi/result/${newResultId}`);\n          if (retryResponse.data.code === 200) {\n            baziData.value = retryResponse.data.data.baziChart;\n            aiAnalysis.value = retryResponse.data.data.aiAnalysis;\n            focusAreas.value = retryResponse.data.data.focusAreas;\n            Toast.success('分析结果加载成功');\n            return;\n          }\n        }\n      } catch (mockError) {\n        console.error('模拟支付失败:', mockError);\n      }\n    }\n  }\n});\n\nconst getElementName = (element) => {\n  const elementNames = {\n    wood: '木',\n    fire: '火',\n    earth: '土',\n    metal: '金',\n    water: '水'\n  };\n  return elementNames[element] || element;\n};\n\nconst onClickLeft = () => {\n  router.push('/');\n};\n\nconst downloadPDF = async () => {\n  Toast.loading({\n    message: '正在生成PDF，请稍候...',\n    duration: 5000,\n    position: 'middle'\n  });\n  \n  if (!resultId) {\n    Toast.fail('缺少结果ID，无法生成PDF');\n    return;\n  }\n  \n  try {\n    console.log('开始下载PDF, 结果ID:', resultId);\n    \n    // 检测是否在微信环境中\n    const isWeixinBrowser = /MicroMessenger/i.test(navigator.userAgent);\n    console.log('是否在微信环境:', isWeixinBrowser);\n    \n    try {\n      if (isWeixinBrowser) {\n        // 微信环境下使用URL方式\n        console.log('微信环境，使用URL方式获取PDF');\n        const response = await http.get(`/api/bazi/pdf/${resultId}`);\n        \n        if (response.data.code === 200 && response.data.data?.url) {\n          window.open(response.data.data.url, '_blank');\n          Toast.success('PDF生成成功，请在浏览器中查看');\n        } else {\n          throw new Error('服务器未返回有效的PDF URL');\n        }\n        return;\n      }\n      \n      // 非微信环境下，使用直接下载方式\n      console.log('非微信环境，直接下载PDF');\n      const response = await http.get(`/api/bazi/pdf/${resultId}`, {\n        responseType: 'blob',\n        timeout: 30000 // 30秒超时\n      });\n      \n      console.log('服务器响应:', response.status, response.statusText);\n      console.log('响应头:', response.headers);\n      \n      if (response.status !== 200) {\n        throw new Error(`服务器返回错误状态: ${response.status}`);\n      }\n      \n      // 处理PDF下载\n      const blob = response.data;\n      console.log('返回的Blob:', blob);\n      console.log('Blob大小:', blob.size, '字节');\n      console.log('Blob类型:', blob.type);\n      \n      if (!blob || blob.size === 0) {\n        throw new Error('服务器返回空数据');\n      }\n      \n      // 检查是否返回了HTML而不是PDF\n      if (blob.type.includes('text/html')) {\n        console.log('服务器返回了HTML而不是PDF，尝试读取错误信息');\n        \n        // 读取HTML内容以获取错误信息\n        const reader = new FileReader();\n        const htmlPromise = new Promise((resolve, reject) => {\n          reader.onload = () => resolve(reader.result);\n          reader.onerror = reject;\n          reader.readAsText(blob);\n        });\n        \n        const htmlContent = await htmlPromise;\n        console.log('HTML内容:', htmlContent.substring(0, 500) + '...');\n        \n        // 尝试从HTML中提取关键错误信息\n        let errorMessage = '服务器返回了HTML而不是PDF文件';\n        if (htmlContent.includes('Error') || htmlContent.includes('错误')) {\n          const errorMatch = htmlContent.match(/<title>([^<]+)<\\/title>/) || \n                           htmlContent.match(/Error: ([^<]+)/) || \n                           htmlContent.match(/错误: ([^<]+)/);\n          if (errorMatch) {\n            errorMessage = errorMatch[1];\n          }\n        }\n        \n        console.error('服务器返回HTML错误:', errorMessage);\n        throw new Error(errorMessage);\n      }\n      \n      // 检查内容类型是否为PDF\n      if (!blob.type.includes('application/pdf') && !blob.type.includes('application/octet-stream')) {\n        console.warn('服务器返回了非PDF类型:', blob.type);\n        // 继续处理，但记录警告\n      }\n      \n      // 直接使用原始Blob，不做额外处理\n      const url = window.URL.createObjectURL(blob);\n      \n      // 判断是否是移动设备\n      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n      \n      if (isMobile) {\n        // 移动设备上打开预览\n        window.open(url, '_blank');\n        Toast.success('PDF已打开，请使用浏览器的分享功能保存');\n      } else {\n        // 桌面设备使用下载方式\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `八字命理分析_${resultId}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        setTimeout(() => {\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(link);\n        }, 100);\n        Toast.success('PDF下载成功！');\n      }\n    } catch (serverError) {\n      console.error('服务器PDF生成失败，尝试客户端生成:', serverError);\n      Toast.loading({\n        message: '服务器生成失败，尝试本地生成PDF...',\n        duration: 5000,\n        position: 'middle'\n      });\n      \n      // 后备方案：使用客户端生成PDF\n      try {\n        console.log('开始客户端PDF生成');\n        await generatePDFLocally();\n        Toast.success('本地生成PDF成功！');\n      } catch (localError) {\n        console.error('本地PDF生成也失败了:', localError);\n        Toast.fail('PDF生成失败，请稍后重试');\n      }\n    }\n  } catch (error) {\n    console.error('PDF下载过程中出错:', error);\n    let errorMessage = '下载失败，请稍后重试';\n    \n    if (error.response) {\n      console.error('错误响应:', error.response.status, error.response.data);\n      errorMessage = `下载失败 (${error.response.status})`;\n    }\n    \n    Toast.fail(errorMessage);\n  }\n};\n\n// 本地生成PDF的函数\nconst generatePDFLocally = async () => {\n  console.log('使用客户端jsPDF库生成PDF');\n  \n  // 获取内容元素\n  const element = document.querySelector('.result-container');\n  if (!element) {\n    throw new Error('找不到要转换的内容元素');\n  }\n  \n  Toast.loading({\n    message: '正在捕获页面内容...',\n    duration: 5000\n  });\n  \n  try {\n    // 使用html2canvas捕获内容\n    const canvas = await html2canvas(element, {\n      scale: 1,\n      useCORS: true,\n      logging: false,\n      windowWidth: document.documentElement.offsetWidth,\n      windowHeight: document.documentElement.offsetHeight,\n    });\n    \n    Toast.loading({\n      message: '正在生成PDF文件...',\n      duration: 5000\n    });\n    \n    // 创建PDF文档\n    const pdf = new jsPDF('p', 'mm', 'a4');\n    \n    // 计算尺寸和比例\n    const imgData = canvas.toDataURL('image/png');\n    const imgWidth = 210; // A4宽度，单位mm\n    const pageHeight = 297; // A4高度，单位mm\n    const imgHeight = canvas.height * imgWidth / canvas.width;\n    let heightLeft = imgHeight;\n    let position = 0;\n    \n    // 添加首页\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n    \n    // 如果内容超过一页，添加更多页\n    while (heightLeft > 0) {\n      position = heightLeft - imgHeight;\n      pdf.addPage();\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n    }\n    \n    // 添加页脚\n    const pageCount = pdf.internal.getNumberOfPages();\n    for (let i = 1; i <= pageCount; i++) {\n      pdf.setPage(i);\n      pdf.setFontSize(10);\n      pdf.setTextColor(150);\n      pdf.text(`八字命理AI分析报告 - 页 ${i} / ${pageCount}`, pdf.internal.pageSize.getWidth() / 2, pdf.internal.pageSize.getHeight() - 10, { align: 'center' });\n    }\n    \n    // 保存PDF\n    pdf.save(`八字命理分析_${resultId}.pdf`);\n    \n    return true;\n  } catch (error) {\n    console.error('本地PDF生成错误:', error);\n    throw error;\n  }\n};\n\nconst shareResult = () => {\n  Toast.success('分享功能开发中');\n};\n\nconst reloadBaziData = async () => {\n  Toast.loading('正在重新加载数据...');\n  \n  try {\n    // 测试模拟支付接口以获取分析结果\n    if (!resultId) {\n      Toast.fail('缺少结果ID');\n      return;\n    }\n    \n    // 首先尝试使用模拟支付接口\n    try {\n      console.log('尝试使用模拟支付接口...');\n      \n      // 显示加载提示\n      Toast.loading({\n        message: '正在重新分析八字，请耐心等待30-60秒...',\n        duration: 10000,\n        position: 'middle'\n      });\n      \n      const mockPaymentResponse = await http.post(`/api/order/mock/pay/${resultId.replace('RES', '')}`);\n      console.log('模拟支付响应:', mockPaymentResponse.data);\n      \n      if (mockPaymentResponse.data.code === 200 && mockPaymentResponse.data.data.resultId) {\n        // 使用返回的resultId重新加载数据\n        const newResultId = mockPaymentResponse.data.data.resultId;\n        console.log('获取到新的resultId:', newResultId);\n        \n        const response = await http.get(`/api/bazi/result/${newResultId}`);\n        if (response.data.code === 200) {\n          baziData.value = response.data.data.baziChart;\n          aiAnalysis.value = response.data.data.aiAnalysis;\n          focusAreas.value = response.data.data.focusAreas;\n          Toast.success('数据加载成功');\n          return;\n        }\n      }\n    } catch (mockError) {\n      console.warn('模拟支付失败，尝试直接获取结果:', mockError);\n    }\n    \n    // 如果模拟支付失败，尝试直接获取结果\n    const response = await http.get(`/api/bazi/result/${resultId}`);\n    \n    if (response.data.code === 200) {\n      baziData.value = response.data.data.baziChart;\n      aiAnalysis.value = response.data.data.aiAnalysis;\n      focusAreas.value = response.data.data.focusAreas;\n      Toast.success('数据加载成功');\n    } else {\n      Toast.fail(response.data.message || '加载失败');\n    }\n  } catch (error) {\n    console.error('重新加载失败:', error);\n    Toast.fail('加载失败: ' + (error.message || '未知错误'));\n  }\n};\n\nconst generateLocalPDFOnly = async () => {\n  Toast.loading({\n    message: '正在本地生成PDF...',\n    duration: 5000\n  });\n  \n  try {\n    await generatePDFLocally();\n    Toast.success('本地生成PDF成功！');\n  } catch (error) {\n    console.error('本地PDF生成失败:', error);\n    Toast.fail('PDF生成失败: ' + (error.message || '未知错误'));\n  }\n};\n</script>\n\n<style scoped>\n.result-container {\n  padding-bottom: 20px;\n}\n\n.result-header {\n  text-align: center;\n  padding: 20px 0;\n  background-color: #f2f3f5;\n}\n\n.result-header h2 {\n  margin: 0;\n  font-size: 20px;\n  color: #323233;\n}\n\n.result-header p {\n  margin: 10px 0 0;\n  font-size: 14px;\n  color: #969799;\n}\n\n.bazi-chart {\n  padding: 20px 16px;\n}\n\n.bazi-chart h3 {\n  margin: 20px 0 10px;\n  color: #323233;\n}\n\n.pillar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.stem {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background-color: #1989fa;\n  color: white;\n  border-radius: 4px;\n  margin-bottom: 5px;\n}\n\n.branch {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background-color: #07c160;\n  color: white;\n  border-radius: 4px;\n  margin-bottom: 5px;\n}\n\n.label {\n  font-size: 12px;\n  color: #646566;\n}\n\n.five-elements {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n}\n\n.element {\n  text-align: center;\n  flex: 1;\n}\n\n.element-name {\n  font-size: 14px;\n  color: #323233;\n}\n\n.element-value {\n  font-size: 18px;\n  font-weight: bold;\n  color: #1989fa;\n  margin-top: 5px;\n}\n\n.flowing-years {\n  margin: 20px 0;\n}\n\n.ai-analysis {\n  padding: 20px 16px;\n}\n\n.analysis-section {\n  margin-bottom: 20px;\n}\n\n.analysis-section h3 {\n  margin: 0 0 10px;\n  color: #323233;\n}\n\n.analysis-section p {\n  margin: 0;\n  font-size: 14px;\n  color: #646566;\n  line-height: 1.6;\n}\n\n.action-buttons {\n  padding: 20px 16px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}