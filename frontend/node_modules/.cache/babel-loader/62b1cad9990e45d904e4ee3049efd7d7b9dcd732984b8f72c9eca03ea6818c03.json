{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { FORM_KEY, truthProp, numericProp, preventDefault, makeStringProp, createNamespace } from \"../utils\";\nimport { useChildren } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\nconst [name, bem] = createNamespace(\"form\");\nconst formProps = {\n  colon: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  showError: Boolean,\n  labelWidth: numericProp,\n  labelAlign: String,\n  inputAlign: String,\n  scrollToError: Boolean,\n  validateFirst: Boolean,\n  submitOnEnter: truthProp,\n  validateTrigger: makeStringProp(\"onBlur\"),\n  showErrorMessage: truthProp,\n  errorMessageAlign: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: formProps,\n  emits: [\"submit\", \"failed\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      children,\n      linkChildren\n    } = useChildren(FORM_KEY);\n    const getFieldsByNames = names => {\n      if (names) {\n        return children.filter(field => names.includes(field.name));\n      }\n      return children;\n    };\n    const validateSeq = names => new Promise((resolve, reject) => {\n      const errors = [];\n      const fields = getFieldsByNames(names);\n      fields.reduce((promise, field) => promise.then(() => {\n        if (!errors.length) {\n          return field.validate().then(error => {\n            if (error) {\n              errors.push(error);\n            }\n          });\n        }\n      }), Promise.resolve()).then(() => {\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateAll = names => new Promise((resolve, reject) => {\n      const fields = getFieldsByNames(names);\n      Promise.all(fields.map(item => item.validate())).then(errors => {\n        errors = errors.filter(Boolean);\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateField = name2 => {\n      const matched = children.find(item => item.name === name2);\n      if (matched) {\n        return new Promise((resolve, reject) => {\n          matched.validate().then(error => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n      return Promise.reject();\n    };\n    const validate = name2 => {\n      if (typeof name2 === \"string\") {\n        return validateField(name2);\n      }\n      return props.validateFirst ? validateSeq(name2) : validateAll(name2);\n    };\n    const resetValidation = name2 => {\n      if (typeof name2 === \"string\") {\n        name2 = [name2];\n      }\n      const fields = getFieldsByNames(name2);\n      fields.forEach(item => {\n        item.resetValidation();\n      });\n    };\n    const scrollToField = (name2, options) => {\n      children.some(item => {\n        if (item.name === name2) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n        return false;\n      });\n    };\n    const getValues = () => children.reduce((form, field) => {\n      form[field.name] = field.formValue.value;\n      return form;\n    }, {});\n    const submit = () => {\n      const values = getValues();\n      validate().then(() => emit(\"submit\", values)).catch(errors => {\n        emit(\"failed\", {\n          values,\n          errors\n        });\n        if (props.scrollToError && errors[0].name) {\n          scrollToField(errors[0].name);\n        }\n      });\n    };\n    const onSubmit = event => {\n      preventDefault(event);\n      submit();\n    };\n    linkChildren({\n      props\n    });\n    useExpose({\n      submit,\n      validate,\n      scrollToField,\n      resetValidation\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"form\", {\n        \"class\": bem(),\n        \"onSubmit\": onSubmit\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","FORM_KEY","truthProp","numericProp","preventDefault","makeStringProp","createNamespace","useChildren","useExpose","name","bem","formProps","colon","Boolean","disabled","readonly","showError","labelWidth","labelAlign","String","inputAlign","scrollToError","validateFirst","submitOnEnter","validateTrigger","showErrorMessage","errorMessageAlign","stdin_default","props","emits","setup","emit","slots","children","linkChildren","getFieldsByNames","names","filter","field","includes","validateSeq","Promise","resolve","reject","errors","fields","reduce","promise","then","length","validate","error","push","validateAll","all","map","item","validateField","name2","matched","find","resetValidation","forEach","scrollToField","options","some","$el","scrollIntoView","getValues","form","formValue","value","submit","values","catch","onSubmit","event","_a","default","call"],"sources":["D:/Python/20250522开发八字命理AI指导功能页码/开发八字命理AI指导功能页码/frontend/node_modules/vant/es/form/Form.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { FORM_KEY, truthProp, numericProp, preventDefault, makeStringProp, createNamespace } from \"../utils\";\nimport { useChildren } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose\";\nconst [name, bem] = createNamespace(\"form\");\nconst formProps = {\n  colon: Boolean,\n  disabled: Boolean,\n  readonly: Boolean,\n  showError: Boolean,\n  labelWidth: numericProp,\n  labelAlign: String,\n  inputAlign: String,\n  scrollToError: Boolean,\n  validateFirst: Boolean,\n  submitOnEnter: truthProp,\n  validateTrigger: makeStringProp(\"onBlur\"),\n  showErrorMessage: truthProp,\n  errorMessageAlign: String\n};\nvar stdin_default = defineComponent({\n  name,\n  props: formProps,\n  emits: [\"submit\", \"failed\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      children,\n      linkChildren\n    } = useChildren(FORM_KEY);\n    const getFieldsByNames = (names) => {\n      if (names) {\n        return children.filter((field) => names.includes(field.name));\n      }\n      return children;\n    };\n    const validateSeq = (names) => new Promise((resolve, reject) => {\n      const errors = [];\n      const fields = getFieldsByNames(names);\n      fields.reduce((promise, field) => promise.then(() => {\n        if (!errors.length) {\n          return field.validate().then((error) => {\n            if (error) {\n              errors.push(error);\n            }\n          });\n        }\n      }), Promise.resolve()).then(() => {\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateAll = (names) => new Promise((resolve, reject) => {\n      const fields = getFieldsByNames(names);\n      Promise.all(fields.map((item) => item.validate())).then((errors) => {\n        errors = errors.filter(Boolean);\n        if (errors.length) {\n          reject(errors);\n        } else {\n          resolve();\n        }\n      });\n    });\n    const validateField = (name2) => {\n      const matched = children.find((item) => item.name === name2);\n      if (matched) {\n        return new Promise((resolve, reject) => {\n          matched.validate().then((error) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n      return Promise.reject();\n    };\n    const validate = (name2) => {\n      if (typeof name2 === \"string\") {\n        return validateField(name2);\n      }\n      return props.validateFirst ? validateSeq(name2) : validateAll(name2);\n    };\n    const resetValidation = (name2) => {\n      if (typeof name2 === \"string\") {\n        name2 = [name2];\n      }\n      const fields = getFieldsByNames(name2);\n      fields.forEach((item) => {\n        item.resetValidation();\n      });\n    };\n    const scrollToField = (name2, options) => {\n      children.some((item) => {\n        if (item.name === name2) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n        return false;\n      });\n    };\n    const getValues = () => children.reduce((form, field) => {\n      form[field.name] = field.formValue.value;\n      return form;\n    }, {});\n    const submit = () => {\n      const values = getValues();\n      validate().then(() => emit(\"submit\", values)).catch((errors) => {\n        emit(\"failed\", {\n          values,\n          errors\n        });\n        if (props.scrollToError && errors[0].name) {\n          scrollToField(errors[0].name);\n        }\n      });\n    };\n    const onSubmit = (event) => {\n      preventDefault(event);\n      submit();\n    };\n    linkChildren({\n      props\n    });\n    useExpose({\n      submit,\n      validate,\n      scrollToField,\n      resetValidation\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"form\", {\n        \"class\": bem(),\n        \"onSubmit\": onSubmit\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}