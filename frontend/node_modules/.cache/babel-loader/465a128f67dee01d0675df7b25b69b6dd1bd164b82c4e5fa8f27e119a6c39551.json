{"ast":null,"code":"import { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const router = useRouter();\n    const phone = ref('');\n    const verifyCode = ref('');\n    const isSending = ref(false);\n    const countdown = ref(0);\n    const sendButtonText = ref('发送验证码');\n    const showAgreementPopup = ref(false);\n    const showPrivacyPopup = ref(false);\n    const onClickLeft = () => {\n      router.go(-1);\n    };\n    const startCountdown = () => {\n      countdown.value = 60;\n      isSending.value = true;\n      const timer = setInterval(() => {\n        countdown.value--;\n        sendButtonText.value = `${countdown.value}秒后重发`;\n        if (countdown.value <= 0) {\n          clearInterval(timer);\n          isSending.value = false;\n          sendButtonText.value = '发送验证码';\n        }\n      }, 1000);\n    };\n    const sendVerifyCode = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      if (!/^1[3-9]\\d{9}$/.test(phone.value)) {\n        Toast('请输入正确的手机号码');\n        return;\n      }\n\n      // 实际项目中这里应该调用API发送验证码\n      Toast('验证码已发送');\n      startCountdown();\n    };\n    const onSubmit = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      if (!verifyCode.value) {\n        Toast('请输入验证码');\n        return;\n      }\n\n      // 实际项目中这里应该调用API验证登录\n      Toast('登录成功');\n\n      // 登录成功后跳转到用户中心\n      router.push('/user');\n    };\n    const showAgreement = () => {\n      showAgreementPopup.value = true;\n    };\n    const showPrivacy = () => {\n      showPrivacyPopup.value = true;\n    };\n    return {\n      phone,\n      verifyCode,\n      isSending,\n      sendButtonText,\n      showAgreementPopup,\n      showPrivacyPopup,\n      onClickLeft,\n      sendVerifyCode,\n      onSubmit,\n      showAgreement,\n      showPrivacy\n    };\n  }\n};","map":{"version":3,"names":["ref","useRouter","Toast","name","setup","router","phone","verifyCode","isSending","countdown","sendButtonText","showAgreementPopup","showPrivacyPopup","onClickLeft","go","startCountdown","value","timer","setInterval","clearInterval","sendVerifyCode","test","onSubmit","push","showAgreement","showPrivacy"],"sources":["C:\\Users\\Administrator\\Desktop\\开发八字命理AI指导功能页码\\frontend\\src\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <van-nav-bar\n      title=\"登录/注册\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"login-form\">\n      <h2>欢迎使用八字命理AI人生指导</h2>\n      <p>请使用手机号登录或注册</p>\n      \n      <van-form @submit=\"onSubmit\">\n        <van-cell-group inset>\n          <van-field\n            v-model=\"phone\"\n            name=\"phone\"\n            label=\"手机号码\"\n            placeholder=\"请输入手机号码\"\n            :rules=\"[{ required: true, message: '请填写手机号码' }]\"\n          />\n          \n          <van-field\n            v-model=\"verifyCode\"\n            center\n            clearable\n            label=\"验证码\"\n            placeholder=\"请输入验证码\"\n            :rules=\"[{ required: true, message: '请填写验证码' }]\"\n          >\n            <template #button>\n              <van-button\n                size=\"small\"\n                type=\"primary\"\n                :disabled=\"isSending\"\n                @click=\"sendVerifyCode\"\n              >\n                {{ sendButtonText }}\n              </van-button>\n            </template>\n          </van-field>\n        </van-cell-group>\n        \n        <div style=\"margin: 16px;\">\n          <van-button round block type=\"primary\" native-type=\"submit\">\n            登录/注册\n          </van-button>\n        </div>\n      </van-form>\n      \n      <div class=\"agreement\">\n        登录/注册即表示您同意\n        <span class=\"link\" @click=\"showAgreement\">《用户协议》</span>\n        和\n        <span class=\"link\" @click=\"showPrivacy\">《隐私政策》</span>\n      </div>\n    </div>\n    \n    <van-popup v-model:show=\"showAgreementPopup\" round position=\"bottom\" style=\"height: 70%\">\n      <div class=\"popup-content\">\n        <h3>用户协议</h3>\n        <p>这里是用户协议内容...</p>\n        <van-button type=\"primary\" block @click=\"showAgreementPopup = false\">\n          我已阅读并同意\n        </van-button>\n      </div>\n    </van-popup>\n    \n    <van-popup v-model:show=\"showPrivacyPopup\" round position=\"bottom\" style=\"height: 70%\">\n      <div class=\"popup-content\">\n        <h3>隐私政策</h3>\n        <p>这里是隐私政策内容...</p>\n        <van-button type=\"primary\" block @click=\"showPrivacyPopup = false\">\n          我已阅读并同意\n        </van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\n\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const router = useRouter();\n    const phone = ref('');\n    const verifyCode = ref('');\n    const isSending = ref(false);\n    const countdown = ref(0);\n    const sendButtonText = ref('发送验证码');\n    const showAgreementPopup = ref(false);\n    const showPrivacyPopup = ref(false);\n    \n    const onClickLeft = () => {\n      router.go(-1);\n    };\n    \n    const startCountdown = () => {\n      countdown.value = 60;\n      isSending.value = true;\n      \n      const timer = setInterval(() => {\n        countdown.value--;\n        sendButtonText.value = `${countdown.value}秒后重发`;\n        \n        if (countdown.value <= 0) {\n          clearInterval(timer);\n          isSending.value = false;\n          sendButtonText.value = '发送验证码';\n        }\n      }, 1000);\n    };\n    \n    const sendVerifyCode = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      \n      if (!/^1[3-9]\\d{9}$/.test(phone.value)) {\n        Toast('请输入正确的手机号码');\n        return;\n      }\n      \n      // 实际项目中这里应该调用API发送验证码\n      Toast('验证码已发送');\n      startCountdown();\n    };\n    \n    const onSubmit = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      \n      if (!verifyCode.value) {\n        Toast('请输入验证码');\n        return;\n      }\n      \n      // 实际项目中这里应该调用API验证登录\n      Toast('登录成功');\n      \n      // 登录成功后跳转到用户中心\n      router.push('/user');\n    };\n    \n    const showAgreement = () => {\n      showAgreementPopup.value = true;\n    };\n    \n    const showPrivacy = () => {\n      showPrivacyPopup.value = true;\n    };\n    \n    return {\n      phone,\n      verifyCode,\n      isSending,\n      sendButtonText,\n      showAgreementPopup,\n      showPrivacyPopup,\n      onClickLeft,\n      sendVerifyCode,\n      onSubmit,\n      showAgreement,\n      showPrivacy\n    };\n  }\n};\n</script>\n\n<style scoped>\n.login-container {\n  padding-bottom: 20px;\n}\n\n.login-form {\n  padding: 30px 16px;\n  text-align: center;\n}\n\n.login-form h2 {\n  margin: 0 0 10px;\n  font-size: 20px;\n  color: #323233;\n}\n\n.login-form p {\n  margin: 0 0 30px;\n  font-size: 14px;\n  color: #969799;\n}\n\n.agreement {\n  margin-top: 20px;\n  font-size: 12px;\n  color: #969799;\n  text-align: center;\n}\n\n.link {\n  color: #1989fa;\n}\n\n.popup-content {\n  padding: 20px;\n}\n\n.popup-content h3 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.popup-content p {\n  margin-bottom: 30px;\n  line-height: 1.6;\n}\n</style>\n"],"mappings":"AAkFA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,KAAI,QAAS,MAAM;AAE5B,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,CAAC,CAAC;IAC1B,MAAMK,KAAI,GAAIN,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMO,UAAS,GAAIP,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMQ,SAAQ,GAAIR,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMS,SAAQ,GAAIT,GAAG,CAAC,CAAC,CAAC;IACxB,MAAMU,cAAa,GAAIV,GAAG,CAAC,OAAO,CAAC;IACnC,MAAMW,kBAAiB,GAAIX,GAAG,CAAC,KAAK,CAAC;IACrC,MAAMY,gBAAe,GAAIZ,GAAG,CAAC,KAAK,CAAC;IAEnC,MAAMa,WAAU,GAAIA,CAAA,KAAM;MACxBR,MAAM,CAACS,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC;IAED,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC3BN,SAAS,CAACO,KAAI,GAAI,EAAE;MACpBR,SAAS,CAACQ,KAAI,GAAI,IAAI;MAEtB,MAAMC,KAAI,GAAIC,WAAW,CAAC,MAAM;QAC9BT,SAAS,CAACO,KAAK,EAAE;QACjBN,cAAc,CAACM,KAAI,GAAI,GAAGP,SAAS,CAACO,KAAK,MAAM;QAE/C,IAAIP,SAAS,CAACO,KAAI,IAAK,CAAC,EAAE;UACxBG,aAAa,CAACF,KAAK,CAAC;UACpBT,SAAS,CAACQ,KAAI,GAAI,KAAK;UACvBN,cAAc,CAACM,KAAI,GAAI,OAAO;QAChC;MACF,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IAED,MAAMI,cAAa,GAAIA,CAAA,KAAM;MAC3B,IAAI,CAACd,KAAK,CAACU,KAAK,EAAE;QAChBd,KAAK,CAAC,SAAS,CAAC;QAChB;MACF;MAEA,IAAI,CAAC,eAAe,CAACmB,IAAI,CAACf,KAAK,CAACU,KAAK,CAAC,EAAE;QACtCd,KAAK,CAAC,YAAY,CAAC;QACnB;MACF;;MAEA;MACAA,KAAK,CAAC,QAAQ,CAAC;MACfa,cAAc,CAAC,CAAC;IAClB,CAAC;IAED,MAAMO,QAAO,GAAIA,CAAA,KAAM;MACrB,IAAI,CAAChB,KAAK,CAACU,KAAK,EAAE;QAChBd,KAAK,CAAC,SAAS,CAAC;QAChB;MACF;MAEA,IAAI,CAACK,UAAU,CAACS,KAAK,EAAE;QACrBd,KAAK,CAAC,QAAQ,CAAC;QACf;MACF;;MAEA;MACAA,KAAK,CAAC,MAAM,CAAC;;MAEb;MACAG,MAAM,CAACkB,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,MAAMC,aAAY,GAAIA,CAAA,KAAM;MAC1Bb,kBAAkB,CAACK,KAAI,GAAI,IAAI;IACjC,CAAC;IAED,MAAMS,WAAU,GAAIA,CAAA,KAAM;MACxBb,gBAAgB,CAACI,KAAI,GAAI,IAAI;IAC/B,CAAC;IAED,OAAO;MACLV,KAAK;MACLC,UAAU;MACVC,SAAS;MACTE,cAAc;MACdC,kBAAkB;MAClBC,gBAAgB;MAChBC,WAAW;MACXO,cAAc;MACdE,QAAQ;MACRE,aAAa;MACbC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}