{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"result-container\"\n};\nconst _hoisted_2 = {\n  class: \"bazi-chart\"\n};\nconst _hoisted_3 = {\n  class: \"pillar\"\n};\nconst _hoisted_4 = {\n  class: \"stem\"\n};\nconst _hoisted_5 = {\n  class: \"branch\"\n};\nconst _hoisted_6 = {\n  class: \"pillar\"\n};\nconst _hoisted_7 = {\n  class: \"stem\"\n};\nconst _hoisted_8 = {\n  class: \"branch\"\n};\nconst _hoisted_9 = {\n  class: \"pillar\"\n};\nconst _hoisted_10 = {\n  class: \"stem\"\n};\nconst _hoisted_11 = {\n  class: \"branch\"\n};\nconst _hoisted_12 = {\n  class: \"pillar\"\n};\nconst _hoisted_13 = {\n  class: \"stem\"\n};\nconst _hoisted_14 = {\n  class: \"branch\"\n};\nconst _hoisted_15 = {\n  class: \"pillar\"\n};\nconst _hoisted_16 = {\n  class: \"label\"\n};\nconst _hoisted_17 = {\n  key: 2,\n  class: \"five-elements\"\n};\nconst _hoisted_18 = {\n  class: \"element-name\"\n};\nconst _hoisted_19 = {\n  class: \"element-value\"\n};\nconst _hoisted_20 = {\n  key: 3,\n  class: \"five-elements\"\n};\nconst _hoisted_21 = {\n  class: \"element-name\"\n};\nconst _hoisted_22 = {\n  key: 4,\n  class: \"shen-sha-info\"\n};\nconst _hoisted_23 = {\n  key: 5,\n  class: \"shen-sha-info\"\n};\nconst _hoisted_24 = {\n  key: 6,\n  class: \"da-yun-info\"\n};\nconst _hoisted_25 = {\n  key: 0,\n  class: \"da-yun-list\"\n};\nconst _hoisted_26 = {\n  key: 7,\n  class: \"da-yun-info\"\n};\nconst _hoisted_27 = {\n  key: 8,\n  class: \"flowing-years\"\n};\nconst _hoisted_28 = {\n  key: 9,\n  class: \"flowing-years\"\n};\nconst _hoisted_29 = {\n  class: \"ai-analysis\"\n};\nconst _hoisted_30 = {\n  key: 0,\n  class: \"age-notice\"\n};\nconst _hoisted_31 = {\n  key: 1,\n  class: \"age-notice\"\n};\nconst _hoisted_32 = {\n  key: 2,\n  class: \"age-notice\"\n};\nconst _hoisted_33 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_34 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_35 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_36 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_37 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_38 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_39 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_40 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_41 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_42 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_43 = {\n  class: \"analysis-section\"\n};\nconst _hoisted_44 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_45 = {\n  key: 0,\n  class: \"followup-section\"\n};\nconst _hoisted_46 = {\n  class: \"followup-options\"\n};\nconst _hoisted_47 = [\"onClick\"];\nconst _hoisted_48 = {\n  class: \"option-content\"\n};\nconst _hoisted_49 = {\n  class: \"option-name\"\n};\nconst _hoisted_50 = {\n  key: 0,\n  class: \"option-status\"\n};\nconst _hoisted_51 = {\n  key: 1,\n  class: \"option-status\"\n};\nconst _hoisted_52 = {\n  key: 0,\n  class: \"followup-result\"\n};\nconst _hoisted_53 = {\n  class: \"analysis-content\"\n};\nconst _hoisted_54 = {\n  class: \"followup-dialog-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_grid_item = _resolveComponent(\"van-grid-item\");\n  const _component_van_grid = _resolveComponent(\"van-grid\");\n  const _component_van_cell = _resolveComponent(\"van-cell\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_tab = _resolveComponent(\"van-tab\");\n  const _component_van_notice_bar = _resolveComponent(\"van-notice-bar\");\n  const _component_van_tabs = _resolveComponent(\"van-tabs\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_dialog = _resolveComponent(\"van-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_nav_bar, {\n    title: \"八字分析结果\",\n    \"left-text\": \"返回\",\n    \"left-arrow\": \"\",\n    onClickLeft: $setup.onClickLeft\n  }), _cache[29] || (_cache[29] = _createElementVNode(\"div\", {\n    class: \"result-header\"\n  }, [_createElementVNode(\"h2\", null, \"您的八字命盘分析\"), _createElementVNode(\"p\", null, \"基于您的出生信息，AI为您提供的个性化人生指导\")], -1 /* HOISTED */)), _createVNode(_component_van_tabs, {\n    modelValue: $setup.activeTab,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.activeTab = $event),\n    sticky: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_van_tab, {\n      title: \"命盘信息\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"八字命盘\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.yearPillar && $setup.baziData.monthPillar && $setup.baziData.dayPillar && $setup.baziData.hourPillar ? (_openBlock(), _createBlock(_component_van_grid, {\n        key: 0,\n        \"column-num\": 4,\n        border: false\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.baziData.yearPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.baziData.yearPillar.earthlyBranch), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"年柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.baziData.monthPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($setup.baziData.monthPillar.earthlyBranch), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"月柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString($setup.baziData.dayPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.baziData.dayPillar.earthlyBranch), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"日柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_van_grid_item, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString($setup.baziData.hourPillar.heavenlyStem), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.baziData.hourPillar.earthlyBranch), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n            class: \"label\"\n          }, \"时柱\", -1 /* HOISTED */))])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createCommentVNode(\" 数据缺失时显示占位符 \"), _createVNode(_component_van_grid, {\n        \"column-num\": 4,\n        border: false\n      }, {\n        default: _withCtx(() => [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['年柱', '月柱', '日柱', '时柱'], pillar => {\n          return _createVNode(_component_van_grid_item, {\n            key: pillar\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_15, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n              class: \"stem placeholder\"\n            }, \"--\", -1 /* HOISTED */)), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n              class: \"branch placeholder\"\n            }, \"--\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_16, _toDisplayString(pillar), 1 /* TEXT */)])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 64 /* STABLE_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, \"五行分布\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.fiveElements ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.fiveElements, (value, element) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"element\",\n          key: element\n        }, [_createElementVNode(\"div\", _hoisted_18, _toDisplayString($setup.getElementName(element)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_19, _toDisplayString(value), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['wood', 'fire', 'earth', 'metal', 'water'], element => {\n        return _createElementVNode(\"div\", {\n          class: \"element\",\n          key: element\n        }, [_createElementVNode(\"div\", _hoisted_21, _toDisplayString($setup.getElementName(element)), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n          class: \"element-value\"\n        }, \"--\", -1 /* HOISTED */))]);\n      }), 64 /* STABLE_FRAGMENT */))])), _createCommentVNode(\" 添加神煞显示 \"), _cache[11] || (_cache[11] = _createElementVNode(\"h3\", null, \"神煞信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.shenSha ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"日冲\",\n          value: $setup.baziData.shenSha.dayChong || '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"值神\",\n          value: $setup.baziData.shenSha.zhiShen || '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"彭祖百忌\",\n          value: $setup.baziData.shenSha.pengZuGan && $setup.baziData.shenSha.pengZuZhi ? `干：${$setup.baziData.shenSha.pengZuGan} 支：${$setup.baziData.shenSha.pengZuZhi}` : '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"喜神方位\",\n          value: $setup.baziData.shenSha.xiShen || '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"福神方位\",\n          value: $setup.baziData.shenSha.fuShen || '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"财神方位\",\n          value: $setup.baziData.shenSha.caiShen || '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"本命神煞\",\n          value: $setup.baziData.shenSha.benMing && $setup.baziData.shenSha.benMing.length ? $setup.baziData.shenSha.benMing.join('、') : '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"年干神煞\",\n          value: $setup.baziData.shenSha.yearGan && $setup.baziData.shenSha.yearGan.length ? $setup.baziData.shenSha.yearGan.join('、') : '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"年支神煞\",\n          value: $setup.baziData.shenSha.yearZhi && $setup.baziData.shenSha.yearZhi.length ? $setup.baziData.shenSha.yearZhi.join('、') : '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"日干神煞\",\n          value: $setup.baziData.shenSha.dayGan && $setup.baziData.shenSha.dayGan.length ? $setup.baziData.shenSha.dayGan.join('、') : '无'\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"日支神煞\",\n          value: $setup.baziData.shenSha.dayZhi && $setup.baziData.shenSha.dayZhi.length ? $setup.baziData.shenSha.dayZhi.join('、') : '无'\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"神煞信息\",\n          value: \"暂无数据\"\n        })]),\n        _: 1 /* STABLE */\n      })])), _createCommentVNode(\" 添加大运显示 \"), _cache[12] || (_cache[12] = _createElementVNode(\"h3\", null, \"大运信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.daYun ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"起运年龄\",\n          value: `${$setup.baziData.daYun.startAge}岁`\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"起运年份\",\n          value: `${$setup.baziData.daYun.startYear}年`\n        }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_van_cell, {\n          title: \"排法\",\n          value: $setup.baziData.daYun.isForward ? '顺排' : '逆排'\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 大运列表 \"), $setup.baziData.daYun.daYunList && $setup.baziData.daYun.daYunList.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.daYun.daYunList, (yun, index) => {\n          return _openBlock(), _createBlock(_component_van_cell, {\n            key: index,\n            title: `第${yun.index}运 (${yun.startAge}-${yun.endAge}岁)`,\n            value: `${yun.ganZhi} ${yun.element}`\n          }, {\n            label: _withCtx(() => [_createElementVNode(\"div\", null, _toDisplayString(yun.startYear) + \"-\" + _toDisplayString(yun.endYear) + \"年\", 1 /* TEXT */), _createElementVNode(\"div\", null, \"十神: \" + _toDisplayString(yun.shiShen), 1 /* TEXT */), _createElementVNode(\"div\", null, \"旺衰: \" + _toDisplayString(yun.wangShuai), 1 /* TEXT */), _createElementVNode(\"div\", null, \"纳音: \" + _toDisplayString(yun.naYin), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"value\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"大运信息\",\n          value: \"暂无数据\"\n        })]),\n        _: 1 /* STABLE */\n      })])), _cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"流年信息\", -1 /* HOISTED */)), $setup.baziData && $setup.baziData.flowingYears && $setup.baziData.flowingYears.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.baziData.flowingYears, (year, index) => {\n          return _openBlock(), _createBlock(_component_van_cell, {\n            key: index,\n            title: `${year.year || '--'}年: ${year.heavenlyStem || '--'}${year.earthlyBranch || '--'} (${$setup.getElementName(year.element) || '--'})`,\n            value: year.shenSha && year.shenSha.length ? year.shenSha.join('、') : '无神煞'\n          }, null, 8 /* PROPS */, [\"title\", \"value\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_createVNode(_component_van_cell_group, {\n        inset: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          title: \"流年信息\",\n          value: \"暂无数据\"\n        })]),\n        _: 1 /* STABLE */\n      })]))])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_van_tab, {\n      title: \"AI分析结果\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_29, [$setup.userAge !== null && $setup.userAge < 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_30, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\" 此分析针对未来出生的宝宝，重点关注性格特点、天赋才能和健康发展趋势。 \")])),\n        _: 1 /* STABLE */,\n        __: [14]\n      })])) : $setup.userAge !== null && $setup.userAge < 6 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 此分析针对婴幼儿(\" + _toDisplayString($setup.userAge) + \"岁)，重点关注性格特点、天赋才能和健康发展趋势。 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })])) : $setup.userAge !== null && $setup.userAge < 18 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [_createVNode(_component_van_notice_bar, {\n        color: \"#1989fa\",\n        background: \"#ecf9ff\",\n        \"left-icon\": \"info-o\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 此分析针对未成年人(\" + _toDisplayString($setup.userAge) + \"岁)，重点关注性格特点、学业发展和健康状况。 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_33, [_cache[15] || (_cache[15] = _createElementVNode(\"h3\", null, \"身体健康\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.health), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_34, [_cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"性格特点\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.personality || $setup.getAnalysisContent('性格特点')), 1 /* TEXT */)]), _createCommentVNode(\" 学业分析（对所有年龄段显示，但侧重点不同） \"), _createElementVNode(\"div\", _hoisted_35, [_cache[17] || (_cache[17] = _createElementVNode(\"h3\", null, \"学业分析\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.education || $setup.getAnalysisContent('学业分析')), 1 /* TEXT */)]), _createCommentVNode(\" 父母情况（所有年龄段都显示） \"), _createElementVNode(\"div\", _hoisted_36, [_cache[18] || (_cache[18] = _createElementVNode(\"h3\", null, \"父母情况\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.parents || '暂无父母情况分析'), 1 /* TEXT */)]), _createCommentVNode(\" 人际关系（所有年龄段都显示） \"), _createElementVNode(\"div\", _hoisted_37, [_cache[19] || (_cache[19] = _createElementVNode(\"h3\", null, \"人际关系\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.social || '暂无人际关系分析'), 1 /* TEXT */)]), _createCommentVNode(\" 财运分析（18岁以上显示，或者标注为未来发展） \"), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '财运分析' : '未来财运发展'), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.wealth), 1 /* TEXT */)]), _createCommentVNode(\" 事业发展（18岁以上显示，或者标注为未来发展） \"), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '事业发展' : '未来事业发展'), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.career), 1 /* TEXT */)]), _createCommentVNode(\" 婚姻感情（18岁以上显示，或者标注为未来发展） \"), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '婚姻感情' : '未来感情发展'), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.relationship), 1 /* TEXT */)]), _createCommentVNode(\" 子女情况（18岁以上显示，或者标注为未来发展） \"), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"h3\", null, _toDisplayString($setup.userAge !== null && $setup.userAge >= 18 ? '子女情况' : '未来子女缘分'), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.children), 1 /* TEXT */)]), _createCommentVNode(\" 近五年运势（所有年龄段都显示） \"), _createElementVNode(\"div\", _hoisted_42, [_cache[20] || (_cache[20] = _createElementVNode(\"h3\", null, \"近五年运势\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.future || $setup.getAnalysisContent('近五年运势') || $setup.aiAnalysis.overall), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_43, [_cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"综合建议\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.aiAnalysis.overall), 1 /* TEXT */)])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_44, [_createVNode(_component_van_button, {\n    type: \"primary\",\n    block: \"\",\n    onClick: $setup.downloadPDF\n  }, {\n    default: _withCtx(() => _cache[22] || (_cache[22] = [_createTextVNode(\" 下载PDF报告 \")])),\n    _: 1 /* STABLE */,\n    __: [22]\n  }), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"primary\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.shareResult\n  }, {\n    default: _withCtx(() => _cache[23] || (_cache[23] = [_createTextVNode(\" 分享结果 \")])),\n    _: 1 /* STABLE */,\n    __: [23]\n  }), _createCommentVNode(\" 本地生成PDF按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"info\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.handleLocalPDFGeneration\n  }, {\n    default: _withCtx(() => _cache[24] || (_cache[24] = [_createTextVNode(\" 本地生成PDF \")])),\n    _: 1 /* STABLE */,\n    __: [24]\n  }), _createCommentVNode(\" 调试按钮 \"), _createVNode(_component_van_button, {\n    plain: \"\",\n    type: \"warning\",\n    block: \"\",\n    style: {\n      \"margin-top\": \"10px\"\n    },\n    onClick: $setup.reloadBaziData\n  }, {\n    default: _withCtx(() => _cache[25] || (_cache[25] = [_createTextVNode(\" 重新加载分析数据 \")])),\n    _: 1 /* STABLE */,\n    __: [25]\n  })]), _createCommentVNode(\" 添加追问部分 \"), $setup.baziData && !$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_45, [_cache[26] || (_cache[26] = _createElementVNode(\"h2\", {\n    class: \"section-title\"\n  }, \"深度分析\", -1 /* HOISTED */)), _cache[27] || (_cache[27] = _createElementVNode(\"p\", {\n    class: \"section-desc\"\n  }, \"选择您感兴趣的领域，进行深度分析\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_46, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.followupOptions, option => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: option.id,\n      class: _normalizeClass([\"followup-option\", {\n        'paid': option.paid\n      }]),\n      onClick: $event => $setup.selectFollowupOption(option)\n    }, [_createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"span\", _hoisted_49, _toDisplayString(option.name), 1 /* TEXT */), option.paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_50, \"已解锁\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_51, \"￥9.9\"))])], 10 /* CLASS, PROPS */, _hoisted_47);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" 已支付的追问分析结果展示 \"), $setup.currentFollowup && $setup.currentFollowup.paid ? (_openBlock(), _createElementBlock(\"div\", _hoisted_52, [_createElementVNode(\"h3\", null, _toDisplayString($setup.currentFollowup.name) + \"分析\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_53, _toDisplayString($setup.followupAnalysis[$setup.currentFollowup.id] || '暂无分析结果'), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 追问支付对话框 \"), _createVNode(_component_van_dialog, {\n    show: $setup.showFollowupDialog,\n    \"onUpdate:show\": _cache[1] || (_cache[1] = $event => $setup.showFollowupDialog = $event),\n    title: \"深度分析\",\n    \"confirm-button-text\": \"支付 ￥9.9\",\n    onConfirm: $setup.payForFollowup,\n    \"before-close\": () => !$setup.isLoadingFollowup\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_54, [_createElementVNode(\"p\", null, \"您选择了「\" + _toDisplayString($setup.currentFollowup?.name) + \"」深度分析\", 1 /* TEXT */), _cache[28] || (_cache[28] = _createElementVNode(\"p\", null, \"支付后，AI将根据您的八字和流年运势，为您提供专业的命理分析\", -1 /* HOISTED */))])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\", \"before-close\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_createElementVNode","_component_van_tabs","modelValue","activeTab","_cache","$event","sticky","default","_withCtx","_component_van_tab","_hoisted_2","baziData","yearPillar","monthPillar","dayPillar","hourPillar","_createBlock","_component_van_grid","border","_component_van_grid_item","_hoisted_3","_hoisted_4","_toDisplayString","heavenlyStem","_hoisted_5","earthlyBranch","_","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_createCommentVNode","_renderList","pillar","_hoisted_15","_hoisted_16","fiveElements","_hoisted_17","value","element","_hoisted_18","getElementName","_hoisted_19","_hoisted_20","_hoisted_21","shenSha","_hoisted_22","_component_van_cell_group","inset","_component_van_cell","dayChong","zhiShen","pengZuGan","pengZuZhi","xiShen","fuShen","caiShen","benMing","length","join","yearGan","yearZhi","dayGan","dayZhi","_hoisted_23","daYun","_hoisted_24","startAge","startYear","isForward","daYunList","_hoisted_25","yun","index","endAge","ganZhi","label","endYear","shiShen","wangShuai","naYin","_hoisted_26","flowingYears","_hoisted_27","year","_hoisted_28","_hoisted_29","userAge","_hoisted_30","_component_van_notice_bar","color","background","_createTextVNode","__","_hoisted_31","_hoisted_32","_hoisted_33","aiAnalysis","health","_hoisted_34","personality","getAnalysisContent","_hoisted_35","education","_hoisted_36","parents","_hoisted_37","social","_hoisted_38","wealth","_hoisted_39","career","_hoisted_40","relationship","_hoisted_41","children","_hoisted_42","future","overall","_hoisted_43","_hoisted_44","_component_van_button","type","block","onClick","downloadPDF","plain","style","shareResult","handleLocalPDFGeneration","reloadBaziData","loading","_hoisted_45","_hoisted_46","followupOptions","option","id","_normalizeClass","paid","selectFollowupOption","_hoisted_48","_hoisted_49","name","_hoisted_50","_hoisted_51","_hoisted_47","currentFollowup","_hoisted_52","_hoisted_53","followupAnalysis","_component_van_dialog","show","showFollowupDialog","onConfirm","payForFollowup","before-close","isLoadingFollowup","_hoisted_54"],"sources":["D:\\Python\\20250603开发八字命理AI指导功能页码\\开发八字命理AI指导功能页码\\frontend\\src\\Result.vue"],"sourcesContent":["<template>\r\n  <div class=\"result-container\">\r\n    <van-nav-bar\r\n      title=\"八字分析结果\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    \r\n    <div class=\"result-header\">\r\n      <h2>您的八字命盘分析</h2>\r\n      <p>基于您的出生信息，AI为您提供的个性化人生指导</p>\r\n    </div>\r\n    \r\n    <van-tabs v-model=\"activeTab\" sticky>\r\n      <van-tab title=\"命盘信息\">\r\n        <div class=\"bazi-chart\">\r\n          <h3>八字命盘</h3>\r\n          <van-grid :column-num=\"4\" :border=\"false\" v-if=\"baziData && baziData.yearPillar && baziData.monthPillar && baziData.dayPillar && baziData.hourPillar\">\r\n            <van-grid-item>\r\n              <template #default>\r\n                <div class=\"pillar\">\r\n                  <div class=\"stem\">{{ baziData.yearPillar.heavenlyStem }}</div>\r\n                  <div class=\"branch\">{{ baziData.yearPillar.earthlyBranch }}</div>\r\n                  <div class=\"label\">年柱</div>\r\n                </div>\r\n              </template>\r\n            </van-grid-item>\r\n            <van-grid-item>\r\n              <template #default>\r\n                <div class=\"pillar\">\r\n                  <div class=\"stem\">{{ baziData.monthPillar.heavenlyStem }}</div>\r\n                  <div class=\"branch\">{{ baziData.monthPillar.earthlyBranch }}</div>\r\n                  <div class=\"label\">月柱</div>\r\n                </div>\r\n              </template>\r\n            </van-grid-item>\r\n            <van-grid-item>\r\n              <template #default>\r\n                <div class=\"pillar\">\r\n                  <div class=\"stem\">{{ baziData.dayPillar.heavenlyStem }}</div>\r\n                  <div class=\"branch\">{{ baziData.dayPillar.earthlyBranch }}</div>\r\n                  <div class=\"label\">日柱</div>\r\n                </div>\r\n              </template>\r\n            </van-grid-item>\r\n            <van-grid-item>\r\n              <template #default>\r\n                <div class=\"pillar\">\r\n                  <div class=\"stem\">{{ baziData.hourPillar.heavenlyStem }}</div>\r\n                  <div class=\"branch\">{{ baziData.hourPillar.earthlyBranch }}</div>\r\n                  <div class=\"label\">时柱</div>\r\n                </div>\r\n              </template>\r\n            </van-grid-item>\r\n          </van-grid>\r\n          \r\n          <!-- 数据缺失时显示占位符 -->\r\n          <van-grid :column-num=\"4\" :border=\"false\" v-else>\r\n            <van-grid-item v-for=\"pillar in ['年柱', '月柱', '日柱', '时柱']\" :key=\"pillar\">\r\n              <template #default>\r\n                <div class=\"pillar\">\r\n                  <div class=\"stem placeholder\">--</div>\r\n                  <div class=\"branch placeholder\">--</div>\r\n                  <div class=\"label\">{{ pillar }}</div>\r\n                </div>\r\n              </template>\r\n            </van-grid-item>\r\n          </van-grid>\r\n          \r\n          <h3>五行分布</h3>\r\n          <div class=\"five-elements\" v-if=\"baziData && baziData.fiveElements\">\r\n            <div class=\"element\" v-for=\"(value, element) in baziData.fiveElements\" :key=\"element\">\r\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\r\n              <div class=\"element-value\">{{ value }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"five-elements\" v-else>\r\n            <div class=\"element\" v-for=\"element in ['wood', 'fire', 'earth', 'metal', 'water']\" :key=\"element\">\r\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\r\n              <div class=\"element-value\">--</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 添加神煞显示 -->\r\n          <h3>神煞信息</h3>\r\n          <div class=\"shen-sha-info\" v-if=\"baziData && baziData.shenSha\">\r\n            <van-cell-group inset>\r\n              <van-cell title=\"日冲\" :value=\"baziData.shenSha.dayChong || '无'\" />\r\n              <van-cell title=\"值神\" :value=\"baziData.shenSha.zhiShen || '无'\" />\r\n              <van-cell title=\"彭祖百忌\" :value=\"(baziData.shenSha.pengZuGan && baziData.shenSha.pengZuZhi) ? `干：${baziData.shenSha.pengZuGan} 支：${baziData.shenSha.pengZuZhi}` : '无'\" />\r\n              <van-cell title=\"喜神方位\" :value=\"baziData.shenSha.xiShen || '无'\" />\r\n              <van-cell title=\"福神方位\" :value=\"baziData.shenSha.fuShen || '无'\" />\r\n              <van-cell title=\"财神方位\" :value=\"baziData.shenSha.caiShen || '无'\" />\r\n              <van-cell title=\"本命神煞\" :value=\"baziData.shenSha.benMing && baziData.shenSha.benMing.length ? baziData.shenSha.benMing.join('、') : '无'\" />\r\n              <van-cell title=\"年干神煞\" :value=\"baziData.shenSha.yearGan && baziData.shenSha.yearGan.length ? baziData.shenSha.yearGan.join('、') : '无'\" />\r\n              <van-cell title=\"年支神煞\" :value=\"baziData.shenSha.yearZhi && baziData.shenSha.yearZhi.length ? baziData.shenSha.yearZhi.join('、') : '无'\" />\r\n              <van-cell title=\"日干神煞\" :value=\"baziData.shenSha.dayGan && baziData.shenSha.dayGan.length ? baziData.shenSha.dayGan.join('、') : '无'\" />\r\n              <van-cell title=\"日支神煞\" :value=\"baziData.shenSha.dayZhi && baziData.shenSha.dayZhi.length ? baziData.shenSha.dayZhi.join('、') : '无'\" />\r\n            </van-cell-group>\r\n          </div>\r\n          <div class=\"shen-sha-info\" v-else>\r\n            <van-cell-group inset>\r\n              <van-cell title=\"神煞信息\" value=\"暂无数据\" />\r\n            </van-cell-group>\r\n          </div>\r\n          \r\n          <!-- 添加大运显示 -->\r\n          <h3>大运信息</h3>\r\n          <div class=\"da-yun-info\" v-if=\"baziData && baziData.daYun\">\r\n            <van-cell-group inset>\r\n              <van-cell title=\"起运年龄\" :value=\"`${baziData.daYun.startAge}岁`\" />\r\n              <van-cell title=\"起运年份\" :value=\"`${baziData.daYun.startYear}年`\" />\r\n              <van-cell title=\"排法\" :value=\"baziData.daYun.isForward ? '顺排' : '逆排'\" />\r\n            </van-cell-group>\r\n            \r\n            <!-- 大运列表 -->\r\n            <div class=\"da-yun-list\" v-if=\"baziData.daYun.daYunList && baziData.daYun.daYunList.length\">\r\n              <van-cell-group inset>\r\n                <van-cell v-for=\"(yun, index) in baziData.daYun.daYunList\" :key=\"index\"\r\n                          :title=\"`第${yun.index}运 (${yun.startAge}-${yun.endAge}岁)`\"\r\n                          :value=\"`${yun.ganZhi} ${yun.element}`\">\r\n                  <template #label>\r\n                    <div>{{yun.startYear}}-{{yun.endYear}}年</div>\r\n                    <div>十神: {{yun.shiShen}}</div>\r\n                    <div>旺衰: {{yun.wangShuai}}</div>\r\n                    <div>纳音: {{yun.naYin}}</div>\r\n                  </template>\r\n                </van-cell>\r\n              </van-cell-group>\r\n            </div>\r\n          </div>\r\n          <div class=\"da-yun-info\" v-else>\r\n            <van-cell-group inset>\r\n              <van-cell title=\"大运信息\" value=\"暂无数据\" />\r\n            </van-cell-group>\r\n          </div>\r\n          \r\n          <h3>流年信息</h3>\r\n          <div class=\"flowing-years\" v-if=\"baziData && baziData.flowingYears && baziData.flowingYears.length\">\r\n            <van-cell-group inset>\r\n              <van-cell v-for=\"(year, index) in baziData.flowingYears\" :key=\"index\"\r\n                :title=\"`${year.year || '--'}年: ${year.heavenlyStem || '--'}${year.earthlyBranch || '--'} (${getElementName(year.element) || '--'})`\"\r\n                :value=\"year.shenSha && year.shenSha.length ? year.shenSha.join('、') : '无神煞'\"\r\n              />\r\n            </van-cell-group>\r\n          </div>\r\n          <div class=\"flowing-years\" v-else>\r\n            <van-cell-group inset>\r\n              <van-cell title=\"流年信息\" value=\"暂无数据\" />\r\n            </van-cell-group>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n      \r\n      <van-tab title=\"AI分析结果\">\r\n        <div class=\"ai-analysis\">\r\n          <div v-if=\"userAge !== null && userAge < 0\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对未来出生的宝宝，重点关注性格特点、天赋才能和健康发展趋势。\r\n            </van-notice-bar>\r\n          </div>\r\n          <div v-else-if=\"userAge !== null && userAge < 6\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对婴幼儿({{userAge}}岁)，重点关注性格特点、天赋才能和健康发展趋势。\r\n            </van-notice-bar>\r\n          </div>\r\n          <div v-else-if=\"userAge !== null && userAge < 18\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对未成年人({{userAge}}岁)，重点关注性格特点、学业发展和健康状况。\r\n            </van-notice-bar>\r\n          </div>\r\n          \r\n          <div class=\"analysis-section\">\r\n            <h3>身体健康</h3>\r\n            <p>{{ aiAnalysis.health }}</p>\r\n          </div>\r\n          \r\n          <div class=\"analysis-section\">\r\n            <h3>性格特点</h3>\r\n            <p>{{ aiAnalysis.personality || getAnalysisContent('性格特点') }}</p>\r\n          </div>\r\n          \r\n          <!-- 学业分析（对所有年龄段显示，但侧重点不同） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>学业分析</h3>\r\n            <p>{{ aiAnalysis.education || getAnalysisContent('学业分析') }}</p>\r\n          </div>\r\n          \r\n          <!-- 父母情况（所有年龄段都显示） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>父母情况</h3>\r\n            <p>{{ aiAnalysis.parents || '暂无父母情况分析' }}</p>\r\n          </div>\r\n          \r\n          <!-- 人际关系（所有年龄段都显示） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>人际关系</h3>\r\n            <p>{{ aiAnalysis.social || '暂无人际关系分析' }}</p>\r\n          </div>\r\n          \r\n          <!-- 财运分析（18岁以上显示，或者标注为未来发展） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '财运分析' : '未来财运发展' }}</h3>\r\n            <p>{{ aiAnalysis.wealth }}</p>\r\n          </div>\r\n          \r\n          <!-- 事业发展（18岁以上显示，或者标注为未来发展） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '事业发展' : '未来事业发展' }}</h3>\r\n            <p>{{ aiAnalysis.career }}</p>\r\n          </div>\r\n          \r\n          <!-- 婚姻感情（18岁以上显示，或者标注为未来发展） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '婚姻感情' : '未来感情发展' }}</h3>\r\n            <p>{{ aiAnalysis.relationship }}</p>\r\n          </div>\r\n          \r\n          <!-- 子女情况（18岁以上显示，或者标注为未来发展） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '子女情况' : '未来子女缘分' }}</h3>\r\n            <p>{{ aiAnalysis.children }}</p>\r\n          </div>\r\n          \r\n          <!-- 近五年运势（所有年龄段都显示） -->\r\n          <div class=\"analysis-section\">\r\n            <h3>近五年运势</h3>\r\n            <p>{{ aiAnalysis.future || getAnalysisContent('近五年运势') || aiAnalysis.overall }}</p>\r\n          </div>\r\n          \r\n          <div class=\"analysis-section\">\r\n            <h3>综合建议</h3>\r\n            <p>{{ aiAnalysis.overall }}</p>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n    \r\n    <div class=\"action-buttons\">\r\n      <van-button type=\"primary\" block @click=\"downloadPDF\">\r\n        下载PDF报告\r\n      </van-button>\r\n      <van-button plain type=\"primary\" block style=\"margin-top: 10px;\" @click=\"shareResult\">\r\n        分享结果\r\n      </van-button>\r\n      \r\n      <!-- 本地生成PDF按钮 -->\r\n      <van-button plain type=\"info\" \r\n                  block \r\n                  style=\"margin-top: 10px;\" \r\n                  @click=\"handleLocalPDFGeneration\">\r\n        本地生成PDF\r\n      </van-button>\r\n      \r\n      <!-- 调试按钮 -->\r\n      <van-button plain type=\"warning\" \r\n                  block \r\n                  style=\"margin-top: 10px;\" \r\n                  @click=\"reloadBaziData\">\r\n        重新加载分析数据\r\n      </van-button>\r\n    </div>\r\n    \r\n    <!-- 添加追问部分 -->\r\n    <div class=\"followup-section\" v-if=\"baziData && !loading\">\r\n      <h2 class=\"section-title\">深度分析</h2>\r\n      <p class=\"section-desc\">选择您感兴趣的领域，进行深度分析</p>\r\n      \r\n      <div class=\"followup-options\">\r\n        <div \r\n          v-for=\"option in followupOptions\" \r\n          :key=\"option.id\" \r\n          class=\"followup-option\" \r\n          :class=\"{ 'paid': option.paid }\"\r\n          @click=\"selectFollowupOption(option)\"\r\n        >\r\n          <div class=\"option-content\">\r\n            <span class=\"option-name\">{{ option.name }}</span>\r\n            <span class=\"option-status\" v-if=\"option.paid\">已解锁</span>\r\n            <span class=\"option-status\" v-else>￥9.9</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 已支付的追问分析结果展示 -->\r\n      <div v-if=\"currentFollowup && currentFollowup.paid\" class=\"followup-result\">\r\n        <h3>{{ currentFollowup.name }}分析</h3>\r\n        <div class=\"analysis-content\">\r\n          {{ followupAnalysis[currentFollowup.id] || '暂无分析结果' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 追问支付对话框 -->\r\n    <van-dialog\r\n      v-model:show=\"showFollowupDialog\"\r\n      title=\"深度分析\"\r\n      confirm-button-text=\"支付 ￥9.9\"\r\n      @confirm=\"payForFollowup\"\r\n      :before-close=\"() => !isLoadingFollowup\"\r\n    >\r\n      <div class=\"followup-dialog-content\">\r\n        <p>您选择了「{{ currentFollowup?.name }}」深度分析</p>\r\n        <p>支付后，AI将根据您的八字和流年运势，为您提供专业的命理分析</p>\r\n      </div>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, reactive, computed } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { Toast, Dialog } from 'vant';\r\nimport { jsPDF } from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport axios from 'axios';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst resultId = route.params.id || route.query.resultId;\r\nconst activeTab = ref(0);\r\nconst loading = ref(false);\r\n\r\n// 用户年龄，从URL参数或localStorage获取\r\nconst userAge = ref(null);\r\n// 尝试从URL参数获取年龄\r\nif (route.query.age && !isNaN(parseInt(route.query.age))) {\r\n  userAge.value = parseInt(route.query.age);\r\n} \r\n// 如果URL参数中没有年龄，尝试从localStorage获取\r\nelse if (localStorage.getItem('userAge') && !isNaN(parseInt(localStorage.getItem('userAge')))) {\r\n  userAge.value = parseInt(localStorage.getItem('userAge'));\r\n}\r\n// 记录用户年龄到控制台，便于调试\r\nconsole.log('用户年龄:', userAge.value);\r\n\r\n// 从分析文本中提取特定部分内容\r\nconst getAnalysisContent = (sectionName) => {\r\n  try {\r\n    // 如果是性格特点或学业发展，直接从对应字段获取\r\n    if (sectionName === '性格特点' && aiAnalysis.value.personality) {\r\n      return aiAnalysis.value.personality;\r\n    }\r\n    \r\n    if (sectionName === '学业发展' && aiAnalysis.value.education) {\r\n      return aiAnalysis.value.education;\r\n    }\r\n    \r\n    // 处理健康分析文本，尝试提取学业、性格等内容\r\n    if (aiAnalysis.value.health) {\r\n      const healthText = aiAnalysis.value.health;\r\n      \r\n      // 查找各部分的标记\r\n      const sectionMatch = healthText.match(new RegExp(`###\\\\s*${sectionName}([\\\\s\\\\S]*?)(?=###|$)`, 'i'));\r\n      if (sectionMatch && sectionMatch[1]) {\r\n        return sectionMatch[1].trim();\r\n      }\r\n      \r\n      // 如果是未来发展，尝试从overall中提取\r\n      if (sectionName === '未来发展' && aiAnalysis.value.overall) {\r\n        const futureMatch = aiAnalysis.value.overall.match(/未来(\\d+)年[：:]([\\s\\S]*?)(?=（本分析|$)/i);\r\n        if (futureMatch && futureMatch[2]) {\r\n          return futureMatch[2].trim();\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 如果没有找到对应部分或提取失败，返回空字符串\r\n    return '';\r\n  } catch (e) {\r\n    console.error(`提取${sectionName}内容时出错:`, e);\r\n    return '';\r\n  }\r\n};\r\n\r\n// 修改数据初始化\r\nconst focusAreas = ref([]);\r\n\r\n// 初始化八字数据\r\nconst baziData = ref({\r\n  yearPillar: null,\r\n  monthPillar: null,\r\n  dayPillar: null,\r\n  hourPillar: null,\r\n  fiveElements: null,\r\n  flowingYears: [],\r\n  shenSha: null,\r\n  daYun: null,\r\n  birthDate: null,\r\n  birthTime: null,\r\n  gender: null\r\n});\r\n\r\n// 初始化分析数据\r\nconst aiAnalysis = ref({\r\n  health: '',\r\n  wealth: '',\r\n  career: '',\r\n  relationship: '',\r\n  children: '',\r\n  overall: '',\r\n  personality: '',\r\n  education: '',\r\n  parents: '',\r\n  social: '',\r\n  future: ''\r\n});\r\n\r\nconst testApiConnection = async () => {\r\n  try {\r\n    Toast.loading('正在测试API连接...');\r\n    // 使用配置好的http实例\r\n    const response = await axios.get('/');\r\n    console.log('API根路径响应:', response.data);\r\n    Toast.success('API连接成功');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('API连接测试失败:', error);\r\n    Toast.fail('API连接失败，请检查后端服务');\r\n    return false;\r\n  }\r\n};\r\n\r\nonMounted(async () => {\r\n  // 先测试API连接\r\n  const isApiConnected = await testApiConnection();\r\n  if (!isApiConnected) {\r\n    console.warn('API连接失败，将使用模拟数据');\r\n    loading.value = false;\r\n    return;\r\n  }\r\n  \r\n  console.log('结果页面加载，ID:', resultId);\r\n  \r\n  // 如果没有resultId，尝试从本地存储获取\r\n  const localResultId = localStorage.getItem('resultId');\r\n  if (!resultId && localResultId) {\r\n    console.log('从本地存储获取ID:', localResultId);\r\n  }\r\n  \r\n  const finalResultId = resultId || localResultId;\r\n  \r\n  if (!finalResultId) {\r\n    console.error('缺少结果ID，无法获取分析结果');\r\n    Toast.fail('缺少结果ID，无法获取分析结果');\r\n    loading.value = false;\r\n    return;\r\n  }\r\n  \r\n  // 调用getBaziResult函数获取结果\r\n  await getBaziResult();\r\n});\r\n\r\nconst getElementName = (element) => {\r\n  if (!element) return '--';\r\n  \r\n  const elementNames = {\r\n    'wood': '木',\r\n    'fire': '火',\r\n    'earth': '土',\r\n    'metal': '金',\r\n    'water': '水'\r\n  };\r\n  \r\n  return elementNames[element] || element;\r\n};\r\n\r\nconst onClickLeft = () => {\r\n  router.push('/');\r\n};\r\n\r\n// 修改后的直接流下载函数，适应后端始终返回文件流\r\nconst downloadPDFAsStream = async () => {\r\n  Toast.loading({\r\n    message: '正在生成PDF并下载报告...',\r\n    duration: 0,\r\n    position: 'middle',\r\n    forbidClick: true\r\n  });\r\n  \r\n  if (!resultId) {\r\n    Toast.clear();\r\n    Toast.fail('缺少结果ID，无法下载报告');\r\n    return false;\r\n  }\r\n  \r\n  try {\r\n    console.log('直接下载报告, 结果ID:', resultId);\r\n    \r\n    // 创建下载链接，添加时间戳避免缓存问题\r\n    const timestamp = new Date().getTime();\r\n    const downloadUrl = `/api/bazi/pdf/${resultId}?t=${timestamp}`;\r\n    console.log('下载URL:', downloadUrl);\r\n    \r\n    // 使用fetch API获取文件流\r\n    const response = await fetch(downloadUrl, {\r\n      method: 'GET',\r\n      cache: 'no-cache',\r\n      headers: {\r\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\r\n        'Pragma': 'no-cache',\r\n        'Expires': '0'\r\n      }\r\n    });\r\n    \r\n    // 检查错误\r\n    if (!response.ok) {\r\n      let errorMsg = `下载失败: HTTP错误 ${response.status}`;\r\n      try {\r\n        const contentType = response.headers.get('content-type');\r\n        if (contentType && contentType.includes('application/json')) {\r\n          const errorData = await response.json();\r\n          errorMsg = errorData.message || errorMsg;\r\n        } else {\r\n          // 如果不是JSON格式的错误，尝试获取文本错误信息\r\n          const errorText = await response.text();\r\n          if (errorText) {\r\n            errorMsg = `下载失败: ${errorText.substring(0, 100)}`;\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('解析错误响应失败:', e);\r\n      }\r\n      throw new Error(errorMsg);\r\n    }\r\n    \r\n    // 检查内容类型\r\n    const contentType = response.headers.get('content-type');\r\n    const disposition = response.headers.get('content-disposition');\r\n    \r\n    console.log('响应内容类型:', contentType);\r\n    console.log('响应内容处置:', disposition);\r\n    \r\n    // 确定文件名和扩展名\r\n    let filename = `八字命理分析_${resultId}.pdf`;\r\n    if (disposition && disposition.includes('filename=')) {\r\n      const filenameMatch = disposition.match(/filename=[\"']?([^\"']+)[\"']?/);\r\n      if (filenameMatch && filenameMatch[1]) {\r\n        filename = filenameMatch[1];\r\n      }\r\n    }\r\n    \r\n    // 确定文件类型\r\n    const fileExtension = contentType && contentType.includes('html') ? 'html' : 'pdf';\r\n    if (!filename.endsWith(fileExtension)) {\r\n      filename = `八字命理分析_${resultId}.${fileExtension}`;\r\n    }\r\n    \r\n    // 转换为Blob对象\r\n    const blob = await response.blob();\r\n    \r\n    // 检查Blob大小 - 注意：当浏览器接管下载时，可能会导致blob.size为0\r\n    // 因此，如果有Content-Disposition头部，我们应该认为下载已经开始\r\n    const isDownloadStarted = disposition && disposition.includes('attachment');\r\n    if (blob.size === 0 && !isDownloadStarted) {\r\n      throw new Error('下载的文件为空');\r\n    }\r\n    \r\n    // 对于小文件，我们可以验证文件内容\r\n    // 但对于大文件或浏览器接管的下载，跳过验证\r\n    if (blob.size > 0 && blob.size < 1024*1024 && contentType && contentType.includes('pdf')) {\r\n      try {\r\n        // 读取文件头部以验证是否为有效的PDF\r\n        const fileReader = new FileReader();\r\n        const headerPromise = new Promise((resolve, reject) => {\r\n          fileReader.onloadend = (e) => resolve(e.target.result);\r\n          fileReader.onerror = (e) => reject(e);\r\n        });\r\n        fileReader.readAsArrayBuffer(blob.slice(0, 5));\r\n        \r\n        const header = await headerPromise;\r\n        const headerView = new Uint8Array(header);\r\n        const headerString = String.fromCharCode.apply(null, headerView);\r\n        \r\n        if (!headerString.startsWith('%PDF')) {\r\n          console.error('无效的PDF文件头:', headerString);\r\n          throw new Error('下载的不是有效的PDF文件');\r\n        }\r\n      } catch (e) {\r\n        console.error('验证PDF文件失败:', e);\r\n        // 如果是浏览器接管下载导致的验证失败，我们不抛出错误\r\n        if (!isDownloadStarted) {\r\n          throw new Error('验证PDF文件失败: ' + e.message);\r\n        } else {\r\n          console.warn('浏览器接管了下载，跳过PDF验证');\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 如果浏览器已经接管下载（通过Content-Disposition头部），\r\n    // 我们不需要手动创建下载链接\r\n    if (!isDownloadStarted) {\r\n      // 创建下载链接\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = filename;\r\n      \r\n      // 触发下载\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      \r\n      // 清理\r\n      setTimeout(() => {\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      }, 100);\r\n    }\r\n    \r\n    Toast.clear();\r\n    Toast.success('报告下载成功');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('直接下载PDF出错:', error);\r\n    Toast.clear();\r\n    \r\n    // 检查是否是因为浏览器已经接管了下载而导致的错误\r\n    if (error.message && (\r\n        error.message.includes('下载的文件为空') || \r\n        error.message.includes('验证PDF文件失败')\r\n      )) {\r\n      // 如果是这类错误，可能是浏览器已经开始下载，我们不显示错误\r\n      console.log('可能是浏览器已经接管了下载，不显示错误');\r\n      Toast.success('报告下载已开始，请等待浏览器完成下载');\r\n      return true;\r\n    }\r\n    \r\n    // 显示错误信息\r\n    Toast.fail(error.message || '下载失败，请稍后重试');\r\n    return false;\r\n  }\r\n};\r\n\r\n// 修改主下载函数，添加重试逻辑\r\nconst downloadPDF = async () => {\r\n  Toast.loading({\r\n    message: '正在生成并下载PDF报告...',\r\n    duration: 5000,\r\n    position: 'middle'\r\n  });\r\n  \r\n  if (!resultId) {\r\n    Toast.fail('缺少结果ID，无法生成报告');\r\n    return;\r\n  }\r\n  \r\n  // 最多尝试3次下载\r\n  let attempts = 0;\r\n  let success = false;\r\n  \r\n  while (attempts < 3 && !success) {\r\n    attempts++;\r\n    \r\n    if (attempts > 1) {\r\n      console.log(`尝试第${attempts}次下载...`);\r\n      Toast.loading({\r\n        message: `尝试第${attempts}次下载...`,\r\n        duration: 2000\r\n      });\r\n      // 在重试之前等待一段时间\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n    }\r\n    \r\n    // 使用流式下载模式，并处理返回值\r\n    success = await downloadPDFAsStream();\r\n    \r\n    // 如果流式下载成功，直接返回，不再尝试其他方法\r\n    if (success === true) {\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // 如果多次尝试后仍然失败，提示用户\r\n  if (!success) {\r\n    Toast.clear();\r\n    Dialog.alert({\r\n      title: 'PDF下载失败',\r\n      message: '下载PDF报告失败，请稍后再试。如果问题持续存在，请联系客服。',\r\n    });\r\n  }\r\n};\r\n\r\n// 本地生成PDF的函数\r\nconst generatePDFLocally = async () => {\r\n  console.log('使用客户端jsPDF库生成PDF');\r\n  \r\n  // 获取内容元素\r\n  const element = document.querySelector('.result-container');\r\n  if (!element) {\r\n    throw new Error('找不到要转换的内容元素');\r\n  }\r\n  \r\n  Toast.loading({\r\n    message: '正在捕获页面内容...',\r\n    duration: 5000\r\n  });\r\n  \r\n  try {\r\n    // 使用html2canvas捕获内容\r\n    const canvas = await html2canvas(element, {\r\n      scale: 1,\r\n      useCORS: true,\r\n      logging: false,\r\n      windowWidth: document.documentElement.offsetWidth,\r\n      windowHeight: document.documentElement.offsetHeight,\r\n    });\r\n    \r\n    Toast.loading({\r\n      message: '正在生成PDF文件...',\r\n      duration: 5000\r\n    });\r\n        \r\n    // 创建PDF文档\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n        \r\n    // 计算尺寸和比例\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const imgWidth = 210; // A4宽度，单位mm\r\n    const pageHeight = 297; // A4高度，单位mm\r\n    const imgHeight = canvas.height * imgWidth / canvas.width;\r\n    let heightLeft = imgHeight;\r\n    let position = 0;\r\n          \r\n    // 添加首页\r\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n    heightLeft -= pageHeight;\r\n    \r\n    // 如果内容超过一页，添加更多页\r\n    while (heightLeft > 0) {\r\n      position = heightLeft - imgHeight;\r\n      pdf.addPage();\r\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n      heightLeft -= pageHeight;\r\n    }\r\n    \r\n    // 添加页脚\r\n    const pageCount = pdf.internal.getNumberOfPages();\r\n    for (let i = 1; i <= pageCount; i++) {\r\n      pdf.setPage(i);\r\n      pdf.setFontSize(10);\r\n      pdf.setTextColor(150);\r\n      pdf.text(`八字命理AI分析报告 - 页 ${i} / ${pageCount}`, pdf.internal.pageSize.getWidth() / 2, pdf.internal.pageSize.getHeight() - 10, { align: 'center' });\r\n    }\r\n    \r\n    // 保存PDF\r\n    pdf.save(`八字命理分析_${resultId}.pdf`);\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('本地PDF生成错误:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst shareResult = () => {\r\n  Toast.success('分享功能开发中');\r\n};\r\n\r\n// 处理本地PDF生成\r\nconst handleLocalPDFGeneration = async () => {\r\n  try {\r\n    Toast.loading({\r\n      message: '正在本地生成PDF...',\r\n      duration: 0,\r\n      forbidClick: true\r\n    });\r\n    \r\n    await generatePDFLocally();\r\n    \r\n    Toast.clear();\r\n    Toast.success('本地PDF生成成功');\r\n  } catch (error) {\r\n    console.error('本地PDF生成失败:', error);\r\n    Toast.clear();\r\n    Toast.fail('本地PDF生成失败: ' + (error.message || '未知错误'));\r\n  }\r\n};\r\n\r\nconst reloadBaziData = async () => {\r\n  Toast.loading('正在重新加载数据...');\r\n  \r\n  try {\r\n    if (!resultId) {\r\n      Toast.fail('缺少结果ID');\r\n      return;\r\n    }\r\n    \r\n    // 获取URL参数\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    \r\n    // 尝试使用模拟支付接口\r\n    try {\r\n      console.log('尝试使用模拟支付接口...');\r\n      \r\n      // 显示加载提示\r\n      Toast.loading({\r\n        message: '正在重新分析八字，请耐心等待30-60秒...',\r\n        duration: 10000,\r\n        position: 'middle'\r\n      });\r\n      \r\n      // 直接使用完整的resultId，不要去掉RES前缀\r\n      const mockPaymentResponse = await axios.post(`/api/order/mock/pay/${resultId}`, {\r\n        birthDate: urlParams.get('birthDate') || baziData.value.birthDate,\r\n        birthTime: urlParams.get('birthTime') || baziData.value.birthTime,\r\n        gender: urlParams.get('gender') || baziData.value.gender\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      console.log('模拟支付响应:', mockPaymentResponse.data);\r\n      \r\n      if (mockPaymentResponse.data.code === 200 && mockPaymentResponse.data.data.resultId) {\r\n        // 使用返回的resultId重新加载数据\r\n        const newResultId = mockPaymentResponse.data.data.resultId;\r\n        console.log('获取到新的resultId:', newResultId);\r\n        \r\n        const response = await axios.get(`/api/bazi/result/${newResultId}`);\r\n        if (response.data.code === 200) {\r\n          // 更新八字数据，使用空值合并运算符确保数据存在\r\n          baziData.value = {\r\n            yearPillar: response.data.data.baziChart?.yearPillar || null,\r\n            monthPillar: response.data.data.baziChart?.monthPillar || null,\r\n            dayPillar: response.data.data.baziChart?.dayPillar || null,\r\n            hourPillar: response.data.data.baziChart?.hourPillar || null,\r\n            fiveElements: response.data.data.baziChart?.fiveElements || null,\r\n            flowingYears: response.data.data.baziChart?.flowingYears || [],\r\n            shenSha: response.data.data.baziChart?.shenSha || null,\r\n            daYun: response.data.data.baziChart?.daYun || null,\r\n            birthDate: response.data.data.baziChart?.birthDate || null,\r\n            birthTime: response.data.data.baziChart?.birthTime || null,\r\n            gender: response.data.data.baziChart?.gender || null\r\n          };\r\n          \r\n          // 更新AI分析结果\r\n          aiAnalysis.value = {\r\n            health: response.data.data.aiAnalysis?.health || '',\r\n            wealth: response.data.data.aiAnalysis?.wealth || '',\r\n            career: response.data.data.aiAnalysis?.career || '',\r\n            relationship: response.data.data.aiAnalysis?.relationship || '',\r\n            children: response.data.data.aiAnalysis?.children || '',\r\n            overall: response.data.data.aiAnalysis?.overall || '',\r\n            personality: response.data.data.aiAnalysis?.personality || '',\r\n            education: response.data.data.aiAnalysis?.education || '',\r\n            parents: response.data.data.aiAnalysis?.parents || '',\r\n            social: response.data.data.aiAnalysis?.social || '',\r\n            future: response.data.data.aiAnalysis?.future || ''\r\n          };\r\n          \r\n          Toast.success('数据加载成功');\r\n          return;\r\n        }\r\n      }\r\n    } catch (mockError) {\r\n      console.warn('模拟支付失败，尝试直接获取结果:', mockError);\r\n    }\r\n    \r\n    // 如果模拟支付失败，尝试直接获取结果\r\n    const response = await axios.get(`/api/bazi/result/${resultId}`);\r\n    \r\n    if (response.data.code === 200) {\r\n      // 更新八字数据，使用空值合并运算符确保数据存在\r\n      baziData.value = {\r\n        yearPillar: response.data.data.baziChart?.yearPillar || null,\r\n        monthPillar: response.data.data.baziChart?.monthPillar || null,\r\n        dayPillar: response.data.data.baziChart?.dayPillar || null,\r\n        hourPillar: response.data.data.baziChart?.hourPillar || null,\r\n        fiveElements: response.data.data.baziChart?.fiveElements || null,\r\n        flowingYears: response.data.data.baziChart?.flowingYears || [],\r\n        shenSha: response.data.data.baziChart?.shenSha || null,\r\n        daYun: response.data.data.baziChart?.daYun || null,\r\n        birthDate: response.data.data.baziChart?.birthDate || null,\r\n        birthTime: response.data.data.baziChart?.birthTime || null,\r\n        gender: response.data.data.baziChart?.gender || null\r\n      };\r\n      \r\n      // 更新AI分析结果\r\n      aiAnalysis.value = {\r\n        health: response.data.data.aiAnalysis?.health || '',\r\n        wealth: response.data.data.aiAnalysis?.wealth || '',\r\n        career: response.data.data.aiAnalysis?.career || '',\r\n        relationship: response.data.data.aiAnalysis?.relationship || '',\r\n        children: response.data.data.aiAnalysis?.children || '',\r\n        overall: response.data.data.aiAnalysis?.overall || '',\r\n        personality: response.data.data.aiAnalysis?.personality || '',\r\n        education: response.data.data.aiAnalysis?.education || '',\r\n        parents: response.data.data.aiAnalysis?.parents || '',\r\n        social: response.data.data.aiAnalysis?.social || '',\r\n        future: response.data.data.aiAnalysis?.future || ''\r\n      };\r\n      \r\n      Toast.success('数据加载成功');\r\n    } else {\r\n      Toast.fail(response.data.message || '加载失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('重新加载失败:', error);\r\n    Toast.fail('加载失败: ' + (error.message || '未知错误'));\r\n  }\r\n};\r\n\r\n// 追问相关状态\r\nconst followupOptions = ref([\r\n  { id: 'marriage', name: '婚姻感情', selected: false, paid: false },\r\n  { id: 'career', name: '事业财运', selected: false, paid: false },\r\n  { id: 'children', name: '子女情况', selected: false, paid: false },\r\n  { id: 'parents', name: '父母情况', selected: false, paid: false },\r\n  { id: 'health', name: '身体健康', selected: false, paid: false },\r\n  { id: 'education', name: '学业', selected: false, paid: false },\r\n  { id: 'relationship', name: '人际关系', selected: false, paid: false },\r\n  { id: 'fiveYears', name: '近五年运势', selected: false, paid: false }\r\n]);\r\n\r\nconst currentFollowup = ref(null);\r\nconst showFollowupDialog = ref(false);\r\nconst followupAnalysis = ref({});\r\nconst isLoadingFollowup = ref(false);\r\n\r\n// 选择追问选项\r\nconst selectFollowupOption = (option) => {\r\n  // 如果已经支付过，直接显示结果\r\n  if (option.paid) {\r\n    // 显示已支付的分析结果\r\n    currentFollowup.value = option;\r\n    return;\r\n  }\r\n  \r\n  // 否则设置当前选择的追问选项\r\n  currentFollowup.value = option;\r\n  showFollowupDialog.value = true;\r\n};\r\n\r\n// 支付追问费用\r\nconst payForFollowup = async () => {\r\n  if (!currentFollowup.value) return;\r\n  \r\n  try {\r\n    isLoadingFollowup.value = true;\r\n    Toast.loading({\r\n      message: '处理中...',\r\n      forbidClick: true,\r\n      duration: 0\r\n    });\r\n    \r\n    // 创建追问订单\r\n    const orderResponse = await axios.post('/api/order/create/followup', {\r\n      resultId: resultId,\r\n      area: currentFollowup.value.id\r\n    });\r\n    \r\n    if (orderResponse.data.code === 200) {\r\n      const followupOrderId = orderResponse.data.data.orderId;\r\n      console.log('追问订单创建成功:', followupOrderId);\r\n      \r\n      // 模拟支付\r\n      const paymentResponse = await axios.post(`/api/order/mock/pay/${followupOrderId}`, {\r\n        birthDate: baziData.value?.birthDate || urlParams.get('birthDate'),\r\n        birthTime: baziData.value?.birthTime || urlParams.get('birthTime'),\r\n        gender: baziData.value?.gender || urlParams.get('gender'),\r\n        area: currentFollowup.value.id,\r\n        resultId: resultId\r\n      });\r\n      \r\n      if (paymentResponse.data.code === 200) {\r\n        console.log('追问支付成功:', paymentResponse.data);\r\n        \r\n        // 获取追问分析结果\r\n        await getFollowupAnalysis(currentFollowup.value.id);\r\n        \r\n        // 标记为已支付\r\n        const index = followupOptions.value.findIndex(o => o.id === currentFollowup.value.id);\r\n        if (index !== -1) {\r\n          followupOptions.value[index].paid = true;\r\n        }\r\n        \r\n        showFollowupDialog.value = false;\r\n        Toast.success('分析完成');\r\n      } else {\r\n        Toast.fail('支付失败');\r\n      }\r\n    } else {\r\n      Toast.fail('创建订单失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('追问支付过程出错:', error);\r\n    Toast.fail('处理失败，请重试');\r\n  } finally {\r\n    isLoadingFollowup.value = false;\r\n    Toast.clear();\r\n  }\r\n};\r\n\r\n// 获取追问分析结果\r\nconst getFollowupAnalysis = async (area) => {\r\n  loading.value = true;\r\n  try {\r\n    const response = await axios.get(`/api/bazi/followup/${resultId}/${area}`);\r\n    \r\n    if (response.data.code === 200) {\r\n      console.log('获取追问分析成功:', response.data);\r\n      followupAnalysis.value[area] = response.data.data.analysis;\r\n      return response.data.data.analysis;\r\n    } else {\r\n      console.error('获取追问分析失败:', response.data);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error('获取追问分析出错:', error);\r\n    return null;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// 检查已支付的追问\r\nconst checkPaidFollowups = async () => {\r\n  try {\r\n    const response = await axios.get(`/api/bazi/followup/list/${resultId}`);\r\n    \r\n    if (response.data.code === 200 && response.data.data.followups) {\r\n      const paidFollowups = response.data.data.followups;\r\n      \r\n      // 更新已支付的追问选项\r\n      followupOptions.value = followupOptions.value.map(option => {\r\n        const isPaid = paidFollowups.some(f => f.area === option.id);\r\n        if (isPaid) {\r\n          // 如果已支付，获取分析结果\r\n          getFollowupAnalysis(option.id);\r\n        }\r\n        return { ...option, paid: isPaid };\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('检查已支付追问出错:', error);\r\n  }\r\n};\r\n\r\n// 修改getBaziResult函数\r\nconst getBaziResult = async () => {\r\n  loading.value = true;\r\n  try {\r\n    console.log('获取八字分析结果，ID:', resultId);\r\n    const response = await axios.get(`/api/bazi/result/${resultId}`);\r\n    console.log('八字分析结果:', response.data);\r\n    \r\n    if (response.data.code === 200 && response.data.data) {\r\n      // 更新八字数据，使用空值合并运算符确保数据存在\r\n      baziData.value = {\r\n        yearPillar: response.data.data.baziChart?.yearPillar || null,\r\n        monthPillar: response.data.data.baziChart?.monthPillar || null,\r\n        dayPillar: response.data.data.baziChart?.dayPillar || null,\r\n        hourPillar: response.data.data.baziChart?.hourPillar || null,\r\n        fiveElements: response.data.data.baziChart?.fiveElements || null,\r\n        flowingYears: response.data.data.baziChart?.flowingYears || [],\r\n        shenSha: response.data.data.baziChart?.shenSha || null,\r\n        daYun: response.data.data.baziChart?.daYun || null,\r\n        birthDate: response.data.data.baziChart?.birthDate || null,\r\n        birthTime: response.data.data.baziChart?.birthTime || null,\r\n        gender: response.data.data.baziChart?.gender || null\r\n      };\r\n      \r\n      // 更新AI分析结果\r\n      aiAnalysis.value = {\r\n        health: response.data.data.aiAnalysis?.health || '',\r\n        wealth: response.data.data.aiAnalysis?.wealth || '',\r\n        career: response.data.data.aiAnalysis?.career || '',\r\n        relationship: response.data.data.aiAnalysis?.relationship || '',\r\n        children: response.data.data.aiAnalysis?.children || '',\r\n        overall: response.data.data.aiAnalysis?.overall || '',\r\n        personality: response.data.data.aiAnalysis?.personality || '',\r\n        education: response.data.data.aiAnalysis?.education || '',\r\n        parents: response.data.data.aiAnalysis?.parents || '',\r\n        social: response.data.data.aiAnalysis?.social || '',\r\n        future: response.data.data.aiAnalysis?.future || ''\r\n      };\r\n      \r\n      // 检查数据完整性\r\n      if (!baziData.value.yearPillar || !baziData.value.monthPillar || \r\n          !baziData.value.dayPillar || !baziData.value.hourPillar) {\r\n        console.warn('八字数据不完整');\r\n        Toast.fail('八字数据不完整，请重新生成');\r\n        return;\r\n      }\r\n      \r\n      // 初始化追问选项\r\n      initFollowupOptions();\r\n      \r\n      // 加载已支付的追问分析结果\r\n      await loadFollowupResults();\r\n      \r\n      Toast.success('分析结果加载成功');\r\n    } else {\r\n      console.error('获取八字分析结果失败:', response.data.message);\r\n      Toast.fail(response.data.message || '获取分析结果失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取八字分析结果出错:', error);\r\n    Toast.fail('获取分析结果失败，请稍后再试');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// 添加缺失的函数\r\n// 初始化追问选项\r\nconst initFollowupOptions = () => {\r\n  // 根据用户年龄调整追问选项\r\n  if (userAge.value !== null) {\r\n    if (userAge.value < 6) {\r\n      // 为婴幼儿调整选项\r\n      followupOptions.value = followupOptions.value.filter(option => \r\n        ['health', 'personality', 'education', 'parents'].includes(option.id)\r\n      );\r\n    } else if (userAge.value < 18) {\r\n      // 为未成年人调整选项\r\n      followupOptions.value = followupOptions.value.filter(option => \r\n        !['marriage', 'career'].includes(option.id)\r\n      );\r\n    }\r\n  }\r\n  \r\n  console.log('初始化追问选项完成:', followupOptions.value);\r\n};\r\n\r\n// 加载已支付的追问分析结果\r\nconst loadFollowupResults = async () => {\r\n  try {\r\n    // 检查是否有结果ID\r\n    if (!resultId) {\r\n      console.warn('缺少结果ID，无法加载追问分析');\r\n      return;\r\n    }\r\n    \r\n    // 调用API获取已支付的追问列表\r\n    const response = await axios.get(`/api/bazi/followup/list/${resultId}`);\r\n    \r\n    if (response.data.code === 200 && response.data.data.followups) {\r\n      const paidFollowups = response.data.data.followups;\r\n      \r\n      // 更新已支付的追问选项\r\n      followupOptions.value = followupOptions.value.map(option => {\r\n        const isPaid = paidFollowups.some(f => f.area === option.id);\r\n        if (isPaid) {\r\n          // 如果已支付，获取分析结果\r\n          getFollowupAnalysis(option.id);\r\n        }\r\n        return { ...option, paid: isPaid };\r\n      });\r\n      \r\n      console.log('已加载追问分析结果:', paidFollowups);\r\n    }\r\n  } catch (error) {\r\n    console.error('加载追问分析结果出错:', error);\r\n    // 出错时不显示错误提示，静默失败\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.result-container {\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.result-header {\r\n  text-align: center;\r\n  padding: 20px 0;\r\n  background-color: #f2f3f5;\r\n}\r\n\r\n.result-header h2 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: #323233;\r\n}\r\n\r\n.result-header p {\r\n  margin: 10px 0 0;\r\n  font-size: 14px;\r\n  color: #969799;\r\n}\r\n\r\n.bazi-chart {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.bazi-chart h3 {\r\n  margin: 20px 0 10px;\r\n  color: #323233;\r\n}\r\n\r\n.pillar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.stem {\r\n  width: 40px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  background-color: #1989fa;\r\n  color: white;\r\n  border-radius: 4px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.branch {\r\n  width: 40px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  background-color: #07c160;\r\n  color: white;\r\n  border-radius: 4px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.label {\r\n  font-size: 12px;\r\n  color: #646566;\r\n}\r\n\r\n.five-elements {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n}\r\n\r\n.element {\r\n  text-align: center;\r\n  flex: 1;\r\n}\r\n\r\n.element-name {\r\n  font-size: 14px;\r\n  color: #323233;\r\n}\r\n\r\n.element-value {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #1989fa;\r\n  margin-top: 5px;\r\n}\r\n\r\n.flowing-years {\r\n  margin: 20px 0;\r\n}\r\n\r\n.ai-analysis {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.analysis-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.analysis-section h3 {\r\n  margin: 0 0 10px;\r\n  color: #323233;\r\n}\r\n\r\n.analysis-section p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #646566;\r\n  line-height: 1.6;\r\n}\r\n\r\n.action-buttons {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.age-notice {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.shen-sha-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.da-yun-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.qi-yun-info {\r\n  margin: 0 0 10px;\r\n  font-size: 14px;\r\n  color: #646566;\r\n}\r\n\r\n.da-yun-table {\r\n  margin-top: 10px;\r\n}\r\n\r\n.placeholder {\r\n  background-color: #f2f3f5;\r\n  color: #969799;\r\n}\r\n\r\n/* 追问部分样式 */\r\n.followup-section {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.section-desc {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.followup-options {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 12px;\r\n}\r\n\r\n.followup-option {\r\n  background-color: #f5f7fa;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.followup-option:hover {\r\n  background-color: #e8f0fe;\r\n}\r\n\r\n.followup-option.paid {\r\n  background-color: #e6f7ff;\r\n  border: 1px solid #91d5ff;\r\n}\r\n\r\n.option-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.option-name {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n}\r\n\r\n.option-status {\r\n  font-size: 13px;\r\n  color: #ff6b00;\r\n}\r\n\r\n.followup-option.paid .option-status {\r\n  color: #52c41a;\r\n}\r\n\r\n.followup-result {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border-left: 4px solid #1989fa;\r\n}\r\n\r\n.followup-result h3 {\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.analysis-content {\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.followup-dialog-content {\r\n  padding: 15px;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}