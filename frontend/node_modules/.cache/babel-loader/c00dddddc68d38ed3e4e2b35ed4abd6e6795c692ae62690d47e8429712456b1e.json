{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { showToast } from 'vant';\nimport { jsPDF } from 'jspdf';\nimport html2canvas from 'html2canvas';\nexport default {\n  __name: 'Result',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const resultId = route.params.id;\n    const activeTab = ref(0);\n\n    // 模拟数据，实际项目中应该从API获取\n    const focusAreas = ref(['health', 'wealth', 'career', 'relationship']);\n    const baziData = ref({\n      yearPillar: {\n        heavenlyStem: '甲',\n        earthlyBranch: '子',\n        element: '水'\n      },\n      monthPillar: {\n        heavenlyStem: '丙',\n        earthlyBranch: '寅',\n        element: '木'\n      },\n      dayPillar: {\n        heavenlyStem: '戊',\n        earthlyBranch: '午',\n        element: '火'\n      },\n      hourPillar: {\n        heavenlyStem: '庚',\n        earthlyBranch: '申',\n        element: '金'\n      },\n      fiveElements: {\n        wood: 2,\n        fire: 2,\n        earth: 1,\n        metal: 2,\n        water: 1\n      },\n      flowingYears: [{\n        year: 2025,\n        heavenlyStem: '乙',\n        earthlyBranch: '丑',\n        element: '土'\n      }, {\n        year: 2026,\n        heavenlyStem: '丙',\n        earthlyBranch: '寅',\n        element: '木'\n      }, {\n        year: 2027,\n        heavenlyStem: '丁',\n        earthlyBranch: '卯',\n        element: '木'\n      }, {\n        year: 2028,\n        heavenlyStem: '戊',\n        earthlyBranch: '辰',\n        element: '土'\n      }, {\n        year: 2029,\n        heavenlyStem: '己',\n        earthlyBranch: '巳',\n        element: '火'\n      }]\n    });\n    const aiAnalysis = ref({\n      health: '您的八字中火土较旺，木水偏弱。从健康角度看，您需要注意心脑血管系统和消化系统的保养。建议平时多喝水，保持规律作息，避免过度劳累和情绪波动。2025-2026年间需特别注意肝胆健康，可适当增加绿色蔬菜的摄入，定期体检。',\n      wealth: '您的财运在2025年有明显上升趋势，特别是在春夏季节。八字中金水相生，适合从事金融、贸易、水利相关行业。投资方面，稳健为主，可考虑分散投资组合。2027年有意外财运，但需谨慎对待，避免投机性强的项目。',\n      career: '您的事业宫位较为稳定，具有较强的组织能力和执行力。2025-2026年是事业发展的关键期，有升职或转行的机会。建议提升专业技能，扩展人脉关系。您适合在团队中担任协调或管理角色，发挥沟通才能。',\n      relationship: '您的八字中日柱为戊午，感情态度较为务实。2025年下半年至2026年上半年是感情发展的良好时期。已婚者需注意与伴侣的沟通，避免因工作忙碌而忽略家庭。单身者有机会通过社交活动或朋友介绍认识合适的对象。',\n      children: '您的子女宫位较为温和，与子女关系和谐。教育方面，建议采用引导式而非强制式的方法，尊重子女的兴趣发展。2026-2027年是子女发展的重要阶段，可能需要您更多的关注和支持。',\n      overall: '综合分析您的八字，2025-2027年是您人生的一个上升期，各方面都有良好发展。建议把握这段时间，在事业上积极进取，在健康上注意保养，在人际关系上广结善缘。您的人生态度积极乐观，具有较强的适应能力和抗压能力，这将帮助您度过人生中的各种挑战。'\n    });\n    onMounted(() => {\n      // 实际项目中这里应该调用API获取分析结果\n      console.log('获取分析结果', resultId);\n    });\n    const getElementName = element => {\n      const elementNames = {\n        wood: '木',\n        fire: '火',\n        earth: '土',\n        metal: '金',\n        water: '水'\n      };\n      return elementNames[element] || element;\n    };\n    const onClickLeft = () => {\n      router.push('/');\n    };\n    const downloadPDF = () => {\n      showToast('正在生成PDF，请稍候...');\n\n      // 实际项目中应该调用后端API下载PDF\n      // 这里仅做前端演示\n      setTimeout(() => {\n        showToast('PDF生成成功，开始下载');\n      }, 1500);\n    };\n    const shareResult = () => {\n      showToast('分享功能开发中');\n    };\n    const __returned__ = {\n      route,\n      router,\n      resultId,\n      activeTab,\n      focusAreas,\n      baziData,\n      aiAnalysis,\n      getElementName,\n      onClickLeft,\n      downloadPDF,\n      shareResult,\n      ref,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get showToast() {\n        return showToast;\n      },\n      get jsPDF() {\n        return jsPDF;\n      },\n      get html2canvas() {\n        return html2canvas;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRoute","useRouter","showToast","jsPDF","html2canvas","route","router","resultId","params","id","activeTab","focusAreas","baziData","yearPillar","heavenlyStem","earthlyBranch","element","monthPillar","dayPillar","hourPillar","fiveElements","wood","fire","earth","metal","water","flowingYears","year","aiAnalysis","health","wealth","career","relationship","children","overall","console","log","getElementName","elementNames","onClickLeft","push","downloadPDF","setTimeout","shareResult"],"sources":["C:/Users/123/Desktop/开发八字命理AI指导功能页码/frontend/src/Result.vue"],"sourcesContent":["<template>\n  <div class=\"result-container\">\n    <van-nav-bar\n      title=\"八字分析结果\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"result-header\">\n      <h2>您的八字命盘分析</h2>\n      <p>基于您的出生信息，AI为您提供的个性化人生指导</p>\n    </div>\n    \n    <van-tabs v-model=\"activeTab\" sticky>\n      <van-tab title=\"命盘信息\">\n        <div class=\"bazi-chart\">\n          <h3>八字命盘</h3>\n          <van-grid :column-num=\"4\" :border=\"false\">\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.yearPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.yearPillar.earthlyBranch }}</div>\n                  <div class=\"label\">年柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.monthPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.monthPillar.earthlyBranch }}</div>\n                  <div class=\"label\">月柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.dayPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.dayPillar.earthlyBranch }}</div>\n                  <div class=\"label\">日柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n            <van-grid-item>\n              <template #default>\n                <div class=\"pillar\">\n                  <div class=\"stem\">{{ baziData.hourPillar.heavenlyStem }}</div>\n                  <div class=\"branch\">{{ baziData.hourPillar.earthlyBranch }}</div>\n                  <div class=\"label\">时柱</div>\n                </div>\n              </template>\n            </van-grid-item>\n          </van-grid>\n          \n          <h3>五行分布</h3>\n          <div class=\"five-elements\">\n            <div class=\"element\" v-for=\"(value, element) in baziData.fiveElements\" :key=\"element\">\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\n              <div class=\"element-value\">{{ value }}</div>\n            </div>\n          </div>\n          \n          <h3>大运流年</h3>\n          <div class=\"flowing-years\">\n            <van-steps direction=\"horizontal\" :active=\"2\">\n              <van-step v-for=\"(year, index) in baziData.flowingYears.slice(0, 5)\" :key=\"index\">\n                {{ year.year }}年<br>\n                {{ year.heavenlyStem }}{{ year.earthlyBranch }}\n              </van-step>\n            </van-steps>\n          </div>\n        </div>\n      </van-tab>\n      \n      <van-tab title=\"AI分析结果\">\n        <div class=\"ai-analysis\">\n          <template v-if=\"focusAreas.includes('health')\">\n            <div class=\"analysis-section\">\n              <h3>身体健康</h3>\n              <p>{{ aiAnalysis.health }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('wealth')\">\n            <div class=\"analysis-section\">\n              <h3>财运分析</h3>\n              <p>{{ aiAnalysis.wealth }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('career')\">\n            <div class=\"analysis-section\">\n              <h3>事业发展</h3>\n              <p>{{ aiAnalysis.career }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('relationship')\">\n            <div class=\"analysis-section\">\n              <h3>婚姻感情</h3>\n              <p>{{ aiAnalysis.relationship }}</p>\n            </div>\n          </template>\n          \n          <template v-if=\"focusAreas.includes('children')\">\n            <div class=\"analysis-section\">\n              <h3>子女缘分</h3>\n              <p>{{ aiAnalysis.children }}</p>\n            </div>\n          </template>\n          \n          <div class=\"analysis-section\">\n            <h3>综合建议</h3>\n            <p>{{ aiAnalysis.overall }}</p>\n          </div>\n        </div>\n      </van-tab>\n    </van-tabs>\n    \n    <div class=\"action-buttons\">\n      <van-button type=\"primary\" block @click=\"downloadPDF\">\n        下载PDF报告\n      </van-button>\n      <van-button plain type=\"primary\" block style=\"margin-top: 10px;\" @click=\"shareResult\">\n        分享结果\n      </van-button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { showToast } from 'vant';\nimport { jsPDF } from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst route = useRoute();\nconst router = useRouter();\nconst resultId = route.params.id;\nconst activeTab = ref(0);\n\n// 模拟数据，实际项目中应该从API获取\nconst focusAreas = ref(['health', 'wealth', 'career', 'relationship']);\n\nconst baziData = ref({\n  yearPillar: {\n    heavenlyStem: '甲',\n    earthlyBranch: '子',\n    element: '水'\n  },\n  monthPillar: {\n    heavenlyStem: '丙',\n    earthlyBranch: '寅',\n    element: '木'\n  },\n  dayPillar: {\n    heavenlyStem: '戊',\n    earthlyBranch: '午',\n    element: '火'\n  },\n  hourPillar: {\n    heavenlyStem: '庚',\n    earthlyBranch: '申',\n    element: '金'\n  },\n  fiveElements: {\n    wood: 2,\n    fire: 2,\n    earth: 1,\n    metal: 2,\n    water: 1\n  },\n  flowingYears: [\n    {\n      year: 2025,\n      heavenlyStem: '乙',\n      earthlyBranch: '丑',\n      element: '土'\n    },\n    {\n      year: 2026,\n      heavenlyStem: '丙',\n      earthlyBranch: '寅',\n      element: '木'\n    },\n    {\n      year: 2027,\n      heavenlyStem: '丁',\n      earthlyBranch: '卯',\n      element: '木'\n    },\n    {\n      year: 2028,\n      heavenlyStem: '戊',\n      earthlyBranch: '辰',\n      element: '土'\n    },\n    {\n      year: 2029,\n      heavenlyStem: '己',\n      earthlyBranch: '巳',\n      element: '火'\n    }\n  ]\n});\n\nconst aiAnalysis = ref({\n  health: '您的八字中火土较旺，木水偏弱。从健康角度看，您需要注意心脑血管系统和消化系统的保养。建议平时多喝水，保持规律作息，避免过度劳累和情绪波动。2025-2026年间需特别注意肝胆健康，可适当增加绿色蔬菜的摄入，定期体检。',\n  wealth: '您的财运在2025年有明显上升趋势，特别是在春夏季节。八字中金水相生，适合从事金融、贸易、水利相关行业。投资方面，稳健为主，可考虑分散投资组合。2027年有意外财运，但需谨慎对待，避免投机性强的项目。',\n  career: '您的事业宫位较为稳定，具有较强的组织能力和执行力。2025-2026年是事业发展的关键期，有升职或转行的机会。建议提升专业技能，扩展人脉关系。您适合在团队中担任协调或管理角色，发挥沟通才能。',\n  relationship: '您的八字中日柱为戊午，感情态度较为务实。2025年下半年至2026年上半年是感情发展的良好时期。已婚者需注意与伴侣的沟通，避免因工作忙碌而忽略家庭。单身者有机会通过社交活动或朋友介绍认识合适的对象。',\n  children: '您的子女宫位较为温和，与子女关系和谐。教育方面，建议采用引导式而非强制式的方法，尊重子女的兴趣发展。2026-2027年是子女发展的重要阶段，可能需要您更多的关注和支持。',\n  overall: '综合分析您的八字，2025-2027年是您人生的一个上升期，各方面都有良好发展。建议把握这段时间，在事业上积极进取，在健康上注意保养，在人际关系上广结善缘。您的人生态度积极乐观，具有较强的适应能力和抗压能力，这将帮助您度过人生中的各种挑战。'\n});\n\nonMounted(() => {\n  // 实际项目中这里应该调用API获取分析结果\n  console.log('获取分析结果', resultId);\n});\n\nconst getElementName = (element) => {\n  const elementNames = {\n    wood: '木',\n    fire: '火',\n    earth: '土',\n    metal: '金',\n    water: '水'\n  };\n  return elementNames[element] || element;\n};\n\nconst onClickLeft = () => {\n  router.push('/');\n};\n\nconst downloadPDF = () => {\n  showToast('正在生成PDF，请稍候...');\n  \n  // 实际项目中应该调用后端API下载PDF\n  // 这里仅做前端演示\n  setTimeout(() => {\n    showToast('PDF生成成功，开始下载');\n  }, 1500);\n};\n\nconst shareResult = () => {\n  showToast('分享功能开发中');\n};\n</script>\n\n<style scoped>\n.result-container {\n  padding-bottom: 20px;\n}\n\n.result-header {\n  text-align: center;\n  padding: 20px 0;\n  background-color: #f2f3f5;\n}\n\n.result-header h2 {\n  margin: 0;\n  font-size: 20px;\n  color: #323233;\n}\n\n.result-header p {\n  margin: 10px 0 0;\n  font-size: 14px;\n  color: #969799;\n}\n\n.bazi-chart {\n  padding: 20px 16px;\n}\n\n.bazi-chart h3 {\n  margin: 20px 0 10px;\n  color: #323233;\n}\n\n.pillar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.stem {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background-color: #1989fa;\n  color: white;\n  border-radius: 4px;\n  margin-bottom: 5px;\n}\n\n.branch {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background-color: #07c160;\n  color: white;\n  border-radius: 4px;\n  margin-bottom: 5px;\n}\n\n.label {\n  font-size: 12px;\n  color: #646566;\n}\n\n.five-elements {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n}\n\n.element {\n  text-align: center;\n  flex: 1;\n}\n\n.element-name {\n  font-size: 14px;\n  color: #323233;\n}\n\n.element-value {\n  font-size: 18px;\n  font-weight: bold;\n  color: #1989fa;\n  margin-top: 5px;\n}\n\n.flowing-years {\n  margin: 20px 0;\n}\n\n.ai-analysis {\n  padding: 20px 16px;\n}\n\n.analysis-section {\n  margin-bottom: 20px;\n}\n\n.analysis-section h3 {\n  margin: 0 0 10px;\n  color: #323233;\n}\n\n.analysis-section p {\n  margin: 0;\n  font-size: 14px;\n  color: #646566;\n  line-height: 1.6;\n}\n\n.action-buttons {\n  padding: 20px 16px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}