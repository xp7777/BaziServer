{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-container\"\n};\nconst _hoisted_2 = {\n  class: \"user-info\"\n};\nconst _hoisted_3 = {\n  class: \"avatar\"\n};\nconst _hoisted_4 = {\n  class: \"user-name\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"login-action\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"empty-history\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_image = _resolveComponent(\"van-image\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_cell = _resolveComponent(\"van-cell\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_empty = _resolveComponent(\"van-empty\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_nav_bar, {\n    title: \"个人中心\"\n  }), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_van_image, {\n    round: \"\",\n    width: \"80\",\n    height: \"80\",\n    src: \"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg\"\n  })]), _createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.userInfo.phone || '未登录'), 1 /* TEXT */), !$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_van_button, {\n    type: \"primary\",\n    size: \"small\",\n    onClick: $setup.goToLogin\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"登录/注册\")])),\n    _: 1 /* STABLE */,\n    __: [0]\n  }, 8 /* PROPS */, [\"onClick\"])])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_van_cell_group, {\n    inset: \"\",\n    title: \"我的服务\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_van_cell, {\n      title: \"历史查询记录\",\n      \"is-link\": \"\",\n      onClick: $setup.goToHistory\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_van_cell, {\n      title: \"我的订单\",\n      \"is-link\": \"\",\n      onClick: $setup.goToOrders\n    }, null, 8 /* PROPS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }), $setup.isLoggedIn && $setup.historyList.length > 0 ? (_openBlock(), _createBlock(_component_van_cell_group, {\n    key: 0,\n    inset: \"\",\n    title: \"历史查询记录\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.historyList, item => {\n      return _openBlock(), _createBlock(_component_van_cell, {\n        key: item.id,\n        title: item.date,\n        value: $setup.formatFocusAreas(item.focusAreas),\n        \"is-link\": \"\",\n        onClick: $event => $setup.viewResult(item.id)\n      }, null, 8 /* PROPS */, [\"title\", \"value\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn && $setup.historyList.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createVNode(_component_van_empty, {\n    description: \"暂无查询记录\"\n  }), _createVNode(_component_van_button, {\n    type: \"primary\",\n    block: \"\",\n    onClick: $setup.goToHome\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"立即测算\")])),\n    _: 1 /* STABLE */,\n    __: [1]\n  }, 8 /* PROPS */, [\"onClick\"])])) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn ? (_openBlock(), _createBlock(_component_van_cell_group, {\n    key: 2,\n    inset: \"\",\n    title: \"账号设置\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_van_cell, {\n      title: \"退出登录\",\n      onClick: $setup.logout\n    }, null, 8 /* PROPS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_van_nav_bar","title","_createElementVNode","_hoisted_2","_hoisted_3","_component_van_image","round","width","height","src","_hoisted_4","_toDisplayString","$setup","userInfo","phone","isLoggedIn","_hoisted_5","_component_van_button","type","size","onClick","goToLogin","default","_withCtx","_cache","_createTextVNode","_","__","_createCommentVNode","_component_van_cell_group","inset","_component_van_cell","goToHistory","goToOrders","historyList","length","_createBlock","_Fragment","_renderList","item","id","date","value","formatFocusAreas","focusAreas","$event","viewResult","_hoisted_6","_component_van_empty","description","block","goToHome","logout"],"sources":["C:\\Users\\Administrator\\Desktop\\开发八字命理AI指导功能页码\\frontend\\src\\User.vue"],"sourcesContent":["<template>\n  <div class=\"user-container\">\n    <van-nav-bar title=\"个人中心\" />\n    \n    <div class=\"user-info\">\n      <div class=\"avatar\">\n        <van-image\n          round\n          width=\"80\"\n          height=\"80\"\n          src=\"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg\"\n        />\n      </div>\n      <div class=\"user-name\">{{ userInfo.phone || '未登录' }}</div>\n      <div class=\"login-action\" v-if=\"!isLoggedIn\">\n        <van-button type=\"primary\" size=\"small\" @click=\"goToLogin\">登录/注册</van-button>\n      </div>\n    </div>\n    \n    <van-cell-group inset title=\"我的服务\">\n      <van-cell title=\"历史查询记录\" is-link @click=\"goToHistory\" />\n      <van-cell title=\"我的订单\" is-link @click=\"goToOrders\" />\n    </van-cell-group>\n    \n    <van-cell-group inset title=\"历史查询记录\" v-if=\"isLoggedIn && historyList.length > 0\">\n      <van-cell\n        v-for=\"item in historyList\"\n        :key=\"item.id\"\n        :title=\"item.date\"\n        :value=\"formatFocusAreas(item.focusAreas)\"\n        is-link\n        @click=\"viewResult(item.id)\"\n      />\n    </van-cell-group>\n    \n    <div class=\"empty-history\" v-if=\"isLoggedIn && historyList.length === 0\">\n      <van-empty description=\"暂无查询记录\" />\n      <van-button type=\"primary\" block @click=\"goToHome\">立即测算</van-button>\n    </div>\n    \n    <van-cell-group inset title=\"账号设置\" v-if=\"isLoggedIn\">\n      <van-cell title=\"退出登录\" @click=\"logout\" />\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\n\nexport default {\n  name: 'UserPage',\n  setup() {\n    const router = useRouter();\n    \n    // 模拟用户数据，实际项目中应该从API获取\n    const userInfo = ref({\n      phone: '138****1234',\n    });\n    \n    const isLoggedIn = computed(() => !!userInfo.value.phone);\n    \n    // 模拟历史记录数据，实际项目中应该从API获取\n    const historyList = ref([\n      {\n        id: 'RES1649823456',\n        date: '2025-04-10',\n        focusAreas: ['health', 'wealth', 'career']\n      },\n      {\n        id: 'RES1649823789',\n        date: '2025-03-25',\n        focusAreas: ['relationship', 'children']\n      }\n    ]);\n    \n    const formatFocusAreas = (areas) => {\n      const areaNames = {\n        health: '健康',\n        wealth: '财运',\n        career: '事业',\n        relationship: '感情',\n        children: '子女'\n      };\n      \n      return areas.map(area => areaNames[area] || area).join('、');\n    };\n    \n    const goToLogin = () => {\n      router.push('/login');\n    };\n    \n    const goToHome = () => {\n      router.push('/');\n    };\n    \n    const goToHistory = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      // 已经在历史记录页面，无需跳转\n    };\n    \n    const goToOrders = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      Toast('订单功能开发中');\n    };\n    \n    const viewResult = (resultId) => {\n      router.push(`/result/${resultId}`);\n    };\n    \n    const logout = () => {\n      Toast('退出成功');\n      userInfo.value = {};\n    };\n    \n    return {\n      userInfo,\n      isLoggedIn,\n      historyList,\n      formatFocusAreas,\n      goToLogin,\n      goToHome,\n      goToHistory,\n      goToOrders,\n      viewResult,\n      logout\n    };\n  }\n};\n</script>\n\n<style scoped>\n.user-container {\n  padding-bottom: 20px;\n}\n\n.user-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 30px 0;\n  background-color: #1989fa;\n}\n\n.avatar {\n  margin-bottom: 10px;\n}\n\n.user-name {\n  color: white;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.login-action {\n  margin-top: 10px;\n}\n\n.empty-history {\n  padding: 20px 16px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}