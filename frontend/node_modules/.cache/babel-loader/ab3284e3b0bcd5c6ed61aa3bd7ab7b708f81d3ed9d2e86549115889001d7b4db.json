{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nexport default {\n  name: 'UserPage',\n  setup() {\n    const router = useRouter();\n\n    // 模拟用户数据，实际项目中应该从API获取\n    const userInfo = ref({\n      phone: '138****1234'\n    });\n    const isLoggedIn = computed(() => !!userInfo.value.phone);\n\n    // 模拟历史记录数据，实际项目中应该从API获取\n    const historyList = ref([{\n      id: 'RES1649823456',\n      date: '2025-04-10',\n      focusAreas: ['health', 'wealth', 'career']\n    }, {\n      id: 'RES1649823789',\n      date: '2025-03-25',\n      focusAreas: ['relationship', 'children']\n    }]);\n    const formatFocusAreas = areas => {\n      const areaNames = {\n        health: '健康',\n        wealth: '财运',\n        career: '事业',\n        relationship: '感情',\n        children: '子女'\n      };\n      return areas.map(area => areaNames[area] || area).join('、');\n    };\n    const goToLogin = () => {\n      router.push('/login');\n    };\n    const goToHome = () => {\n      router.push('/');\n    };\n    const goToHistory = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n\n      // 已经在历史记录页面，无需跳转\n    };\n    const goToOrders = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      Toast('订单功能开发中');\n    };\n    const viewResult = resultId => {\n      router.push(`/result/${resultId}`);\n    };\n    const logout = () => {\n      Toast('退出成功');\n      userInfo.value = {};\n    };\n    return {\n      userInfo,\n      isLoggedIn,\n      historyList,\n      formatFocusAreas,\n      goToLogin,\n      goToHome,\n      goToHistory,\n      goToOrders,\n      viewResult,\n      logout\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","Toast","name","setup","router","userInfo","phone","isLoggedIn","value","historyList","id","date","focusAreas","formatFocusAreas","areas","areaNames","health","wealth","career","relationship","children","map","area","join","goToLogin","push","goToHome","goToHistory","goToOrders","viewResult","resultId","logout"],"sources":["D:\\Python\\20250603开发八字命理AI指导功能页码\\开发八字命理AI指导功能页码\\frontend\\src\\User.vue"],"sourcesContent":["<template>\n  <div class=\"user-container\">\n    <van-nav-bar title=\"个人中心\" />\n    \n    <div class=\"user-info\">\n      <div class=\"avatar\">\n        <van-image\n          round\n          width=\"80\"\n          height=\"80\"\n          src=\"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg\"\n        />\n      </div>\n      <div class=\"user-name\">{{ userInfo.phone || '未登录' }}</div>\n      <div class=\"login-action\" v-if=\"!isLoggedIn\">\n        <van-button type=\"primary\" size=\"small\" @click=\"goToLogin\">登录/注册</van-button>\n      </div>\n    </div>\n    \n    <van-cell-group inset title=\"我的服务\">\n      <van-cell title=\"历史查询记录\" is-link @click=\"goToHistory\" />\n      <van-cell title=\"我的订单\" is-link @click=\"goToOrders\" />\n    </van-cell-group>\n    \n    <van-cell-group inset title=\"历史查询记录\" v-if=\"isLoggedIn && historyList.length > 0\">\n      <van-cell\n        v-for=\"item in historyList\"\n        :key=\"item.id\"\n        :title=\"item.date\"\n        :value=\"formatFocusAreas(item.focusAreas)\"\n        is-link\n        @click=\"viewResult(item.id)\"\n      />\n    </van-cell-group>\n    \n    <div class=\"empty-history\" v-if=\"isLoggedIn && historyList.length === 0\">\n      <van-empty description=\"暂无查询记录\" />\n      <van-button type=\"primary\" block @click=\"goToHome\">立即测算</van-button>\n    </div>\n    \n    <van-cell-group inset title=\"账号设置\" v-if=\"isLoggedIn\">\n      <van-cell title=\"退出登录\" @click=\"logout\" />\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\n\nexport default {\n  name: 'UserPage',\n  setup() {\n    const router = useRouter();\n    \n    // 模拟用户数据，实际项目中应该从API获取\n    const userInfo = ref({\n      phone: '138****1234',\n    });\n    \n    const isLoggedIn = computed(() => !!userInfo.value.phone);\n    \n    // 模拟历史记录数据，实际项目中应该从API获取\n    const historyList = ref([\n      {\n        id: 'RES1649823456',\n        date: '2025-04-10',\n        focusAreas: ['health', 'wealth', 'career']\n      },\n      {\n        id: 'RES1649823789',\n        date: '2025-03-25',\n        focusAreas: ['relationship', 'children']\n      }\n    ]);\n    \n    const formatFocusAreas = (areas) => {\n      const areaNames = {\n        health: '健康',\n        wealth: '财运',\n        career: '事业',\n        relationship: '感情',\n        children: '子女'\n      };\n      \n      return areas.map(area => areaNames[area] || area).join('、');\n    };\n    \n    const goToLogin = () => {\n      router.push('/login');\n    };\n    \n    const goToHome = () => {\n      router.push('/');\n    };\n    \n    const goToHistory = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      // 已经在历史记录页面，无需跳转\n    };\n    \n    const goToOrders = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      Toast('订单功能开发中');\n    };\n    \n    const viewResult = (resultId) => {\n      router.push(`/result/${resultId}`);\n    };\n    \n    const logout = () => {\n      Toast('退出成功');\n      userInfo.value = {};\n    };\n    \n    return {\n      userInfo,\n      isLoggedIn,\n      historyList,\n      formatFocusAreas,\n      goToLogin,\n      goToHome,\n      goToHistory,\n      goToOrders,\n      viewResult,\n      logout\n    };\n  }\n};\n</script>\n\n<style scoped>\n.user-container {\n  padding-bottom: 20px;\n}\n\n.user-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 30px 0;\n  background-color: #1989fa;\n}\n\n.avatar {\n  margin-bottom: 10px;\n}\n\n.user-name {\n  color: white;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.login-action {\n  margin-top: 10px;\n}\n\n.empty-history {\n  padding: 20px 16px;\n}\n</style>\n"],"mappings":"AA+CA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAK;AACnC,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,KAAI,QAAS,MAAM;AAE5B,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMK,QAAO,GAAIP,GAAG,CAAC;MACnBQ,KAAK,EAAE;IACT,CAAC,CAAC;IAEF,MAAMC,UAAS,GAAIR,QAAQ,CAAC,MAAM,CAAC,CAACM,QAAQ,CAACG,KAAK,CAACF,KAAK,CAAC;;IAEzD;IACA,MAAMG,WAAU,GAAIX,GAAG,CAAC,CACtB;MACEY,EAAE,EAAE,eAAe;MACnBC,IAAI,EAAE,YAAY;MAClBC,UAAU,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ;IAC3C,CAAC,EACD;MACEF,EAAE,EAAE,eAAe;MACnBC,IAAI,EAAE,YAAY;MAClBC,UAAU,EAAE,CAAC,cAAc,EAAE,UAAU;IACzC,EACD,CAAC;IAEF,MAAMC,gBAAe,GAAKC,KAAK,IAAK;MAClC,MAAMC,SAAQ,GAAI;QAChBC,MAAM,EAAE,IAAI;QACZC,MAAM,EAAE,IAAI;QACZC,MAAM,EAAE,IAAI;QACZC,YAAY,EAAE,IAAI;QAClBC,QAAQ,EAAE;MACZ,CAAC;MAED,OAAON,KAAK,CAACO,GAAG,CAACC,IAAG,IAAKP,SAAS,CAACO,IAAI,KAAKA,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7D,CAAC;IAED,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtBpB,MAAM,CAACqB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,MAAMC,QAAO,GAAIA,CAAA,KAAM;MACrBtB,MAAM,CAACqB,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,MAAME,WAAU,GAAIA,CAAA,KAAM;MACxB,IAAI,CAACpB,UAAU,CAACC,KAAK,EAAE;QACrBP,KAAK,CAAC,MAAM,CAAC;QACbuB,SAAS,CAAC,CAAC;QACX;MACF;;MAEA;IACF,CAAC;IAED,MAAMI,UAAS,GAAIA,CAAA,KAAM;MACvB,IAAI,CAACrB,UAAU,CAACC,KAAK,EAAE;QACrBP,KAAK,CAAC,MAAM,CAAC;QACbuB,SAAS,CAAC,CAAC;QACX;MACF;MAEAvB,KAAK,CAAC,SAAS,CAAC;IAClB,CAAC;IAED,MAAM4B,UAAS,GAAKC,QAAQ,IAAK;MAC/B1B,MAAM,CAACqB,IAAI,CAAC,WAAWK,QAAQ,EAAE,CAAC;IACpC,CAAC;IAED,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACnB9B,KAAK,CAAC,MAAM,CAAC;MACbI,QAAQ,CAACG,KAAI,GAAI,CAAC,CAAC;IACrB,CAAC;IAED,OAAO;MACLH,QAAQ;MACRE,UAAU;MACVE,WAAW;MACXI,gBAAgB;MAChBW,SAAS;MACTE,QAAQ;MACRC,WAAW;MACXC,UAAU;MACVC,UAAU;MACVE;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}