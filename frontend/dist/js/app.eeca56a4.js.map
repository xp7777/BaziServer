{"version":3,"file":"js/app.eeca56a4.js","mappings":"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","sources":["webpack://bazi-frontend/./src/App.vue","webpack://bazi-frontend/./src/App.vue?7ccd","webpack://bazi-frontend/./src/Home.vue","webpack://bazi-frontend/./src/Home.vue?5bd0","webpack://bazi-frontend/./src/Login.vue","webpack://bazi-frontend/./src/Login.vue?4ca8","webpack://bazi-frontend/./src/User.vue","webpack://bazi-frontend/./src/User.vue?1f16","webpack://bazi-frontend/./src/Payment.vue","webpack://bazi-frontend/./src/Payment.vue?6073","webpack://bazi-frontend/./src/Result.vue","webpack://bazi-frontend/./src/Result.vue?7022","webpack://bazi-frontend/./src/router.js","webpack://bazi-frontend/./src/main.js","webpack://bazi-frontend/webpack/bootstrap","webpack://bazi-frontend/webpack/runtime/chunk loaded","webpack://bazi-frontend/webpack/runtime/compat get default export","webpack://bazi-frontend/webpack/runtime/create fake namespace object","webpack://bazi-frontend/webpack/runtime/define property getters","webpack://bazi-frontend/webpack/runtime/ensure chunk","webpack://bazi-frontend/webpack/runtime/get javascript chunk filename","webpack://bazi-frontend/webpack/runtime/get mini-css chunk filename","webpack://bazi-frontend/webpack/runtime/global","webpack://bazi-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://bazi-frontend/webpack/runtime/load script","webpack://bazi-frontend/webpack/runtime/make namespace object","webpack://bazi-frontend/webpack/runtime/publicPath","webpack://bazi-frontend/webpack/runtime/jsonp chunk loading","webpack://bazi-frontend/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <router-view />\n    <van-tabbar v-model=\"active\" route>\n      <van-tabbar-item icon=\"home-o\" to=\"/\">首页</van-tabbar-item>\n      <van-tabbar-item icon=\"user-o\" to=\"/user\">我的</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst active = ref(0);\n</script>\n\n<style>\n.app-container {\n  min-height: 100vh;\n  padding-bottom: 50px;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=22c29503&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"home-container\">\n    <van-nav-bar title=\"八字命理AI人生指导\" />\n    \n    <div class=\"banner\">\n      <img src=\"./assets/banner.png\" alt=\"八字命理AI人生指导\" class=\"banner-img\">\n      <h2 class=\"slogan\">传统命理 · 现代科技 · 智慧人生</h2>\n    </div>\n    \n    <van-form @submit=\"onSubmit\">\n      <van-cell-group inset>\n        <van-field name=\"gender\" label=\"性别\">\n          <template #input>\n            <van-radio-group v-model=\"formData.gender\" direction=\"horizontal\">\n              <van-radio name=\"male\">男</van-radio>\n              <van-radio name=\"female\">女</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n        \n        <van-field name=\"calendarType\" label=\"历法选择\">\n          <template #input>\n            <van-radio-group v-model=\"formData.calendarType\" direction=\"horizontal\">\n              <van-radio name=\"solar\">公历</van-radio>\n              <van-radio name=\"lunar\">农历</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n        \n        <van-field name=\"birthDate\" label=\"出生日期\">\n          <template #input>\n            <input \n              type=\"date\" \n          v-model=\"formData.birthDate\"\n              min=\"1900-01-01\" \n              max=\"2100-12-31\"\n              class=\"native-date-picker\"\n          />\n          </template>\n        </van-field>\n        \n        <van-field name=\"birthTime\" label=\"出生时辰\">\n          <template #input>\n            <select v-model=\"formData.birthTime\" class=\"native-time-picker\">\n              <option value=\"\">请选择时辰</option>\n              <option \n                v-for=\"(time, index) in timeData\"\n                :key=\"index\"\n                :value=\"time.text\"\n              >\n                {{ time.text }}\n              </option>\n            </select>\n          </template>\n        </van-field>\n        \n        <van-field \n          v-model=\"formData.birthPlace\" \n          name=\"birthPlace\" \n          label=\"出生地\" \n          placeholder=\"请输入出生地（如：北京市海淀区）\"\n          :rules=\"[{ required: true, message: '请填写出生地' }]\"\n        />\n        \n        <van-field \n          v-model=\"formData.livingPlace\" \n          name=\"livingPlace\" \n          label=\"居住地\" \n          placeholder=\"请输入当前居住地（如：上海市浦东新区）\"\n          :rules=\"[{ required: true, message: '请填写居住地' }]\"\n        />\n        \n        <van-field name=\"focusAreas\" label=\"推算侧重点\">\n          <template #input>\n            <van-checkbox-group v-model=\"formData.focusAreas\" direction=\"horizontal\">\n              <van-checkbox name=\"health\">身体健康</van-checkbox>\n              <van-checkbox name=\"wealth\">财运</van-checkbox>\n              <van-checkbox name=\"career\">事业</van-checkbox>\n              <van-checkbox name=\"relationship\">婚姻感情</van-checkbox>\n              <van-checkbox name=\"children\">子女</van-checkbox>\n            </van-checkbox-group>\n          </template>\n        </van-field>\n      </van-cell-group>\n      \n      <div style=\"margin: 16px;\">\n        <van-button round block type=\"primary\" native-type=\"submit\">\n          提交并支付 (9.9元)\n        </van-button>\n      </div>\n    </van-form>\n    \n    <div class=\"intro-section\">\n      <h3>八字命理AI人生指导系统</h3>\n      <p>本系统结合传统八字命理理论与现代人工智能技术，为您提供个性化的人生指导建议。通过分析您的八字命盘和流年大运信息，AI将为您解读人生各方面的发展趋势和潜在机遇。</p>\n      \n      <h3>使用流程</h3>\n      <van-steps direction=\"vertical\" :active=\"0\">\n        <van-step>\n          <h3>填写信息</h3>\n          <p>输入性别、出生年月日时、出生地、居住地和关注领域</p>\n        </van-step>\n        <van-step>\n          <h3>完成支付</h3>\n          <p>支付9.9元获取专业分析</p>\n        </van-step>\n        <van-step>\n          <h3>AI分析</h3>\n          <p>系统计算八字并通过AI进行解读</p>\n        </van-step>\n        <van-step>\n          <h3>查看结果</h3>\n          <p>获取详细分析报告并可下载PDF</p>\n        </van-step>\n      </van-steps>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast, Dialog } from 'vant';\n\nconst router = useRouter();\n\n// 重新定义时辰数据为正确的格式\nconst timeData = [\n  { text: '子时 (23:00-01:00)' },\n  { text: '丑时 (01:00-03:00)' },\n  { text: '寅时 (03:00-05:00)' },\n  { text: '卯时 (05:00-07:00)' },\n  { text: '辰时 (07:00-09:00)' },\n  { text: '巳时 (09:00-11:00)' },\n  { text: '午时 (11:00-13:00)' },\n  { text: '未时 (13:00-15:00)' },\n  { text: '申时 (15:00-17:00)' },\n  { text: '酉时 (17:00-19:00)' },\n  { text: '戌时 (19:00-21:00)' },\n  { text: '亥时 (21:00-23:00)' }\n];\n\nconst formData = reactive({\n  gender: 'male',\n  calendarType: 'solar',\n  birthDate: '',\n  birthTime: '',\n  birthPlace: '',\n  livingPlace: '',\n  focusAreas: []\n});\n\nconst onSubmit = () => {\n  // 表单验证\n  if (!formData.birthDate) {\n    Toast.fail('请选择出生日期');\n    return;\n  }\n  \n  if (!formData.birthTime) {\n    Toast.fail('请选择出生时辰');\n    return;\n  }\n  \n  if (!formData.birthPlace) {\n    Toast.fail('请填写出生地');\n    return;\n  }\n  \n  if (!formData.livingPlace) {\n    Toast.fail('请填写居住地');\n    return;\n  }\n  \n  if (formData.focusAreas.length === 0) {\n    Toast.fail('请至少选择一个推算侧重点');\n    return;\n  }\n  \n  // 创建订单并跳转到支付页面\n  console.log('提交数据:', formData);\n  router.push({\n    path: '/payment',\n    query: {\n      gender: formData.gender,\n      calendarType: formData.calendarType,\n      birthDate: formData.birthDate,\n      birthTime: formData.birthTime,\n      birthPlace: formData.birthPlace,\n      livingPlace: formData.livingPlace,\n      focusAreas: formData.focusAreas.join(',')\n    }\n  });\n};\n</script>\n\n<style>\n.home-container {\n  padding-bottom: 20px;\n}\n\n.banner {\n  text-align: center;\n  padding: 20px 15px;\n  background-color: #f7f8fa;\n}\n\n.banner-img {\n  width: 100%;\n  max-width: 300px;\n  border-radius: 8px;\n}\n\n.slogan {\n  margin-top: 10px;\n  font-size: 16px;\n  color: #666;\n}\n\n.intro-section {\n  padding: 20px 16px;\n  background-color: #fff;\n  margin-top: 20px;\n}\n\n.intro-section h3 {\n  margin-bottom: 10px;\n  font-size: 18px;\n  color: #323233;\n}\n\n.intro-section p {\n  color: #666;\n  font-size: 14px;\n  line-height: 1.6;\n  margin-bottom: 20px;\n}\n\n.time-selector {\n  background-color: #fff;\n  width: 100%;\n}\n\n.time-selector-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ebedf0;\n}\n\n.time-selector-title {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.time-selector-content {\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.time-active {\n  color: #1989fa;\n  font-weight: bold;\n}\n\n.date-selector {\n  background-color: #fff;\n  width: 100%;\n}\n\n.date-selector-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 16px;\n  border-bottom: 1px solid #ebedf0;\n}\n\n.date-selector-title {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.date-selector-content {\n  padding: 10px;\n}\n\n.native-date-picker {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ebedf0;\n  border-radius: 4px;\n}\n\n.native-time-picker {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ebedf0;\n  border-radius: 4px;\n}\n</style>\n","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=1ee60690&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"login-container\">\n    <van-nav-bar\n      title=\"登录/注册\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"login-form\">\n      <h2>欢迎使用八字命理AI人生指导</h2>\n      <p>请使用手机号登录或注册</p>\n      \n      <van-form @submit=\"onSubmit\">\n        <van-cell-group inset>\n          <van-field\n            v-model=\"phone\"\n            name=\"phone\"\n            label=\"手机号码\"\n            placeholder=\"请输入手机号码\"\n            :rules=\"[{ required: true, message: '请填写手机号码' }]\"\n          />\n          \n          <van-field\n            v-model=\"verifyCode\"\n            center\n            clearable\n            label=\"验证码\"\n            placeholder=\"请输入验证码\"\n            :rules=\"[{ required: true, message: '请填写验证码' }]\"\n          >\n            <template #button>\n              <van-button\n                size=\"small\"\n                type=\"primary\"\n                :disabled=\"isSending\"\n                @click=\"sendVerifyCode\"\n              >\n                {{ sendButtonText }}\n              </van-button>\n            </template>\n          </van-field>\n        </van-cell-group>\n        \n        <div style=\"margin: 16px;\">\n          <van-button round block type=\"primary\" native-type=\"submit\">\n            登录/注册\n          </van-button>\n        </div>\n      </van-form>\n      \n      <div class=\"agreement\">\n        登录/注册即表示您同意\n        <span class=\"link\" @click=\"showAgreement\">《用户协议》</span>\n        和\n        <span class=\"link\" @click=\"showPrivacy\">《隐私政策》</span>\n      </div>\n    </div>\n    \n    <van-popup v-model:show=\"showAgreementPopup\" round position=\"bottom\" style=\"height: 70%\">\n      <div class=\"popup-content\">\n        <h3>用户协议</h3>\n        <p>这里是用户协议内容...</p>\n        <van-button type=\"primary\" block @click=\"showAgreementPopup = false\">\n          我已阅读并同意\n        </van-button>\n      </div>\n    </van-popup>\n    \n    <van-popup v-model:show=\"showPrivacyPopup\" round position=\"bottom\" style=\"height: 70%\">\n      <div class=\"popup-content\">\n        <h3>隐私政策</h3>\n        <p>这里是隐私政策内容...</p>\n        <van-button type=\"primary\" block @click=\"showPrivacyPopup = false\">\n          我已阅读并同意\n        </van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\n\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const router = useRouter();\n    const phone = ref('');\n    const verifyCode = ref('');\n    const isSending = ref(false);\n    const countdown = ref(0);\n    const sendButtonText = ref('发送验证码');\n    const showAgreementPopup = ref(false);\n    const showPrivacyPopup = ref(false);\n    \n    const onClickLeft = () => {\n      router.go(-1);\n    };\n    \n    const startCountdown = () => {\n      countdown.value = 60;\n      isSending.value = true;\n      \n      const timer = setInterval(() => {\n        countdown.value--;\n        sendButtonText.value = `${countdown.value}秒后重发`;\n        \n        if (countdown.value <= 0) {\n          clearInterval(timer);\n          isSending.value = false;\n          sendButtonText.value = '发送验证码';\n        }\n      }, 1000);\n    };\n    \n    const sendVerifyCode = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      \n      if (!/^1[3-9]\\d{9}$/.test(phone.value)) {\n        Toast('请输入正确的手机号码');\n        return;\n      }\n      \n      // 实际项目中这里应该调用API发送验证码\n      Toast('验证码已发送');\n      startCountdown();\n    };\n    \n    const onSubmit = () => {\n      if (!phone.value) {\n        Toast('请输入手机号码');\n        return;\n      }\n      \n      if (!verifyCode.value) {\n        Toast('请输入验证码');\n        return;\n      }\n      \n      // 实际项目中这里应该调用API验证登录\n      Toast('登录成功');\n      \n      // 登录成功后跳转到用户中心\n      router.push('/user');\n    };\n    \n    const showAgreement = () => {\n      showAgreementPopup.value = true;\n    };\n    \n    const showPrivacy = () => {\n      showPrivacyPopup.value = true;\n    };\n    \n    return {\n      phone,\n      verifyCode,\n      isSending,\n      sendButtonText,\n      showAgreementPopup,\n      showPrivacyPopup,\n      onClickLeft,\n      sendVerifyCode,\n      onSubmit,\n      showAgreement,\n      showPrivacy\n    };\n  }\n};\n</script>\n\n<style scoped>\n.login-container {\n  padding-bottom: 20px;\n}\n\n.login-form {\n  padding: 30px 16px;\n  text-align: center;\n}\n\n.login-form h2 {\n  margin: 0 0 10px;\n  font-size: 20px;\n  color: #323233;\n}\n\n.login-form p {\n  margin: 0 0 30px;\n  font-size: 14px;\n  color: #969799;\n}\n\n.agreement {\n  margin-top: 20px;\n  font-size: 12px;\n  color: #969799;\n  text-align: center;\n}\n\n.link {\n  color: #1989fa;\n}\n\n.popup-content {\n  padding: 20px;\n}\n\n.popup-content h3 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.popup-content p {\n  margin-bottom: 30px;\n  line-height: 1.6;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=583b5e2a&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=583b5e2a&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-583b5e2a\"]])\n\nexport default __exports__","<template>\n  <div class=\"user-container\">\n    <van-nav-bar title=\"个人中心\" />\n    \n    <div class=\"user-info\">\n      <div class=\"avatar\">\n        <van-image\n          round\n          width=\"80\"\n          height=\"80\"\n          src=\"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg\"\n        />\n      </div>\n      <div class=\"user-name\">{{ userInfo.phone || '未登录' }}</div>\n      <div class=\"login-action\" v-if=\"!isLoggedIn\">\n        <van-button type=\"primary\" size=\"small\" @click=\"goToLogin\">登录/注册</van-button>\n      </div>\n    </div>\n    \n    <van-cell-group inset title=\"我的服务\">\n      <van-cell title=\"历史查询记录\" is-link @click=\"goToHistory\" />\n      <van-cell title=\"我的订单\" is-link @click=\"goToOrders\" />\n    </van-cell-group>\n    \n    <van-cell-group inset title=\"历史查询记录\" v-if=\"isLoggedIn && historyList.length > 0\">\n      <van-cell\n        v-for=\"item in historyList\"\n        :key=\"item.id\"\n        :title=\"item.date\"\n        :value=\"formatFocusAreas(item.focusAreas)\"\n        is-link\n        @click=\"viewResult(item.id)\"\n      />\n    </van-cell-group>\n    \n    <div class=\"empty-history\" v-if=\"isLoggedIn && historyList.length === 0\">\n      <van-empty description=\"暂无查询记录\" />\n      <van-button type=\"primary\" block @click=\"goToHome\">立即测算</van-button>\n    </div>\n    \n    <van-cell-group inset title=\"账号设置\" v-if=\"isLoggedIn\">\n      <van-cell title=\"退出登录\" @click=\"logout\" />\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Toast } from 'vant';\n\nexport default {\n  name: 'UserPage',\n  setup() {\n    const router = useRouter();\n    \n    // 模拟用户数据，实际项目中应该从API获取\n    const userInfo = ref({\n      phone: '138****1234',\n    });\n    \n    const isLoggedIn = computed(() => !!userInfo.value.phone);\n    \n    // 模拟历史记录数据，实际项目中应该从API获取\n    const historyList = ref([\n      {\n        id: 'RES1649823456',\n        date: '2025-04-10',\n        focusAreas: ['health', 'wealth', 'career']\n      },\n      {\n        id: 'RES1649823789',\n        date: '2025-03-25',\n        focusAreas: ['relationship', 'children']\n      }\n    ]);\n    \n    const formatFocusAreas = (areas) => {\n      const areaNames = {\n        health: '健康',\n        wealth: '财运',\n        career: '事业',\n        relationship: '感情',\n        children: '子女'\n      };\n      \n      return areas.map(area => areaNames[area] || area).join('、');\n    };\n    \n    const goToLogin = () => {\n      router.push('/login');\n    };\n    \n    const goToHome = () => {\n      router.push('/');\n    };\n    \n    const goToHistory = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      // 已经在历史记录页面，无需跳转\n    };\n    \n    const goToOrders = () => {\n      if (!isLoggedIn.value) {\n        Toast('请先登录');\n        goToLogin();\n        return;\n      }\n      \n      Toast('订单功能开发中');\n    };\n    \n    const viewResult = (resultId) => {\n      router.push(`/result/${resultId}`);\n    };\n    \n    const logout = () => {\n      Toast('退出成功');\n      userInfo.value = {};\n    };\n    \n    return {\n      userInfo,\n      isLoggedIn,\n      historyList,\n      formatFocusAreas,\n      goToLogin,\n      goToHome,\n      goToHistory,\n      goToOrders,\n      viewResult,\n      logout\n    };\n  }\n};\n</script>\n\n<style scoped>\n.user-container {\n  padding-bottom: 20px;\n}\n\n.user-info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 30px 0;\n  background-color: #1989fa;\n}\n\n.avatar {\n  margin-bottom: 10px;\n}\n\n.user-name {\n  color: white;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.login-action {\n  margin-top: 10px;\n}\n\n.empty-history {\n  padding: 20px 16px;\n}\n</style>\n","import { render } from \"./User.vue?vue&type=template&id=ce9a05d4&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=ce9a05d4&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce9a05d4\"]])\n\nexport default __exports__","<template>\n  <div class=\"payment-container\">\n    <van-nav-bar\n      title=\"订单支付\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <van-card\n      title=\"八字命理AI人生指导\"\n      desc=\"个性化人生指导建议\"\n      price=\"9.90\"\n      currency=\"¥\"\n    >\n      <template #tags>\n        <van-tag plain type=\"primary\">专业分析</van-tag>\n        <van-tag plain type=\"success\">AI解读</van-tag>\n        <van-tag plain type=\"warning\">PDF报告</van-tag>\n      </template>\n    </van-card>\n    \n    <van-cell-group inset title=\"订单信息\">\n      <van-cell title=\"订单编号\" :value=\"orderId\" />\n      <van-cell title=\"创建时间\" :value=\"createTime\" />\n      <van-cell title=\"支付金额\" value=\"¥9.90\" />\n    </van-cell-group>\n    \n    <van-cell-group inset title=\"选择支付方式\">\n      <van-cell clickable @click=\"paymentMethod = 'wechat'\">\n        <template #title>\n          <div class=\"payment-method\">\n            <van-icon name=\"wechat\" color=\"#07C160\" size=\"24\" />\n            <span class=\"payment-name\">微信支付</span>\n          </div>\n        </template>\n        <template #right-icon>\n          <van-radio :name=\"'wechat'\" :checked=\"paymentMethod === 'wechat'\" />\n        </template>\n      </van-cell>\n      \n      <van-cell clickable @click=\"paymentMethod = 'alipay'\">\n        <template #title>\n          <div class=\"payment-method\">\n            <van-icon name=\"alipay\" color=\"#1677FF\" size=\"24\" />\n            <span class=\"payment-name\">支付宝</span>\n          </div>\n        </template>\n        <template #right-icon>\n          <van-radio :name=\"'alipay'\" :checked=\"paymentMethod === 'alipay'\" />\n        </template>\n      </van-cell>\n    </van-cell-group>\n    \n    <div class=\"payment-action\">\n      <van-button round block type=\"primary\" @click=\"onPayment\">\n        立即支付\n      </van-button>\n    </div>\n    \n    <van-popup :show=\"showQRCode\" @update:show=\"showQRCode = $event\" round>\n      <div class=\"qrcode-container\">\n        <h3>请扫码支付</h3>\n        <div class=\"qrcode\">\n          <iframe v-if=\"qrCodeUrl\" :src=\"qrCodeUrl\" frameborder=\"0\" width=\"200\" height=\"200\"></iframe>\n          <div v-else class=\"qrcode-placeholder\">\n            <p>正在加载支付二维码...</p>\n          </div>\n        </div>\n        <p>支付金额: ¥9.90</p>\n        <van-button type=\"primary\" block @click=\"onPaymentSuccess\">\n          支付完成\n        </van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { Toast } from 'vant';\nimport axios from 'axios';\n\nexport default {\n  name: 'PaymentPage',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    \n    // 从路由参数获取订单信息\n    const gender = route.query.gender;\n    const calendarType = route.query.calendarType;\n    const birthDate = route.query.birthDate;\n    const birthTime = route.query.birthTime;\n    const birthPlace = route.query.birthPlace;\n    const livingPlace = route.query.livingPlace;\n    const focusAreas = route.query.focusAreas?.split(',') || [];\n    \n    // 支付相关状态\n    const orderId = ref('BZ1749371719072');\n    const createTime = ref(new Date().toLocaleString());\n    const paymentMethod = ref('wechat');\n    const showQRCode = ref(false);\n    const qrCodeUrl = ref('');\n    const isProcessing = ref(false);\n    \n    onMounted(() => {\n      // 实际项目中这里应该调用API创建订单\n      console.log('订单创建成功', {\n        gender,\n        calendarType,\n        birthDate,\n        birthTime,\n        birthPlace,\n        livingPlace,\n        focusAreas\n      });\n    });\n    \n    const onClickLeft = () => {\n      router.go(-1);\n    };\n    \n    const onPayment = () => {\n      // 根据支付方式显示不同的二维码\n      if (paymentMethod.value === 'wechat') {\n        // 使用本地HTML文件作为微信支付二维码\n        qrCodeUrl.value = '/images/wechat-qrcode.html';\n      } else {\n        // 使用本地HTML文件作为支付宝二维码\n        qrCodeUrl.value = '/images/alipay-qrcode.html';\n      }\n      \n      showQRCode.value = true;\n      \n      // 实际项目中这里应该调用API获取支付二维码\n      console.log('发起支付请求', {\n        orderId: orderId.value,\n        paymentMethod: paymentMethod.value\n      });\n\n      // 由于我们只是演示，记录一下二维码URL\n      console.log(`使用${paymentMethod.value}支付，二维码URL:`, qrCodeUrl.value);\n    };\n    \n    const onPaymentSuccess = async () => {\n      if (isProcessing.value) {\n        return; // 防止重复点击\n      }\n      \n      isProcessing.value = true;\n      Toast.loading({\n        message: '正在处理支付...',\n        duration: 0,\n        forbidClick: true\n      });\n      \n      try {\n        // 调用模拟支付API\n        console.log('调用模拟支付API:', orderId.value);\n        const paymentData = {\n          birthDate,\n          birthTime,\n          gender,\n          focusAreas\n        };\n        \n        const response = await axios.post(`http://localhost:5000/api/order/mock/pay/${orderId.value}`, paymentData, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        console.log('模拟支付API响应:', response.data);\n        \n        if (response.data.code === 200) {\n          Toast.success('支付成功');\n          showQRCode.value = false;\n          \n          // 使用服务器返回的resultId\n          const resultId = response.data.data.resultId;\n          \n          if (!resultId) {\n            console.error('服务器未返回有效的resultId');\n            Toast.fail('获取结果ID失败，请联系客服');\n            return;\n          }\n          \n          console.log('获取到结果ID:', resultId);\n          \n          // 跳转到结果页面，传递必要参数\n          router.push({\n            path: `/result/${resultId}`,\n            query: {\n              birthDate,\n              birthTime,\n              gender,\n              birthPlace,\n              livingPlace,\n              originalOrderId: orderId.value // 传递原始订单ID\n            }\n          });\n        } else {\n          Toast.fail(response.data.message || '支付处理失败');\n        }\n      } catch (error) {\n        console.error('支付处理出错:', error);\n        \n        // 错误处理：尝试构造默认结果ID\n        Toast.clear();\n        Toast.fail('支付处理出错，将使用默认结果ID');\n        \n        // 构造默认结果ID\n        const defaultResultId = 'RES' + orderId.value.replace(/^BZ/, '');\n        console.log('使用默认结果ID:', defaultResultId);\n        \n        // 即使出错也跳转到结果页面，使用默认结果ID\n        router.push({\n          path: `/result/${defaultResultId}`,\n          query: {\n            birthDate,\n            birthTime,\n            gender,\n            birthPlace,\n            livingPlace,\n            originalOrderId: orderId.value // 传递原始订单ID\n          }\n        });\n      } finally {\n        isProcessing.value = false;\n      }\n    };\n    \n    return {\n      orderId,\n      createTime,\n      paymentMethod,\n      showQRCode,\n      qrCodeUrl,\n      isProcessing,\n      onClickLeft,\n      onPayment,\n      onPaymentSuccess\n    };\n  }\n};\n</script>\n\n<style scoped>\n.payment-container {\n  padding-bottom: 20px;\n}\n\n.payment-method {\n  display: flex;\n  align-items: center;\n}\n\n.payment-name {\n  margin-left: 10px;\n}\n\n.payment-action {\n  padding: 20px 16px;\n}\n\n.qrcode-container {\n  padding: 20px;\n  text-align: center;\n  width: 280px;\n}\n\n.qrcode {\n  width: 200px;\n  height: 200px;\n  margin: 20px auto;\n  background-color: #f2f3f5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #ebedf0;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.qrcode iframe {\n  border: none;\n  width: 100%;\n  height: 100%;\n}\n\n.qrcode img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.qrcode-placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #969799;\n}\n</style>\n","import { render } from \"./Payment.vue?vue&type=template&id=34da18f8&scoped=true\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\nimport \"./Payment.vue?vue&type=style&index=0&id=34da18f8&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34da18f8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"result-container\">\r\n    <van-nav-bar\r\n      title=\"八字分析结果\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    \r\n    <div class=\"result-header\">\r\n      <h2>您的八字命盘分析</h2>\r\n      <p>基于您的出生信息，AI为您提供的个性化人生指导</p>\r\n    </div>\r\n    \r\n    <!-- 添加全局分析状态提示 -->\r\n    <van-notice-bar\r\n      v-if=\"isAnalyzing\"\r\n      color=\"#1989fa\"\r\n      background=\"#ecf9ff\"\r\n      left-icon=\"info-o\"\r\n      :scrollable=\"false\"\r\n      class=\"analysis-progress-notice\"\r\n    >\r\n      <div class=\"analysis-progress\">\r\n        <p>AI正在生成八字分析结果，这可能需要30-60秒</p>\r\n        <van-progress :percentage=\"analyzeProgress\" :show-pivot=\"false\" color=\"#1989fa\" />\r\n      </div>\r\n    </van-notice-bar>\r\n    \r\n    <van-tabs v-model=\"activeTab\" sticky>\r\n      <van-tab title=\"命盘信息\">\r\n        <div class=\"bazi-chart\">\r\n          <h3>八字命盘</h3>\r\n          <div v-if=\"baziData && baziData.yearPillar && baziData.monthPillar && baziData.dayPillar && baziData.hourPillar\" class=\"four-pillars\">\r\n            <!-- 年柱 -->\r\n            <div class=\"pillar\">\r\n              <div class=\"stem\">{{ baziData.yearPillar.heavenlyStem }}</div>\r\n              <div class=\"branch\">{{ baziData.yearPillar.earthlyBranch }}</div>\r\n              <div class=\"label\">年柱</div>\r\n              <div class=\"nayin\">{{ baziData.yearPillar.naYin }}</div>\r\n              <div class=\"shishen\">{{ baziData.yearPillar.shiShen }}</div>\r\n              <div class=\"wangshuai\">{{ baziData.yearPillar.wangShuai }}</div>\r\n            </div>\r\n            \r\n            <!-- 月柱 -->\r\n            <div class=\"pillar\">\r\n              <div class=\"stem\">{{ baziData.monthPillar.heavenlyStem }}</div>\r\n              <div class=\"branch\">{{ baziData.monthPillar.earthlyBranch }}</div>\r\n              <div class=\"label\">月柱</div>\r\n              <div class=\"nayin\">{{ baziData.monthPillar.naYin }}</div>\r\n              <div class=\"shishen\">{{ baziData.monthPillar.shiShen }}</div>\r\n              <div class=\"wangshuai\">{{ baziData.monthPillar.wangShuai }}</div>\r\n            </div>\r\n            \r\n            <!-- 日柱 -->\r\n            <div class=\"pillar\">\r\n              <div class=\"stem\">{{ baziData.dayPillar.heavenlyStem }}</div>\r\n              <div class=\"branch\">{{ baziData.dayPillar.earthlyBranch }}</div>\r\n              <div class=\"label\">日柱</div>\r\n              <div class=\"nayin\">{{ baziData.dayPillar.naYin }}</div>\r\n              <div class=\"shishen\">{{ baziData.dayPillar.shiShen }}</div>\r\n              <div class=\"wangshuai\">{{ baziData.dayPillar.wangShuai }}</div>\r\n            </div>\r\n            \r\n            <!-- 时柱 -->\r\n            <div class=\"pillar\">\r\n              <div class=\"stem\">{{ baziData.hourPillar.heavenlyStem }}</div>\r\n              <div class=\"branch\">{{ baziData.hourPillar.earthlyBranch }}</div>\r\n              <div class=\"label\">时柱</div>\r\n              <div class=\"nayin\">{{ baziData.hourPillar.naYin }}</div>\r\n              <div class=\"shishen\">{{ baziData.hourPillar.shiShen }}</div>\r\n              <div class=\"wangshuai\">{{ baziData.hourPillar.wangShuai }}</div>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"error-message\">\r\n            <van-empty description=\"八字数据加载失败，请重试\" />\r\n            <van-button type=\"primary\" size=\"small\" @click=\"reloadBaziData\">重新加载</van-button>\r\n          </div>\r\n          \r\n          <h3>五行分布</h3>\r\n          <div class=\"five-elements\" v-if=\"baziData && baziData.fiveElements\">\r\n            <div class=\"element\" v-for=\"(value, element) in baziData.fiveElements\" :key=\"element\">\r\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\r\n              <div class=\"element-value\">{{ value }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"five-elements\" v-else>\r\n            <div class=\"element\" v-for=\"element in ['wood', 'fire', 'earth', 'metal', 'water']\" :key=\"element\">\r\n              <div class=\"element-name\">{{ getElementName(element) }}</div>\r\n              <div class=\"element-value\">--</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 添加神煞显示 -->\r\n          <h3>神煞信息</h3>\r\n          <div class=\"shen-sha-info\" v-if=\"baziData && baziData.shenSha\">\r\n            <div class=\"shen-sha-content\">\r\n              <div class=\"shen-sha-item\">\r\n                <span class=\"label\">日冲</span>\r\n                <span class=\"value\">{{ baziData.shenSha.dayChong }}</span>\r\n              </div>\r\n              <div class=\"shen-sha-item\">\r\n                <span class=\"label\">值神</span>\r\n                <span class=\"value\">{{ baziData.shenSha.zhiShen }}</span>\r\n              </div>\r\n              <div class=\"shen-sha-item\">\r\n                <span class=\"label\">喜神</span>\r\n                <span class=\"value\">{{ baziData.shenSha.xiShen }}</span>\r\n              </div>\r\n              <div class=\"shen-sha-item\">\r\n                <span class=\"label\">福神</span>\r\n                <span class=\"value\">{{ baziData.shenSha.fuShen }}</span>\r\n              </div>\r\n              <div class=\"shen-sha-item\">\r\n                <span class=\"label\">财神</span>\r\n                <span class=\"value\">{{ baziData.shenSha.caiShen }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- 本命神煞 -->\r\n            <div class=\"ben-ming-sha\" v-if=\"baziData.shenSha.benMing.length > 0\">\r\n              <h4>本命神煞</h4>\r\n              <div class=\"ben-ming-list\">\r\n                <span v-for=\"(sha, index) in baziData.shenSha.benMing\" :key=\"index\" class=\"ben-ming-item\">\r\n                  {{ sha }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"shen-sha-info\" v-else>\r\n            <van-cell-group inset>\r\n              <van-cell title=\"神煞信息\" value=\"暂无数据\" />\r\n            </van-cell-group>\r\n          </div>\r\n          \r\n          <!-- 添加大运显示 -->\r\n          <h3>大运信息</h3>\r\n          <div class=\"da-yun-info\" v-if=\"baziData && baziData.daYun\">\r\n            <div class=\"qi-yun-info\">\r\n              <p>起运年龄: {{ baziData.daYun.startAge }}岁</p>\r\n              <p>起运年份: {{ baziData.daYun.startYear }}年</p>\r\n              <p>大运顺序: {{ baziData.daYun.isForward ? '顺行' : '逆行' }}</p>\r\n            </div>\r\n            \r\n            <!-- 大运列表 -->\r\n            <div class=\"da-yun-table\">\r\n              <table class=\"custom-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>年龄</th>\r\n                    <th>年份</th>\r\n                    <th>天干</th>\r\n                    <th>地支</th>\r\n                    <th>纳音</th>\r\n                    <th>吉凶</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(yun, index) in baziData.daYun.daYunList\" :key=\"index\">\r\n                    <td>{{ yun.startAge }}-{{ yun.endAge }}</td>\r\n                    <td>{{ yun.startYear }}-{{ yun.endYear }}</td>\r\n                    <td>{{ yun.heavenlyStem }}</td>\r\n                    <td>{{ yun.earthlyBranch }}</td>\r\n                    <td>{{ yun.naYin }}</td>\r\n                    <td>{{ yun.jiXiong }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"da-yun-info\" v-else>\r\n            <van-cell-group inset>\r\n              <van-cell title=\"大运信息\" value=\"暂无数据\" />\r\n            </van-cell-group>\r\n          </div>\r\n          \r\n          <h3>流年信息</h3>\r\n          <div class=\"liu-nian-info\" v-if=\"baziData && baziData.flowingYears && baziData.flowingYears.length\">\r\n            <table class=\"custom-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>年份</th>\r\n                  <th>年龄</th>\r\n                  <th>天干</th>\r\n                  <th>地支</th>\r\n                  <th>五行</th>\r\n                  <th>神煞</th>\r\n                  <th>吉凶</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(year, index) in baziData.flowingYears\" :key=\"index\">\r\n                  <td>{{ year.year }}</td>\r\n                  <td>{{ year.age }}</td>\r\n                  <td>{{ year.heavenlyStem }}</td>\r\n                  <td>{{ year.earthlyBranch }}</td>\r\n                  <td>{{ getElementName(year.ganElement) }}/{{ getElementName(year.zhiElement) }}</td>\r\n                  <td>{{ year.shenSha && Array.isArray(year.shenSha) ? year.shenSha.join(', ') : '无' }}</td>\r\n                  <td>{{ year.jiXiong || '未知' }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"liu-nian-info\" v-else>\r\n            <van-empty description=\"流年数据暂无\" />\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n      \r\n      <van-tab title=\"AI分析结果\">\r\n        <div class=\"ai-analysis\">\r\n          <div v-if=\"userAge !== null && userAge < 0\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对未来出生的宝宝，重点关注性格特点、天赋才能和健康发展趋势。\r\n            </van-notice-bar>\r\n          </div>\r\n          <div v-else-if=\"userAge !== null && userAge < 6\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对婴幼儿({{userAge}}岁)，重点关注性格特点、天赋才能和健康发展趋势。\r\n            </van-notice-bar>\r\n          </div>\r\n          <div v-else-if=\"userAge !== null && userAge < 18\" class=\"age-notice\">\r\n            <van-notice-bar\r\n              color=\"#1989fa\"\r\n              background=\"#ecf9ff\"\r\n              left-icon=\"info-o\"\r\n            >\r\n              此分析针对未成年人({{userAge}}岁)，重点关注性格特点、学业发展和健康状况。\r\n            </van-notice-bar>\r\n          </div>\r\n          \r\n          <!-- 添加全局分析状态提示 -->\r\n          <van-notice-bar\r\n            v-if=\"isAnalyzing\"\r\n            color=\"#1989fa\"\r\n            background=\"#ecf9ff\"\r\n            left-icon=\"info-o\"\r\n            :scrollable=\"false\"\r\n            class=\"analysis-progress-notice\"\r\n          >\r\n            <div class=\"analysis-progress\">\r\n              <p>AI正在生成八字分析结果，这可能需要30-60秒</p>\r\n              <van-progress :percentage=\"analyzeProgress\" :show-pivot=\"false\" color=\"#1989fa\" />\r\n            </div>\r\n          </van-notice-bar>\r\n          \r\n          <!-- 八字命局核心分析 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>八字命局核心分析</h3>\r\n            <template v-if=\"!aiAnalysis.coreAnalysis || aiAnalysis.coreAnalysis === '暂无' || aiAnalysis.coreAnalysis.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <p v-else>{{ aiAnalysis.coreAnalysis }}</p>\r\n          </div>\r\n          \r\n          <!-- 五行旺衰与用神 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>五行旺衰与用神</h3>\r\n            <template v-if=\"!aiAnalysis.fiveElements || aiAnalysis.fiveElements === '暂无' || aiAnalysis.fiveElements.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <p v-else>{{ aiAnalysis.fiveElements }}</p>\r\n          </div>\r\n          \r\n          <!-- 神煞解析 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>神煞解析</h3>\r\n            <template v-if=\"!aiAnalysis.shenShaAnalysis || aiAnalysis.shenShaAnalysis === '暂无' || aiAnalysis.shenShaAnalysis.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <p v-else>{{ aiAnalysis.shenShaAnalysis }}</p>\r\n          </div>\r\n          \r\n          <!-- 大运与流年关键节点 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>大运与流年关键节点</h3>\r\n            <template v-if=\"!aiAnalysis.keyPoints || aiAnalysis.keyPoints === '暂无' || aiAnalysis.keyPoints.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <p v-else>{{ aiAnalysis.keyPoints }}</p>\r\n          </div>\r\n          \r\n          <!-- 婚姻感情 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '婚姻感情' : '未来感情发展' }}</h3>\r\n            <template v-if=\"!aiAnalysis.relationship || aiAnalysis.relationship === '暂无' || aiAnalysis.relationship.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.relationship || followupAnalysis.marriage\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.relationship || followupAnalysis.marriage }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.relationship }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 事业财运 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '事业财运' : '未来事业财运' }}</h3>\r\n            <template v-if=\"!aiAnalysis.career || aiAnalysis.career === '暂无' || aiAnalysis.career.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.career || followupAnalysis.work || followupAnalysis.money || followupAnalysis.wealth\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.career || followupAnalysis.work || followupAnalysis.money || followupAnalysis.wealth }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.career }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 子女情况 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>{{ userAge !== null && userAge >= 18 ? '子女情况' : '未来子女缘分' }}</h3>\r\n            <template v-if=\"!aiAnalysis.children || aiAnalysis.children === '暂无' || aiAnalysis.children.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.children || followupAnalysis.family\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.children || followupAnalysis.family }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.children }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 父母情况 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>父母情况</h3>\r\n            <template v-if=\"!aiAnalysis.parents || aiAnalysis.parents === '暂无' || aiAnalysis.parents.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.parents\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.parents }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.parents }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 身体健康 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>身体健康</h3>\r\n            <template v-if=\"!aiAnalysis.health || aiAnalysis.health === '暂无' || aiAnalysis.health.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.health\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.health }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.health }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 学业 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>学业</h3>\r\n            <template v-if=\"!aiAnalysis.education || aiAnalysis.education === '暂无' || aiAnalysis.education.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.education || followupAnalysis.study\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.education || followupAnalysis.study }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.education }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 人际关系 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>人际关系</h3>\r\n            <template v-if=\"!aiAnalysis.social || aiAnalysis.social === '暂无' || aiAnalysis.social.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.social || followupAnalysis.relationship || followupAnalysis.friends\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.social || followupAnalysis.relationship || followupAnalysis.friends }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.social }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 近五年运势 -->\r\n          <div class=\"analysis-section\">\r\n            <h3>近五年运势</h3>\r\n            <template v-if=\"!aiAnalysis.future || aiAnalysis.future === '暂无' || aiAnalysis.future.includes('正在分析')\">\r\n              <div class=\"loading-content\">\r\n                <van-loading size=\"24px\" vertical>分析生成中...</van-loading>\r\n              </div>\r\n            </template>\r\n            <div v-else>\r\n              <!-- 如果有追问分析结果，优先显示追问分析 -->\r\n              <div v-if=\"followupAnalysis.future || followupAnalysis.fiveYears\" class=\"enhanced-analysis\">\r\n                <p>{{ followupAnalysis.future || followupAnalysis.fiveYears }}</p>\r\n                <div class=\"analysis-source\">\r\n                  <van-tag type=\"primary\" size=\"medium\">深度分析</van-tag>\r\n                </div>\r\n              </div>\r\n              <p v-else>{{ aiAnalysis.future }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n    \r\n    <div class=\"action-buttons\">\r\n      <van-button type=\"primary\" block @click=\"downloadPDF\">\r\n        下载PDF报告\r\n      </van-button>\r\n      <van-button plain type=\"primary\" block style=\"margin-top: 10px;\" @click=\"shareResult\">\r\n        分享结果\r\n      </van-button>\r\n      \r\n      <!-- 本地生成PDF按钮 -->\r\n      <van-button plain type=\"info\" \r\n                  block \r\n                  style=\"margin-top: 10px;\" \r\n                  @click=\"handleLocalPDFGeneration\">\r\n        本地生成PDF\r\n      </van-button>\r\n      \r\n      <!-- 调试按钮 -->\r\n      <van-button plain type=\"warning\" \r\n                  block \r\n                  style=\"margin-top: 10px;\" \r\n                  @click=\"reloadBaziData\">\r\n        重新加载分析数据\r\n      </van-button>\r\n    </div>\r\n    \r\n    <!-- 添加追问部分 -->\r\n    <div class=\"followup-section\" v-if=\"baziData && !loading\">\r\n      <h2 class=\"section-title\">深度分析</h2>\r\n      <p class=\"section-desc\">选择您感兴趣的领域，进行深度分析</p>\r\n      \r\n      <div class=\"followup-options\">\r\n        <div \r\n          v-for=\"option in followupOptions\" \r\n          :key=\"option.id\" \r\n          class=\"followup-option\" \r\n          :class=\"{ 'paid': option.paid }\"\r\n          @click=\"selectFollowupOption(option)\"\r\n        >\r\n          <div class=\"option-content\">\r\n            <span class=\"option-name\">{{ option.name }}</span>\r\n            <span class=\"option-status\" v-if=\"option.paid\">已解锁</span>\r\n            <span class=\"option-status\" v-else>￥9.9</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 已支付的追问分析结果展示 -->\r\n      <div v-if=\"currentFollowup && currentFollowup.paid\" class=\"followup-result\">\r\n        <h3>{{ currentFollowup.name }}分析</h3>\r\n        <div v-if=\"isLoadingFollowup\" class=\"loading-content\">\r\n          <van-loading size=\"24px\" vertical>分析加载中...</van-loading>\r\n        </div>\r\n        <div v-else-if=\"!followupAnalysis[currentFollowup.id]\" class=\"loading-content\">\r\n          <van-empty description=\"分析结果尚未生成，请稍后刷新页面\" />\r\n          <van-button type=\"primary\" size=\"small\" @click=\"reloadFollowupAnalysis(currentFollowup.id)\">\r\n            刷新分析\r\n          </van-button>\r\n        </div>\r\n        <div v-else class=\"analysis-content\">\r\n          {{ followupAnalysis[currentFollowup.id] }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 追问支付对话框 -->\r\n    <van-dialog\r\n      v-model:show=\"showFollowupDialog\"\r\n      title=\"深度分析\"\r\n      confirm-button-text=\"支付 ￥9.9\"\r\n      @confirm=\"payForFollowup\"\r\n      :before-close=\"() => !isLoadingFollowup\"\r\n    >\r\n      <div class=\"followup-dialog-content\">\r\n        <p>您选择了「{{ currentFollowup?.name }}」深度分析</p>\r\n        <p>支付后，AI将根据您的八字和流年运势，为您提供专业的命理分析</p>\r\n      </div>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, reactive, computed, watch, onUnmounted } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { Toast, Dialog } from 'vant';\r\nimport { jsPDF } from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport axios from 'axios';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst resultId = ref(route.params.id || route.query.resultId);\r\nconst activeTab = ref(0);\r\nconst loading = ref(false);\r\n\r\n// 添加分析状态相关变量\r\nconst isAnalyzing = ref(false);\r\nconst analyzeProgress = ref(0);\r\nconst analyzeTimer = ref(null);\r\n\r\n// 用户年龄，从URL参数或localStorage获取\r\nconst userAge = ref(null);\r\n// 尝试从URL参数获取年龄\r\nif (route.query.age && !isNaN(parseInt(route.query.age))) {\r\n  userAge.value = parseInt(route.query.age);\r\n} \r\n// 如果URL参数中没有年龄，尝试从localStorage获取\r\nelse if (localStorage.getItem('userAge') && !isNaN(parseInt(localStorage.getItem('userAge')))) {\r\n  userAge.value = parseInt(localStorage.getItem('userAge'));\r\n}\r\n// 记录用户年龄到控制台，便于调试\r\nconsole.log('用户年龄:', userAge.value);\r\n\r\n// 从分析文本中提取特定部分内容\r\nconst getAnalysisContent = (sectionName) => {\r\n  try {\r\n    // 如果是性格特点或学业发展，直接从对应字段获取\r\n    if (sectionName === '性格特点' && aiAnalysis.value.personality) {\r\n      return aiAnalysis.value.personality;\r\n    }\r\n    \r\n    if (sectionName === '学业发展' && aiAnalysis.value.education) {\r\n      return aiAnalysis.value.education;\r\n    }\r\n    \r\n    // 处理健康分析文本，尝试提取学业、性格等内容\r\n    if (aiAnalysis.value.health) {\r\n      const healthText = aiAnalysis.value.health;\r\n      \r\n      // 查找各部分的标记\r\n      const sectionMatch = healthText.match(new RegExp(`###\\\\s*${sectionName}([\\\\s\\\\S]*?)(?=###|$)`, 'i'));\r\n      if (sectionMatch && sectionMatch[1]) {\r\n        return sectionMatch[1].trim();\r\n      }\r\n      \r\n      // 如果是未来发展，尝试从overall中提取\r\n      if (sectionName === '未来发展' && aiAnalysis.value.overall) {\r\n        const futureMatch = aiAnalysis.value.overall.match(/未来(\\d+)年[：:]([\\s\\S]*?)(?=（本分析|$)/i);\r\n        if (futureMatch && futureMatch[2]) {\r\n          return futureMatch[2].trim();\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 如果没有找到对应部分或提取失败，返回空字符串\r\n    return '';\r\n  } catch (e) {\r\n    console.error(`提取${sectionName}内容时出错:`, e);\r\n    return '';\r\n  }\r\n};\r\n\r\n// 修改数据初始化\r\nconst focusAreas = ref([]);\r\nconst analysisResult = ref({});\r\n\r\n// 初始化八字数据\r\nconst baziData = ref({\r\n  yearPillar: { \r\n    heavenlyStem: '', \r\n    earthlyBranch: '',\r\n    naYin: '',\r\n    shiShen: '',\r\n    wangShuai: ''\r\n  },\r\n  monthPillar: { \r\n    heavenlyStem: '', \r\n    earthlyBranch: '',\r\n    naYin: '',\r\n    shiShen: '',\r\n    wangShuai: ''\r\n  },\r\n  dayPillar: { \r\n    heavenlyStem: '', \r\n    earthlyBranch: '',\r\n    naYin: '',\r\n    shiShen: '',\r\n    wangShuai: ''\r\n  },\r\n  hourPillar: { \r\n    heavenlyStem: '', \r\n    earthlyBranch: '',\r\n    naYin: '',\r\n    shiShen: '',\r\n    wangShuai: ''\r\n  },\r\n  fiveElements: {},\r\n  flowingYears: [],\r\n  shenSha: {\r\n    dayChong: '',\r\n    zhiShen: '',\r\n    xiShen: '',\r\n    fuShen: '',\r\n    caiShen: '',\r\n    benMing: [],\r\n    yearGan: [],\r\n    yearZhi: [],\r\n    dayGan: [],\r\n    dayZhi: []\r\n  },\r\n  daYun: {\r\n    startAge: 0,\r\n    startYear: 0,\r\n    isForward: true,\r\n    daYunList: []\r\n  },\r\n  birthDate: null,\r\n  birthTime: null,\r\n  gender: null\r\n});\r\n\r\n// 初始化分析数据\r\nconst aiAnalysis = ref({\r\n  health: '',\r\n  career: '',\r\n  relationship: '',\r\n  children: '',\r\n  social: '',\r\n  future: '',\r\n  parents: '',\r\n  education: '',\r\n  // 新增字段\r\n  coreAnalysis: '',\r\n  fiveElements: '',\r\n  shenShaAnalysis: '',\r\n  keyPoints: ''\r\n});\r\n\r\nconst testApiConnection = async () => {\r\n  try {\r\n    Toast.loading('正在测试API连接...');\r\n    // 使用配置好的http实例\r\n    const response = await axios.get('/');\r\n    console.log('API根路径响应:', response.data);\r\n    Toast.success('API连接成功');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('API连接测试失败:', error);\r\n    Toast.fail('API连接失败，请检查后端服务');\r\n    return false;\r\n  }\r\n};\r\n\r\nonMounted(async () => {\r\n  // 先测试API连接\r\n  const isApiConnected = await testApiConnection();\r\n  if (!isApiConnected) {\r\n    console.warn('API连接失败，将使用模拟数据');\r\n    loading.value = false;\r\n    return;\r\n  }\r\n  \r\n  console.log('结果页面加载，URL参数中的ID:', resultId.value);\r\n  \r\n  // 如果没有resultId，尝试从本地存储获取\r\n  const localResultId = localStorage.getItem('resultId');\r\n  if (!resultId.value && localResultId) {\r\n    console.log('从本地存储获取ID:', localResultId);\r\n    // 更新resultId为从本地存储获取的值\r\n    resultId.value = localResultId;\r\n  }\r\n  \r\n  // 确保resultId是字符串类型，不是布尔值或其他数据类型\r\n  if (resultId.value === true || resultId.value === false) {\r\n    console.error('resultId不应该是布尔值:', resultId.value);\r\n    resultId.value = localResultId || route.query.resultId || '';\r\n  }\r\n  \r\n  console.log('最终使用的resultId:', resultId.value);\r\n  \r\n  // 如果resultId为空或无效，显示错误并尝试从URL查询参数获取\r\n  if (!resultId.value) {\r\n    console.error('缺少结果ID，无法获取分析结果');\r\n    \r\n    // 尝试从URL查询参数获取备选ID\r\n    const urlResultId = route.query.resultId;\r\n    if (urlResultId) {\r\n      console.log('从URL查询参数获取备选ID:', urlResultId);\r\n      resultId.value = urlResultId;\r\n    } else {\r\n      Toast.fail('缺少结果ID，无法获取分析结果');\r\n      loading.value = false;\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // 存储确认的resultId到本地存储\r\n  localStorage.setItem('resultId', resultId.value);\r\n  \r\n  // 显示加载提示\r\n  Toast.loading({\r\n    message: '正在加载八字分析结果，请稍候...',\r\n    duration: 0,\r\n    forbidClick: true\r\n  });\r\n  \r\n  // 调用getBaziResult函数获取结果\r\n  await getBaziResult();\r\n  \r\n  // 检查分析是否完成\r\n  const stillAnalyzing = Object.values(aiAnalysis.value).some(\r\n    value => typeof value === 'string' && value.includes('正在分析')\r\n  );\r\n  \r\n  if (stillAnalyzing) {\r\n    console.log('检测到分析仍在进行中...');\r\n    Toast.loading({\r\n      message: '正在生成八字分析结果，这可能需要30-60秒...',\r\n      duration: 0\r\n    });\r\n    \r\n    // 启动轮询\r\n    await pollAnalysisStatus(resultId.value);\r\n    Toast.success('分析完成');\r\n  }\r\n  \r\n  // 关闭加载提示\r\n  Toast.clear();\r\n});\r\n\r\nconst getElementName = (element) => {\r\n  if (!element) return '--';\r\n  \r\n  const elementNames = {\r\n    'wood': '木',\r\n    'fire': '火',\r\n    'earth': '土',\r\n    'metal': '金',\r\n    'water': '水',\r\n    '木': '木',\r\n    '火': '火',\r\n    '土': '土',\r\n    '金': '金',\r\n    '水': '水'\r\n  };\r\n  \r\n  return elementNames[element] || element;\r\n};\r\n\r\nconst onClickLeft = () => {\r\n  router.push('/');\r\n};\r\n\r\n// 修改后的直接流下载函数，适应后端始终返回文件流\r\nconst downloadPDFAsStream = async () => {\r\n  Toast.loading({\r\n    message: '正在生成PDF并下载报告...',\r\n    duration: 0,\r\n    position: 'middle',\r\n    forbidClick: true\r\n  });\r\n  \r\n  if (!resultId.value) {\r\n    Toast.clear();\r\n    Toast.fail('缺少结果ID，无法下载报告');\r\n    return false;\r\n  }\r\n  \r\n  try {\r\n    console.log('直接下载报告, 结果ID:', resultId.value);\r\n    \r\n    // 创建下载链接，添加时间戳避免缓存问题\r\n    const timestamp = new Date().getTime();\r\n    const downloadUrl = `/api/bazi/pdf/${resultId.value}?t=${timestamp}`;\r\n    console.log('下载URL:', downloadUrl);\r\n    \r\n    // 使用fetch API获取文件流\r\n    const response = await fetch(downloadUrl, {\r\n      method: 'GET',\r\n      cache: 'no-cache',\r\n      headers: {\r\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\r\n        'Pragma': 'no-cache',\r\n        'Expires': '0'\r\n      }\r\n    });\r\n    \r\n    // 检查错误\r\n    if (!response.ok) {\r\n      let errorMsg = `下载失败: HTTP错误 ${response.status}`;\r\n      try {\r\n        const contentType = response.headers.get('content-type');\r\n        if (contentType && contentType.includes('application/json')) {\r\n          const errorData = await response.json();\r\n          errorMsg = errorData.message || errorMsg;\r\n        } else {\r\n          // 如果不是JSON格式的错误，尝试获取文本错误信息\r\n          const errorText = await response.text();\r\n          if (errorText) {\r\n            errorMsg = `下载失败: ${errorText.substring(0, 100)}`;\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('解析错误响应失败:', e);\r\n      }\r\n      throw new Error(errorMsg);\r\n    }\r\n    \r\n    // 检查内容类型\r\n    const contentType = response.headers.get('content-type');\r\n    const disposition = response.headers.get('content-disposition');\r\n    \r\n    console.log('响应内容类型:', contentType);\r\n    console.log('响应内容处置:', disposition);\r\n    \r\n    // 确定文件名和扩展名\r\n    let filename = `八字命理分析_${resultId.value}.pdf`;\r\n    if (disposition && disposition.includes('filename=')) {\r\n      const filenameMatch = disposition.match(/filename=[\"']?([^\"']+)[\"']?/);\r\n      if (filenameMatch && filenameMatch[1]) {\r\n        filename = filenameMatch[1];\r\n      }\r\n    }\r\n    \r\n    // 确定文件类型\r\n    const fileExtension = contentType && contentType.includes('html') ? 'html' : 'pdf';\r\n    if (!filename.endsWith(fileExtension)) {\r\n      filename = `八字命理分析_${resultId.value}.${fileExtension}`;\r\n    }\r\n    \r\n    // 转换为Blob对象\r\n    const blob = await response.blob();\r\n    console.log('PDF Blob大小:', blob.size, '字节');\r\n    \r\n    // 检查Blob大小 - 注意：当浏览器接管下载时，可能会导致blob.size为0\r\n    // 因此，如果有Content-Disposition头部，我们应该认为下载已经开始\r\n    const isDownloadStarted = disposition && disposition.includes('attachment');\r\n    if (blob.size === 0 && !isDownloadStarted) {\r\n      throw new Error('下载的文件为空');\r\n    }\r\n    \r\n    // 对于小文件，我们可以验证文件内容\r\n    // 但对于大文件或浏览器接管的下载，跳过验证\r\n    if (blob.size > 0 && blob.size < 1024*1024 && contentType && contentType.includes('pdf')) {\r\n      try {\r\n        // 读取文件头部以验证是否为有效的PDF\r\n        const fileReader = new FileReader();\r\n        const headerPromise = new Promise((resolve, reject) => {\r\n          fileReader.onloadend = (e) => resolve(e.target.result);\r\n          fileReader.onerror = (e) => reject(e);\r\n        });\r\n        fileReader.readAsArrayBuffer(blob.slice(0, 5));\r\n        \r\n        const header = await headerPromise;\r\n        const headerView = new Uint8Array(header);\r\n        const headerString = String.fromCharCode.apply(null, headerView);\r\n        \r\n        if (!headerString.startsWith('%PDF')) {\r\n          console.error('无效的PDF文件头:', headerString);\r\n          throw new Error('下载的不是有效的PDF文件');\r\n        } else {\r\n          console.log('PDF文件头验证通过');\r\n        }\r\n      } catch (e) {\r\n        console.error('验证PDF文件失败:', e);\r\n        // 如果是浏览器接管下载导致的验证失败，我们不抛出错误\r\n        if (!isDownloadStarted) {\r\n          throw new Error('验证PDF文件失败: ' + e.message);\r\n        } else {\r\n          console.warn('浏览器接管了下载，跳过PDF验证');\r\n        }\r\n      }\r\n    }\r\n    \r\n    // 不管浏览器是否已经接管下载，我们都手动创建一个下载链接\r\n    try {\r\n      // 创建下载链接\r\n      const url = window.URL.createObjectURL(blob);\r\n      console.log('创建Blob URL:', url);\r\n      \r\n      // 使用iframe方式下载，避免某些浏览器的下载拦截\r\n      const iframe = document.createElement('iframe');\r\n      iframe.style.display = 'none';\r\n      document.body.appendChild(iframe);\r\n      \r\n      // 创建a标签并触发下载\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `八字命理分析_${resultId.value}.pdf`; // 强制使用自定义文件名\r\n      a.target = '_blank';\r\n      a.rel = 'noopener noreferrer';\r\n      \r\n      // 在iframe中添加a标签并点击\r\n      iframe.contentWindow.document.body.appendChild(a);\r\n      console.log('触发下载, 文件名:', a.download);\r\n      a.click();\r\n      \r\n      // 清理\r\n      setTimeout(() => {\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(iframe);\r\n        console.log('清理下载资源完成');\r\n      }, 1000); // 增加延时确保下载开始\r\n    } catch (e) {\r\n      console.error('创建下载链接失败:', e);\r\n      \r\n      // 尝试使用window.open直接打开PDF\r\n      try {\r\n        console.log('尝试使用window.open方法下载');\r\n        const pdfWindow = window.open(downloadUrl, '_blank');\r\n        if (!pdfWindow) {\r\n          console.warn('弹出窗口被阻止，尝试其他方法');\r\n          // 提示用户直接打开链接\r\n          Dialog.alert({\r\n            title: '下载提示',\r\n            message: '系统无法自动下载PDF，请点击确定后手动保存文件',\r\n            confirmButtonText: '确定',\r\n          }).then(() => {\r\n            window.open(downloadUrl, '_blank');\r\n          });\r\n        }\r\n      } catch (openError) {\r\n        console.error('使用window.open下载失败:', openError);\r\n        throw new Error('下载失败，请尝试使用其他浏览器');\r\n      }\r\n    }\r\n    \r\n    Toast.clear();\r\n    Toast.success('报告下载成功');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('直接下载PDF出错:', error);\r\n    Toast.clear();\r\n    \r\n    // 检查是否是因为浏览器已经接管了下载而导致的错误\r\n    if (error.message && (\r\n        error.message.includes('下载的文件为空') || \r\n        error.message.includes('验证PDF文件失败')\r\n      )) {\r\n      // 如果是这类错误，可能是浏览器已经开始下载，我们不显示错误\r\n      console.log('可能是浏览器已经接管了下载，不显示错误');\r\n      Toast.success('报告下载已开始，请等待浏览器完成下载');\r\n      return true;\r\n    }\r\n    \r\n    // 显示错误信息\r\n    Toast.fail(error.message || '下载失败，请稍后重试');\r\n    return false;\r\n  }\r\n};\r\n\r\n// 修改主下载函数，添加重试逻辑\r\nconst downloadPDF = async () => {\r\n  Toast.loading({\r\n    message: '正在生成并下载PDF报告...',\r\n    duration: 5000,\r\n    position: 'middle'\r\n  });\r\n  \r\n  if (!resultId.value) {\r\n    Toast.fail('缺少结果ID，无法生成报告');\r\n    return;\r\n  }\r\n  \r\n  // 最多尝试3次下载\r\n  let attempts = 0;\r\n  let success = false;\r\n  \r\n  while (attempts < 3 && !success) {\r\n    attempts++;\r\n    \r\n    if (attempts > 1) {\r\n      console.log(`尝试第${attempts}次下载...`);\r\n      Toast.loading({\r\n        message: `尝试第${attempts}次下载...`,\r\n        duration: 2000\r\n      });\r\n      // 在重试之前等待一段时间\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n    }\r\n    \r\n    // 使用流式下载模式，并处理返回值\r\n    success = await downloadPDFAsStream();\r\n    \r\n    // 如果流式下载成功，直接返回，不再尝试其他方法\r\n    if (success === true) {\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // 如果多次尝试后仍然失败，提示用户\r\n  if (!success) {\r\n    Toast.clear();\r\n    Dialog.alert({\r\n      title: 'PDF下载失败',\r\n      message: '下载PDF报告失败，请稍后再试。如果问题持续存在，请联系客服。',\r\n    });\r\n  }\r\n};\r\n\r\n// 本地生成PDF的函数\r\nconst generatePDFLocally = async () => {\r\n  console.log('使用客户端jsPDF库生成PDF');\r\n  \r\n  // 获取内容元素\r\n  const element = document.querySelector('.result-container');\r\n  if (!element) {\r\n    throw new Error('找不到要转换的内容元素');\r\n  }\r\n  \r\n  Toast.loading({\r\n    message: '正在捕获页面内容...',\r\n    duration: 5000\r\n  });\r\n  \r\n  try {\r\n    // 使用html2canvas捕获内容\r\n    const canvas = await html2canvas(element, {\r\n      scale: 1,\r\n      useCORS: true,\r\n      logging: false,\r\n      windowWidth: document.documentElement.offsetWidth,\r\n      windowHeight: document.documentElement.offsetHeight,\r\n    });\r\n    \r\n    Toast.loading({\r\n      message: '正在生成PDF文件...',\r\n      duration: 5000\r\n    });\r\n        \r\n    // 创建PDF文档\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n        \r\n    // 计算尺寸和比例\r\n    const imgData = canvas.toDataURL('image/png');\r\n    const imgWidth = 210; // A4宽度，单位mm\r\n    const pageHeight = 297; // A4高度，单位mm\r\n    const imgHeight = canvas.height * imgWidth / canvas.width;\r\n    let heightLeft = imgHeight;\r\n    let position = 0;\r\n          \r\n    // 添加首页\r\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n    heightLeft -= pageHeight;\r\n    \r\n    // 如果内容超过一页，添加更多页\r\n    while (heightLeft > 0) {\r\n      position = heightLeft - imgHeight;\r\n      pdf.addPage();\r\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n      heightLeft -= pageHeight;\r\n    }\r\n    \r\n    // 添加页脚\r\n    const pageCount = pdf.internal.getNumberOfPages();\r\n    for (let i = 1; i <= pageCount; i++) {\r\n      pdf.setPage(i);\r\n      pdf.setFontSize(10);\r\n      pdf.setTextColor(150);\r\n      pdf.text(`八字命理AI分析报告 - 页 ${i} / ${pageCount}`, pdf.internal.pageSize.getWidth() / 2, pdf.internal.pageSize.getHeight() - 10, { align: 'center' });\r\n    }\r\n    \r\n    // 保存PDF\r\n    pdf.save(`八字命理分析_${resultId.value}.pdf`);\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error('本地PDF生成错误:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst shareResult = () => {\r\n  Toast.success('分享功能开发中');\r\n};\r\n\r\n// 处理本地PDF生成\r\nconst handleLocalPDFGeneration = async () => {\r\n  try {\r\n    Toast.loading({\r\n      message: '正在本地生成PDF...',\r\n      duration: 0,\r\n      forbidClick: true\r\n    });\r\n    \r\n    await generatePDFLocally();\r\n    \r\n    Toast.clear();\r\n    Toast.success('本地PDF生成成功');\r\n  } catch (error) {\r\n    console.error('本地PDF生成失败:', error);\r\n    Toast.clear();\r\n    Toast.fail('本地PDF生成失败: ' + (error.message || '未知错误'));\r\n  }\r\n};\r\n\r\n// 添加分析状态检查函数\r\nconst checkAnalysisStatus = async (resultId) => {\r\n  try {\r\n    console.log('检查分析状态:', resultId);\r\n    const response = await axios.get(`/api/bazi/result/${resultId}`);\r\n    \r\n    if (response.data.code === 200) {\r\n      // 检查AI分析是否已经生成\r\n      const aiAnalysisData = response.data.data.aiAnalysis || {};\r\n      \r\n      // 统计已完成和正在分析的项目\r\n      let totalItems = 0;\r\n      let completedItems = 0;\r\n      \r\n      Object.entries(aiAnalysisData).forEach(([key, value]) => {\r\n        totalItems++;\r\n        if (!(typeof value === 'string' && value.includes('正在分析'))) {\r\n          completedItems++;\r\n        }\r\n      });\r\n      \r\n      // 更新进度\r\n      if (totalItems > 0) {\r\n        analyzeProgress.value = Math.floor((completedItems / totalItems) * 100);\r\n      }\r\n      \r\n      // 检查是否还有\"正在分析\"的内容\r\n      const stillAnalyzing = Object.values(aiAnalysisData).some(\r\n        value => typeof value === 'string' && value.includes('正在分析')\r\n      );\r\n      \r\n      isAnalyzing.value = stillAnalyzing;\r\n      \r\n      if (stillAnalyzing) {\r\n        console.log('分析仍在进行中...', `完成度: ${analyzeProgress.value}%`);\r\n        return false;\r\n      } else {\r\n        console.log('分析已完成');\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    console.error('检查分析状态出错:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// 添加轮询检查函数\r\nconst pollAnalysisStatus = async (resultId, maxAttempts = 30) => {\r\n  let attempts = 0;\r\n  \r\n  // 显示进度条\r\n  isAnalyzing.value = true;\r\n  \r\n  // 创建模拟进度，即使后端没有反馈也会看到进度在增加\r\n  if (analyzeTimer.value) clearInterval(analyzeTimer.value);\r\n  analyzeTimer.value = setInterval(() => {\r\n    if (analyzeProgress.value < 90) {\r\n      analyzeProgress.value += 2;\r\n    }\r\n  }, 2000);\r\n  \r\n  return new Promise((resolve) => {\r\n    const checkInterval = setInterval(async () => {\r\n      attempts++;\r\n      const isComplete = await checkAnalysisStatus(resultId);\r\n      \r\n      if (isComplete || attempts >= maxAttempts) {\r\n        clearInterval(checkInterval);\r\n        \r\n        // 清除模拟进度定时器\r\n        if (analyzeTimer.value) {\r\n          clearInterval(analyzeTimer.value);\r\n          analyzeTimer.value = null;\r\n        }\r\n        \r\n        if (isComplete) {\r\n          // 如果完成，确保进度显示100%\r\n          analyzeProgress.value = 100;\r\n          setTimeout(() => {\r\n            isAnalyzing.value = false;\r\n          }, 1000); // 短暂显示100%后隐藏进度条\r\n        }\r\n        \r\n        await getBaziResult(); // 最后再获取一次完整结果\r\n        Toast.clear();\r\n        resolve(isComplete);\r\n      }\r\n    }, 2000); // 每2秒检查一次\r\n  });\r\n};\r\n\r\n// 修改reloadBaziData函数，添加轮询逻辑\r\nconst reloadBaziData = async () => {\r\n  Toast.loading('正在重新加载数据...');\r\n  \r\n  try {\r\n    if (!resultId.value) {\r\n      Toast.fail('缺少结果ID');\r\n      return;\r\n    }\r\n    \r\n    console.log(`重新加载数据，结果ID: ${resultId.value}`);\r\n    \r\n    // 获取URL参数\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    \r\n    // 尝试使用模拟支付接口\r\n    try {\r\n      console.log('尝试使用模拟支付接口...');\r\n      \r\n      // 显示加载提示\r\n      Toast.loading({\r\n        message: '正在处理支付...',\r\n        duration: 0,\r\n        position: 'middle',\r\n        forbidClick: true\r\n      });\r\n      \r\n      // 准备请求数据\r\n      const requestData = {\r\n        birthDate: baziData.value.birthDate || urlParams.get('birthDate'),\r\n        birthTime: baziData.value.birthTime || urlParams.get('birthTime'),\r\n        gender: baziData.value.gender || urlParams.get('gender')\r\n      };\r\n      \r\n      console.log('请求数据:', requestData);\r\n      \r\n      // 发送模拟支付请求\r\n      const mockPaymentResponse = await axios.post(`/api/order/mock/pay/${resultId.value}`, requestData);\r\n      console.log('模拟支付响应:', mockPaymentResponse.data);\r\n      \r\n      if (mockPaymentResponse.data.code === 200) {\r\n        // 支付成功，显示成功提示\r\n        Toast.success('支付成功');\r\n        \r\n        // 使用返回的resultId重新加载数据\r\n        if (mockPaymentResponse.data.data && mockPaymentResponse.data.data.resultId) {\r\n          const newResultId = mockPaymentResponse.data.data.resultId;\r\n          console.log('获取到新的resultId:', newResultId);\r\n          \r\n          // 更新全局的resultId变量\r\n          resultId.value = newResultId;\r\n          // 还需要更新本地存储中的resultId\r\n          localStorage.setItem('resultId', newResultId);\r\n          \r\n          // 显示正在加载分析结果\r\n          Toast.loading({\r\n            message: '正在生成八字分析结果，这可能需要30-60秒...',\r\n            duration: 0,\r\n            position: 'middle',\r\n            forbidClick: true\r\n          });\r\n          \r\n          // 轮询检查分析状态\r\n          const analysisComplete = await pollAnalysisStatus(newResultId);\r\n          \r\n          if (analysisComplete) {\r\n            Toast.success('分析已完成');\r\n          } else {\r\n            Toast.success('已完成部分分析，显示可用结果');\r\n          }\r\n          \r\n          // 重新加载追问分析结果\r\n          await loadFollowupResults();\r\n          \r\n          return;\r\n        }\r\n      }\r\n    } catch (mockError) {\r\n      console.error('模拟支付失败:', mockError);\r\n      Toast.fail('重新加载失败: ' + (mockError.message || '未知错误'));\r\n      return;\r\n    }\r\n    \r\n    // 如果模拟支付失败，尝试直接获取结果\r\n    try {\r\n      Toast.loading({\r\n        message: '正在加载现有分析结果...',\r\n        duration: 0,\r\n        forbidClick: true\r\n      });\r\n      \r\n      const response = await axios.get(`/api/bazi/result/${resultId.value}`);\r\n      \r\n      if (response.data.code === 200) {\r\n        // 更新八字数据，使用空值合并运算符确保数据存在\r\n        baziData.value = {\r\n          yearPillar: response.data.data.baziChart?.yearPillar || null,\r\n          monthPillar: response.data.data.baziChart?.monthPillar || null,\r\n          dayPillar: response.data.data.baziChart?.dayPillar || null,\r\n          hourPillar: response.data.data.baziChart?.hourPillar || null,\r\n          fiveElements: response.data.data.baziChart?.fiveElements || null,\r\n          flowingYears: response.data.data.baziChart?.flowingYears || [],\r\n          shenSha: response.data.data.baziChart?.shenSha || baziData.value.shenSha,\r\n          daYun: response.data.data.baziChart?.daYun || baziData.value.daYun,\r\n          birthDate: response.data.data.baziChart?.birthDate || null,\r\n          birthTime: response.data.data.baziChart?.birthTime || null,\r\n          gender: response.data.data.baziChart?.gender || null\r\n        };\r\n        \r\n        // 更新AI分析结果\r\n        aiAnalysis.value = {\r\n          health: response.data.data.aiAnalysis?.health || '',\r\n          career: response.data.data.aiAnalysis?.career || '',\r\n          relationship: response.data.data.aiAnalysis?.relationship || '',\r\n          children: response.data.data.aiAnalysis?.children || '',\r\n          social: response.data.data.aiAnalysis?.social || '',\r\n          future: response.data.data.aiAnalysis?.future || '',\r\n          parents: response.data.data.aiAnalysis?.parents || '',\r\n          education: response.data.data.aiAnalysis?.education || '',\r\n          // 新增字段\r\n          coreAnalysis: response.data.data.aiAnalysis?.coreAnalysis || '',\r\n          fiveElements: response.data.data.aiAnalysis?.fiveElements || '',\r\n          shenShaAnalysis: response.data.data.aiAnalysis?.shenShaAnalysis || '',\r\n          keyPoints: response.data.data.aiAnalysis?.keyPoints || ''\r\n        };\r\n        \r\n        // 检查是否存在\"正在分析\"的内容\r\n        const stillAnalyzing = Object.values(aiAnalysis.value).some(\r\n          value => typeof value === 'string' && value.includes('正在分析')\r\n        );\r\n        \r\n        // 更新分析状态\r\n        isAnalyzing.value = stillAnalyzing;\r\n        \r\n        if (stillAnalyzing) {\r\n          console.log('分析仍在进行中...');\r\n          // 不显示Toast，因为我们已经有进度条显示\r\n        } else {\r\n          // 分析完成\r\n          analyzeProgress.value = 100;\r\n          setTimeout(() => {\r\n            isAnalyzing.value = false;\r\n          }, 1000);\r\n        }\r\n        \r\n        // 重新加载追问分析结果\r\n        console.log('重新加载追问分析结果...');\r\n        await loadFollowupResults();\r\n        \r\n        // 遍历所有已支付的追问选项，强制重新获取分析结果\r\n        const paidOptions = followupOptions.value.filter(option => option.paid);\r\n        if (paidOptions.length > 0) {\r\n          console.log('发现已支付的追问选项，强制重新获取:', paidOptions.map(o => o.id));\r\n          for (const option of paidOptions) {\r\n            await getFollowupAnalysis(option.id);\r\n          }\r\n        }\r\n        \r\n        Toast.success('数据刷新成功');\r\n      } else {\r\n        Toast.fail(response.data.message || '加载失败');\r\n      }\r\n    } catch (error) {\r\n      console.error('重新加载失败:', error);\r\n      Toast.fail('加载失败: ' + (error.message || '未知错误'));\r\n    }\r\n  } catch (error) {\r\n    console.error('重新加载失败:', error);\r\n    Toast.fail('加载失败: ' + (error.message || '未知错误'));\r\n  }\r\n};\r\n\r\n// 追问相关状态\r\nconst followupOptions = ref([\r\n  { id: 'marriage', name: '婚姻感情', selected: false, paid: false },\r\n  { id: 'career', name: '事业财运', selected: false, paid: false },\r\n  { id: 'children', name: '子女情况', selected: false, paid: false },\r\n  { id: 'parents', name: '父母情况', selected: false, paid: false },\r\n  { id: 'health', name: '身体健康', selected: false, paid: false },\r\n  { id: 'education', name: '学业', selected: false, paid: false },\r\n  { id: 'relationship', name: '人际关系', selected: false, paid: false },\r\n  { id: 'fiveYears', name: '近五年运势', selected: false, paid: false }\r\n]);\r\n\r\nconst currentFollowup = ref(null);\r\nconst showFollowupDialog = ref(false);\r\nconst followupAnalysis = ref({});\r\nconst isLoadingFollowup = ref(false);\r\n\r\n// 选择追问选项\r\nconst selectFollowupOption = async (option) => {\r\n  // 设置当前选择的追问选项\r\n  currentFollowup.value = option;\r\n  \r\n  // 如果已经支付过，直接显示结果\r\n  if (option.paid) {\r\n    console.log(`选择已支付的追问: ${option.id}`);\r\n    \r\n    // 如果已有分析结果，直接显示\r\n    if (followupAnalysis.value[option.id]) {\r\n      console.log(`已有${option.id}分析结果，直接显示`);\r\n      return;\r\n    }\r\n    \r\n    // 如果没有分析结果，尝试获取\r\n    console.log(`尝试获取${option.id}分析结果`);\r\n    Toast.loading({\r\n      message: '正在加载分析结果...',\r\n      duration: 0\r\n    });\r\n    \r\n    try {\r\n      // 尝试获取分析结果\r\n      const analysis = await getFollowupAnalysis(option.id);\r\n      if (analysis && typeof analysis === 'string' && analysis.length > 0) {\r\n        Toast.success('加载成功');\r\n        console.log(`成功获取${option.id}分析结果，长度: ${analysis.length}`);\r\n      } else {\r\n        Toast.fail('分析结果尚未生成完成，请稍后再试');\r\n        console.warn(`获取${option.id}分析结果失败或为空`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`获取${option.id}分析失败:`, error);\r\n      Toast.fail('获取分析失败，请重试');\r\n    } finally {\r\n      Toast.clear();\r\n    }\r\n    \r\n    return;\r\n  }\r\n  \r\n  // 否则显示支付对话框\r\n  showFollowupDialog.value = true;\r\n};\r\n\r\n// 支付追问费用\r\nconst payForFollowup = async () => {\r\n  if (!currentFollowup.value) return;\r\n  \r\n  try {\r\n    isLoadingFollowup.value = true;\r\n    \r\n    // 第一步：创建订单\r\n    Toast.loading({\r\n      message: '正在创建订单...',\r\n      forbidClick: true,\r\n      duration: 0\r\n    });\r\n    \r\n    // 获取URL参数\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    \r\n    // 创建追问订单\r\n    const orderResponse = await axios.post('/api/order/create/followup', {\r\n      resultId: resultId.value,\r\n      area: currentFollowup.value.id\r\n    });\r\n    \r\n    if (orderResponse.data.code === 200) {\r\n      const followupOrderId = orderResponse.data.data.orderId;\r\n      console.log('追问订单创建成功:', followupOrderId);\r\n      \r\n      // 第二步：处理支付\r\n      Toast.loading({\r\n        message: '正在处理支付...',\r\n        forbidClick: true,\r\n        duration: 0\r\n      });\r\n      \r\n      // 模拟支付\r\n      const paymentResponse = await axios.post(`/api/order/mock/pay/${followupOrderId}`, {\r\n        birthDate: baziData.value?.birthDate || urlParams.get('birthDate'),\r\n        birthTime: baziData.value?.birthTime || urlParams.get('birthTime'),\r\n        gender: baziData.value?.gender || urlParams.get('gender'),\r\n        area: currentFollowup.value.id,\r\n        resultId: resultId.value\r\n      });\r\n      \r\n      if (paymentResponse.data.code === 200) {\r\n        console.log('追问支付成功:', paymentResponse.data);\r\n        Toast.success('支付成功');\r\n        \r\n        // 立即更新UI状态，将当前追问标记为已付费\r\n        const index = followupOptions.value.findIndex(o => o.id === currentFollowup.value.id);\r\n        if (index !== -1) {\r\n          followupOptions.value[index].paid = true;\r\n          followupOptions.value = [...followupOptions.value]; // 强制Vue更新\r\n        }\r\n        \r\n        // 第三步：加载分析结果\r\n        Toast.loading({\r\n          message: '正在生成分析结果，这可能需要30-60秒...',\r\n          forbidClick: true,\r\n          duration: 0\r\n        });\r\n        \r\n        // 获取并保存新的resultId（如果有的话）\r\n        if (paymentResponse.data.data && paymentResponse.data.data.resultId) {\r\n          const newResultId = paymentResponse.data.data.resultId;\r\n          console.log('获取到新的resultId:', newResultId);\r\n          // 更新全局的resultId变量\r\n          resultId.value = newResultId;\r\n          // 还需要更新本地存储中的resultId\r\n          localStorage.setItem('resultId', newResultId);\r\n        }\r\n        \r\n        // 轮询检查分析结果状态\r\n        const area = currentFollowup.value.id;\r\n        let isComplete = false;\r\n        let attempts = 0;\r\n        const maxAttempts = 60; // 最多等待120秒（60次 * 2秒）\r\n        \r\n        // 自定义轮询检查追问分析状态\r\n        const pollFollowupStatus = async () => {\r\n          console.log(`开始轮询追问分析状态: ${area}`);\r\n          \r\n          // 开始计时\r\n          const startTime = new Date().getTime();\r\n          const timeoutMs = 120000; // 120秒超时\r\n          \r\n          while (attempts < maxAttempts && !isComplete) {\r\n            attempts++;\r\n            try {\r\n              // 等待2秒\r\n              await new Promise(resolve => setTimeout(resolve, 2000));\r\n              \r\n              // 检查是否超时\r\n              const currentTime = new Date().getTime();\r\n              if (currentTime - startTime > timeoutMs) {\r\n                console.warn(`轮询追问分析状态超时: ${area}`);\r\n                break;\r\n              }\r\n              \r\n              // 检查追问分析结果\r\n              console.log(`尝试第${attempts}次获取追问分析: ${area}`);\r\n              const response = await axios.get(`/api/bazi/followup/${resultId.value}/${area}`);\r\n              \r\n              if (response.data.code === 200 && response.data.data && response.data.data.analysis) {\r\n                // 检查分析内容是否为\"正在分析\"\r\n                const analysis = response.data.data.analysis;\r\n                if (typeof analysis === 'string' && !analysis.includes('正在分析')) {\r\n                  console.log(`成功获取追问分析结果: ${area}`);\r\n                  isComplete = true;\r\n                  followupAnalysis.value[area] = analysis;\r\n                  break;\r\n                } else {\r\n                  console.log(`追问分析结果还在生成中: ${area}`);\r\n                }\r\n              }\r\n            } catch (error) {\r\n              // 只有非404错误才打印详细信息\r\n              if (!error.response || error.response.status !== 404) {\r\n                console.error('检查追问分析状态出错:', error);\r\n              }\r\n              \r\n              // 如果遇到404错误，表示追问分析尚未创建完毕\r\n              if (error.response && error.response.status === 404) {\r\n                console.log('追问分析尚未创建完毕，继续等待...');\r\n              } else if (attempts >= maxAttempts / 2) {\r\n                // 如果尝试次数超过一半且仍然失败，不要退出轮询，但记录错误\r\n                console.warn(`获取分析数据失败(${attempts}/${maxAttempts})，继续尝试...`);\r\n              }\r\n            }\r\n          }\r\n          \r\n          // 无论是否完成，都尝试获取最终结果\r\n          console.log(`轮询完成，最终尝试获取追问分析: ${area}`);\r\n          try {\r\n            const finalResult = await getFollowupAnalysis(area);\r\n            console.log(`最终获取追问分析结果: ${finalResult ? '成功' : '失败'}`);\r\n            return finalResult;\r\n          } catch (error) {\r\n            console.error('获取最终追问分析结果失败:', error);\r\n            // 如果分析结果仍然不可用，显示友好的错误信息\r\n            followupAnalysis.value[area] = \"分析正在处理中，请稍后刷新页面查看。\";\r\n            return null;\r\n          }\r\n        };\r\n        \r\n        // 开始轮询\r\n        const result = await pollFollowupStatus();\r\n        \r\n        // 更新UI\r\n        Toast.clear();\r\n        if (result) {\r\n          Toast.success('分析已完成');\r\n          \r\n          // 支付成功且分析完成后，切换到AI分析结果标签页显示结果\r\n          activeTab.value = 1; // 切换到AI分析结果标签\r\n          \r\n          // 滚动到相应分析部分\r\n          setTimeout(() => {\r\n            const sectionMap = {\r\n              'relationship': '婚姻感情',\r\n              'marriage': '婚姻感情',\r\n              'career': '事业财运',\r\n              'work': '事业财运',\r\n              'money': '事业财运',\r\n              'wealth': '事业财运',\r\n              'children': '子女情况',\r\n              'family': '子女情况',\r\n              'parents': '父母情况',\r\n              'health': '身体健康',\r\n              'education': '学业',\r\n              'study': '学业',\r\n              'social': '人际关系',\r\n              'friends': '人际关系',\r\n              'future': '近五年运势',\r\n              'fiveYears': '近五年运势'\r\n            };\r\n            \r\n            const targetTitle = sectionMap[currentFollowup.value.id];\r\n            if (targetTitle) {\r\n              // 查找并滚动到对应的分析部分\r\n              const sections = document.querySelectorAll('.analysis-section h3');\r\n              for (let i = 0; i < sections.length; i++) {\r\n                if (sections[i].textContent.includes(targetTitle)) {\r\n                  sections[i].scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n                  \r\n                  // 高亮显示该部分\r\n                  const section = sections[i].parentElement;\r\n                  section.classList.add('highlight-section');\r\n                  setTimeout(() => {\r\n                    section.classList.remove('highlight-section');\r\n                  }, 3000);\r\n                  \r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }, 500);\r\n        } else {\r\n          Toast.success('正在生成分析，请稍后刷新查看');\r\n        }\r\n        \r\n        showFollowupDialog.value = false;\r\n        \r\n        // 确保界面刷新显示分析结果\r\n        setTimeout(() => {\r\n          const index = followupOptions.value.findIndex(o => o.id === currentFollowup.value.id);\r\n          if (index !== -1) {\r\n            // 强制更新\r\n            followupOptions.value = [...followupOptions.value];\r\n          }\r\n        }, 500);\r\n      } else {\r\n        Toast.fail('支付失败');\r\n      }\r\n    } else {\r\n      Toast.fail('创建订单失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('追问支付过程出错:', error);\r\n    Toast.fail('处理失败，请重试');\r\n  } finally {\r\n    isLoadingFollowup.value = false;\r\n    Toast.clear();\r\n  }\r\n};\r\n\r\n// 获取追问分析结果\r\nconst getFollowupAnalysis = async (area) => {\r\n  loading.value = true;\r\n  try {\r\n    console.log(`开始获取[${area}]追问分析，结果ID: ${resultId.value}`);\r\n    const response = await axios.get(`/api/bazi/followup/${resultId.value}/${area}`);\r\n    \r\n    if (response.data.code === 200) {\r\n      console.log('获取追问分析成功，响应数据:', response.data);\r\n      console.log('响应data字段详情:', JSON.stringify(response.data.data));\r\n      \r\n      // 处理分析结果为null或空的情况\r\n      if (!response.data.data) {\r\n        console.warn(`追问分析结果data为空: ${area}`);\r\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析正在生成中，请稍后刷新页面查看。`;\r\n        followupAnalysis.value[area] = defaultMessage;\r\n        return defaultMessage;\r\n      }\r\n      \r\n      // 提取分析内容，处理不同的响应格式\r\n      let analysisContent = null;\r\n      \r\n      if (response.data.data.analysis) {\r\n        // 标准格式：{area, analysis}\r\n        analysisContent = response.data.data.analysis;\r\n        console.log(`获取到标准格式分析结果, 类型: ${typeof analysisContent}, 长度: ${analysisContent ? analysisContent.length : 0}`);\r\n      } else if (typeof response.data.data === 'string') {\r\n        // 直接字符串格式\r\n        analysisContent = response.data.data;\r\n        console.log(`获取到字符串格式分析结果, 长度: ${analysisContent.length}`);\r\n      } else if (response.data.data[area]) {\r\n        // 对象格式：{area1: \"分析1\", area2: \"分析2\"}\r\n        analysisContent = response.data.data[area];\r\n        console.log(`获取到对象格式分析结果, 长度: ${analysisContent ? analysisContent.length : 0}`);\r\n      } else {\r\n        // 尝试遍历所有属性，看是否有匹配的内容\r\n        console.log('尝试查找匹配内容，data的所有键:', Object.keys(response.data.data));\r\n        for (const key in response.data.data) {\r\n          if (key.toLowerCase() === area.toLowerCase() || \r\n             (area === 'fiveYears' && key === 'future') ||\r\n             (area === 'future' && key === 'fiveYears')) {\r\n            analysisContent = response.data.data[key];\r\n            console.log(`找到匹配的键[${key}]，内容长度: ${analysisContent ? analysisContent.length : 0}`);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 检查分析结果是否为null或空\r\n      if (!analysisContent) {\r\n        console.warn(`无法从响应中提取有效分析内容: ${area}`);\r\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析尚未生成，请稍后刷新页面查看。`;\r\n        followupAnalysis.value[area] = defaultMessage;\r\n        return defaultMessage;\r\n      }\r\n      \r\n      // 检查分析结果是否是空字符串\r\n      if (typeof analysisContent === 'string' && analysisContent.trim() === '') {\r\n        console.warn(`追问分析结果为空字符串: ${area}`);\r\n        const defaultMessage = `${followupOptions.value.find(o => o.id === area)?.name || area}分析正在生成中，请稍后刷新页面查看。`;\r\n        followupAnalysis.value[area] = defaultMessage;\r\n        return defaultMessage;\r\n      }\r\n      \r\n      // 记录有效的分析结果\r\n      console.log(`获取到有效的[${area}]分析结果，长度: ${analysisContent.length}`);\r\n      \r\n      // 存储并返回分析结果\r\n      followupAnalysis.value[area] = analysisContent;\r\n      return analysisContent;\r\n    } else {\r\n      console.error('获取追问分析失败:', response.data);\r\n      const errorMessage = `获取分析失败: ${response.data.message || '未知错误'}`;\r\n      followupAnalysis.value[area] = errorMessage;\r\n      return errorMessage;\r\n    }\r\n  } catch (error) {\r\n    console.error('获取追问分析出错:', error);\r\n    const errorMessage = `获取分析出错: ${error.message || '请稍后重试'}`;\r\n    followupAnalysis.value[area] = errorMessage;\r\n    return errorMessage;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// 检查已支付的追问\r\nconst checkPaidFollowups = async () => {\r\n  try {\r\n    const response = await axios.get(`/api/bazi/followup/list/${resultId.value}`);\r\n    \r\n    if (response.data.code === 200 && response.data.data.followups) {\r\n      const paidFollowups = response.data.data.followups;\r\n      \r\n      // 更新已支付的追问选项\r\n      followupOptions.value = followupOptions.value.map(option => {\r\n        const isPaid = paidFollowups.some(f => f.area === option.id);\r\n        if (isPaid) {\r\n          // 如果已支付，获取分析结果\r\n          getFollowupAnalysis(option.id);\r\n        }\r\n        return { ...option, paid: isPaid };\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('检查已支付追问出错:', error);\r\n  }\r\n};\r\n\r\n// 修改getBaziResult函数\r\nconst getBaziResult = async () => {\r\n  loading.value = true;\r\n  try {\r\n    console.log('获取八字分析结果，ID:', resultId.value);\r\n    const response = await axios.get(`/api/bazi/result/${resultId.value}`);\r\n    console.log('八字分析结果:', response.data);\r\n    \r\n    if (response.data.code === 200 && response.data.data) {\r\n      // 更新八字数据，使用深度合并确保数据结构完整\r\n      if (response.data.data.baziChart) {\r\n        baziData.value = {\r\n          yearPillar: response.data.data.baziChart.yearPillar || baziData.value.yearPillar,\r\n          monthPillar: response.data.data.baziChart.monthPillar || baziData.value.monthPillar,\r\n          dayPillar: response.data.data.baziChart.dayPillar || baziData.value.dayPillar,\r\n          hourPillar: response.data.data.baziChart.hourPillar || baziData.value.hourPillar,\r\n          fiveElements: response.data.data.baziChart.fiveElements || baziData.value.fiveElements,\r\n          flowingYears: response.data.data.baziChart.flowingYears || [],\r\n          shenSha: response.data.data.baziChart.shenSha || baziData.value.shenSha,\r\n          daYun: response.data.data.baziChart.daYun || baziData.value.daYun,\r\n          birthDate: response.data.data.baziChart.birthDate || null,\r\n          birthTime: response.data.data.baziChart.birthTime || null,\r\n          gender: response.data.data.baziChart.gender || null\r\n        };\r\n      } else {\r\n        console.warn('响应中缺少baziChart数据');\r\n        Toast.fail('数据格式不正确');\r\n      }\r\n      \r\n      // 更新AI分析结果\r\n      if (response.data.data.aiAnalysis) {\r\n        aiAnalysis.value = {\r\n          health: response.data.data.aiAnalysis.health || '',\r\n          career: response.data.data.aiAnalysis.career || '',\r\n          relationship: response.data.data.aiAnalysis.relationship || '',\r\n          children: response.data.data.aiAnalysis.children || '',\r\n          social: response.data.data.aiAnalysis.social || '',\r\n          future: response.data.data.aiAnalysis.future || '',\r\n          parents: response.data.data.aiAnalysis.parents || '',\r\n          education: response.data.data.aiAnalysis.education || '',\r\n          // 新增字段\r\n          coreAnalysis: response.data.data.aiAnalysis.coreAnalysis || '',\r\n          fiveElements: response.data.data.aiAnalysis.fiveElements || '',\r\n          shenShaAnalysis: response.data.data.aiAnalysis.shenShaAnalysis || '',\r\n          keyPoints: response.data.data.aiAnalysis.keyPoints || ''\r\n        };\r\n      }\r\n      \r\n      // 初始化追问选项\r\n      initFollowupOptions();\r\n      \r\n      // 加载已支付的追问分析结果\r\n      await loadFollowupResults();\r\n      \r\n      Toast.success('分析结果加载成功');\r\n    } else {\r\n      console.error('获取八字分析结果失败:', response.data.message);\r\n      Toast.fail(response.data.message || '获取分析结果失败');\r\n    }\r\n  } catch (error) {\r\n    console.error('获取八字分析结果出错:', error);\r\n    Toast.fail('获取分析结果失败，请稍后再试');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// 添加缺失的函数\r\n// 初始化追问选项\r\nconst initFollowupOptions = () => {\r\n  // 根据用户年龄调整追问选项\r\n  if (userAge.value !== null) {\r\n    if (userAge.value < 6) {\r\n      // 为婴幼儿调整选项\r\n      followupOptions.value = followupOptions.value.filter(option => \r\n        ['health', 'personality', 'education', 'parents'].includes(option.id)\r\n      );\r\n    } else if (userAge.value < 18) {\r\n      // 为未成年人调整选项\r\n      followupOptions.value = followupOptions.value.filter(option => \r\n        !['marriage', 'career'].includes(option.id)\r\n      );\r\n    }\r\n  }\r\n  \r\n  console.log('初始化追问选项完成:', followupOptions.value);\r\n};\r\n\r\n// 加载已支付的追问分析结果\r\nconst loadFollowupResults = async () => {\r\n  try {\r\n    // 检查是否有结果ID\r\n    if (!resultId.value) {\r\n      console.warn('缺少结果ID，无法加载追问分析');\r\n      return;\r\n    }\r\n    \r\n    console.log('开始加载追问分析结果列表:', resultId.value);\r\n    \r\n    // 调用API获取已支付的追问列表\r\n    const response = await axios.get(`/api/bazi/followup/list/${resultId.value}`);\r\n    \r\n    if (response.data.code === 200 && response.data.data.followups) {\r\n      const paidFollowups = response.data.data.followups;\r\n      console.log('获取到的追问列表:', paidFollowups);\r\n      \r\n      // 更新已支付的追问选项\r\n      followupOptions.value = followupOptions.value.map(option => {\r\n        // 检查是否有匹配的追问分析\r\n        const isPaid = paidFollowups.some(f => {\r\n          // 尝试多种匹配方式\r\n          if (typeof f === 'object') {\r\n            // 对象格式：检查area字段\r\n            return f.area === option.id;\r\n          } else if (typeof f === 'string') {\r\n            // 字符串格式：直接比较\r\n            return f === option.id;\r\n          }\r\n          return false;\r\n        });\r\n        \r\n        if (isPaid) {\r\n          console.log(`发现已支付的追问: ${option.id}`);\r\n          // 如果已支付，获取分析结果\r\n          getFollowupAnalysis(option.id);\r\n        }\r\n        \r\n        return { ...option, paid: isPaid };\r\n      });\r\n      \r\n      console.log('更新后的追问选项:', followupOptions.value);\r\n    } else {\r\n      console.warn('获取追问列表失败或返回空列表');\r\n    }\r\n  } catch (error) {\r\n    console.error('加载追问分析结果出错:', error);\r\n    // 出错时不显示错误提示，静默失败\r\n  }\r\n};\r\n\r\n// 解析八字数据\r\nconst parseBaZiData = (data) => {\r\n  if (!data) return null;\r\n  \r\n  return {\r\n    yearPillar: data.yearPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\r\n    monthPillar: data.monthPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\r\n    dayPillar: data.dayPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\r\n    hourPillar: data.hourPillar || { heavenlyStem: '未知', earthlyBranch: '未知' },\r\n    shenSha: data.shenSha || {\r\n      dayChong: '未知',\r\n      zhiShen: '未知',\r\n      pengZuGan: '未知',\r\n      pengZuZhi: '未知',\r\n      xiShen: '未知',\r\n      fuShen: '未知',\r\n      caiShen: '未知',\r\n      benMing: [],\r\n      yearGan: [],\r\n      yearZhi: [],\r\n      dayGan: [],\r\n      dayZhi: []\r\n    },\r\n    daYun: data.daYun || {\r\n      startAge: 0,\r\n      startYear: 0,\r\n      isForward: true,\r\n      daYunList: []\r\n    },\r\n    flowingYears: data.flowingYears || []\r\n  };\r\n};\r\n\r\n// 添加分析状态检测函数\r\nconst isAnalysisItemLoading = (key) => {\r\n  if (!aiAnalysis.value) return true;\r\n  const value = aiAnalysis.value[key];\r\n  return !value || value === '暂无' || (value.includes && value.includes('正在分析'));\r\n};\r\n\r\n// 清理组件时移除定时器\r\nonUnmounted(() => {\r\n  if (analyzeTimer.value) {\r\n    clearInterval(analyzeTimer.value);\r\n    analyzeTimer.value = null;\r\n  }\r\n});\r\n\r\n// 刷新特定追问的分析结果\r\nconst reloadFollowupAnalysis = async (area) => {\r\n  if (!area) return;\r\n  \r\n  try {\r\n    isLoadingFollowup.value = true;\r\n    Toast.loading({\r\n      message: '正在刷新分析结果...',\r\n      duration: 0\r\n    });\r\n    \r\n    console.log(`刷新${area}分析结果`);\r\n    const analysis = await getFollowupAnalysis(area);\r\n    \r\n    if (analysis && typeof analysis === 'string' && analysis.length > 0) {\r\n      Toast.success('刷新成功');\r\n      console.log(`成功刷新${area}分析结果，长度: ${analysis.length}`);\r\n    } else {\r\n      Toast.fail('分析结果尚未生成完成');\r\n      console.warn(`刷新${area}分析结果失败或为空`);\r\n    }\r\n  } catch (error) {\r\n    console.error(`刷新${area}分析失败:`, error);\r\n    Toast.fail('刷新失败，请重试');\r\n  } finally {\r\n    isLoadingFollowup.value = false;\r\n    Toast.clear();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.result-container {\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.result-header {\r\n  text-align: center;\r\n  padding: 20px 0;\r\n  background-color: #f2f3f5;\r\n}\r\n\r\n.result-header h2 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: #323233;\r\n}\r\n\r\n.result-header p {\r\n  margin: 10px 0 0;\r\n  font-size: 14px;\r\n  color: #969799;\r\n}\r\n\r\n.bazi-chart {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.bazi-chart h3 {\r\n  margin: 20px 0 10px;\r\n  color: #323233;\r\n}\r\n\r\n.four-pillars {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 20px 0;\r\n}\r\n\r\n.pillar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background: #f5f7fa;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  width: 80px;\r\n}\r\n\r\n.stem, .branch {\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin: 4px 0;\r\n  border-radius: 4px;\r\n}\r\n\r\n.stem {\r\n  background: #1989fa;\r\n  color: white;\r\n}\r\n\r\n.branch {\r\n  background: #07c160;\r\n  color: white;\r\n}\r\n\r\n.label {\r\n  font-size: 12px;\r\n  color: #646566;\r\n  margin-top: 4px;\r\n}\r\n\r\n.nayin, .shishen, .wangshuai {\r\n  font-size: 12px;\r\n  color: #323233;\r\n  margin-top: 4px;\r\n}\r\n\r\n.five-elements {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n}\r\n\r\n.element {\r\n  text-align: center;\r\n  flex: 1;\r\n}\r\n\r\n.element-name {\r\n  font-size: 14px;\r\n  color: #323233;\r\n}\r\n\r\n.element-value {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #1989fa;\r\n  margin-top: 5px;\r\n}\r\n\r\n.flowing-years {\r\n  margin: 20px 0;\r\n}\r\n\r\n.ai-analysis {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.analysis-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.analysis-section h3 {\r\n  margin: 0 0 10px;\r\n  color: #323233;\r\n}\r\n\r\n.analysis-section p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #646566;\r\n  line-height: 1.6;\r\n}\r\n\r\n.action-buttons {\r\n  padding: 20px 16px;\r\n}\r\n\r\n.age-notice {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.shen-sha-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.da-yun-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.qi-yun-info {\r\n  margin: 0 0 10px;\r\n  font-size: 14px;\r\n  color: #646566;\r\n}\r\n\r\n.da-yun-table {\r\n  margin-top: 10px;\r\n}\r\n\r\n.placeholder {\r\n  background-color: #f2f3f5;\r\n  color: #969799;\r\n}\r\n\r\n/* 追问部分样式 */\r\n.followup-section {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.section-desc {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.followup-options {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 12px;\r\n}\r\n\r\n.followup-option {\r\n  background-color: #f5f7fa;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.followup-option:hover {\r\n  background-color: #e8f0fe;\r\n}\r\n\r\n.followup-option.paid {\r\n  background-color: #e6f7ff;\r\n  border: 1px solid #91d5ff;\r\n}\r\n\r\n.option-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.option-name {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n}\r\n\r\n.option-status {\r\n  font-size: 13px;\r\n  color: #ff6b00;\r\n}\r\n\r\n.followup-option.paid .option-status {\r\n  color: #52c41a;\r\n}\r\n\r\n.followup-result {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border-left: 4px solid #1989fa;\r\n}\r\n\r\n.followup-result h3 {\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.analysis-content {\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.followup-dialog-content {\r\n  padding: 15px;\r\n  text-align: center;\r\n}\r\n\r\n/* 添加表格样式 */\r\n.custom-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n  margin: 10px 0;\r\n  background-color: #fff;\r\n  color: #323233;\r\n  font-size: 14px;\r\n}\r\n\r\n.custom-table th,\r\n.custom-table td {\r\n  padding: 8px 12px;\r\n  border-bottom: 1px solid #ebedf0;\r\n  text-align: center;\r\n}\r\n\r\n.custom-table th {\r\n  font-weight: 500;\r\n  background-color: #f7f8fa;\r\n  color: #646566;\r\n}\r\n\r\n.custom-table tr:hover {\r\n  background-color: #f2f3f5;\r\n}\r\n\r\n/* 添加分析状态相关样式 */\r\n.analysis-progress-notice {\r\n  margin: 10px 16px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.analysis-progress {\r\n  width: 100%;\r\n}\r\n\r\n.analysis-progress p {\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n  color: #1989fa;\r\n}\r\n\r\n.loading-content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px 0;\r\n  background-color: #f7f8fa;\r\n  border-radius: 8px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.enhanced-analysis {\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-left: 3px solid #1989fa;\r\n  background-color: #f8f9ff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.enhanced-analysis p {\r\n  color: #333;\r\n  line-height: 1.6;\r\n  white-space: pre-wrap;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.analysis-source {\r\n  text-align: right;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* 高亮效果 */\r\n@keyframes highlight-pulse {\r\n  0% { box-shadow: 0 0 0 0 rgba(25, 137, 250, 0.7); }\r\n  70% { box-shadow: 0 0 0 10px rgba(25, 137, 250, 0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(25, 137, 250, 0); }\r\n}\r\n\r\n.highlight-section {\r\n  animation: highlight-pulse 1.5s ease-in-out;\r\n  background-color: rgba(25, 137, 250, 0.08);\r\n  border-radius: 8px;\r\n  transition: background-color 0.5s ease;\r\n}\r\n</style>\r\n","import script from \"./Result.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Result.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Result.vue?vue&type=style&index=0&id=6f51eb3a&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6f51eb3a\"]])\n\nexport default __exports__","import Home from './Home.vue';\r\nimport Login from './Login.vue';\r\nimport User from './User.vue';\r\nimport Payment from './Payment.vue';\r\nimport Result from './Result.vue';\r\n\r\nconst routes = [\r\n  { \r\n    path: '/', \r\n    component: Home,\r\n    meta: { title: '八字命理AI人生指导' }\r\n  },\r\n  { \r\n    path: '/login', \r\n    component: Login,\r\n    meta: { title: '用户登录' }\r\n  },\r\n  { \r\n    path: '/user', \r\n    component: User,\r\n    meta: { title: '个人中心' }\r\n  },\r\n  { \r\n    path: '/payment', \r\n    component: Payment,\r\n    meta: { title: '订单支付' }\r\n  },\r\n  { \r\n    path: '/result/:id', \r\n    component: Result,\r\n    meta: { title: '分析结果' }\r\n  }\r\n];\r\n\r\nexport default routes; ","import { createApp } from 'vue';\r\nimport { createRouter, createWebHistory } from 'vue-router';\r\nimport { createPinia } from 'pinia';\r\nimport App from './App.vue';\r\nimport routes from './router';\r\nimport Vant from 'vant';\r\nimport 'vant/lib/index.css';\r\n\r\n// 创建路由实例\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\n// 创建Pinia状态管理实例\r\nconst pinia = createPinia();\r\n\r\n// 创建Vue应用实例\r\nconst app = createApp(App);\r\n\r\n// 使用Vant UI库\r\napp.use(Vant);\r\n\r\n// 使用插件\r\napp.use(router);\r\napp.use(pinia);\r\n\r\n// 挂载应用\r\napp.mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"353\":\"735a904a\",\"967\":\"84b71931\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"bazi-frontend:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbazi_frontend\"] = self[\"webpackChunkbazi_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(6709)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["active","ref","__exports__","router","useRouter","timeData","text","formData","reactive","gender","calendarType","birthDate","birthTime","birthPlace","livingPlace","focusAreas","onSubmit","length","console","log","push","path","query","join","Toast","fail","class","style","_createElementBlock","_hoisted_1","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_createElementVNode","_hoisted_2","_component_van_form","default","_withCtx","_component_van_cell_group","inset","_component_van_field","modelValue","phone","_cache","$event","name","label","placeholder","rules","required","message","verifyCode","center","clearable","button","_component_van_button","size","type","disabled","isSending","onClick","sendVerifyCode","_createTextVNode","_toDisplayString","sendButtonText","_","_hoisted_3","round","block","__","_hoisted_4","args","showAgreement","showPrivacy","_component_van_popup","show","showAgreementPopup","position","_hoisted_5","showPrivacyPopup","_hoisted_6","setup","countdown","go","startCountdown","value","timer","setInterval","clearInterval","test","render","key","_component_van_image","width","height","src","userInfo","isLoggedIn","_createCommentVNode","goToLogin","_component_van_cell","goToHistory","goToOrders","historyList","_createBlock","_Fragment","_renderList","item","id","date","formatFocusAreas","viewResult","_component_van_empty","description","goToHome","logout","computed","areas","areaNames","health","wealth","career","relationship","children","map","area","resultId","_component_van_card","desc","price","currency","tags","_component_van_tag","plain","orderId","createTime","clickable","paymentMethod","_component_van_icon","color","_component_van_radio","checked","onPayment","showQRCode","qrCodeUrl","frameborder","_hoisted_7","_hoisted_8","onPaymentSuccess","route","useRoute","split","Date","toLocaleString","isProcessing","onMounted","async","loading","duration","forbidClick","paymentData","response","axios","headers","data","code","success","error","originalOrderId","clear","defaultResultId","replace","params","activeTab","isAnalyzing","analyzeProgress","analyzeTimer","userAge","age","isNaN","parseInt","localStorage","getItem","baziData","yearPillar","heavenlyStem","earthlyBranch","naYin","shiShen","wangShuai","monthPillar","dayPillar","hourPillar","fiveElements","flowingYears","shenSha","dayChong","zhiShen","xiShen","fuShen","caiShen","benMing","yearGan","yearZhi","dayGan","dayZhi","daYun","startAge","startYear","isForward","daYunList","aiAnalysis","social","future","parents","education","coreAnalysis","shenShaAnalysis","keyPoints","testApiConnection","isApiConnected","warn","localResultId","urlResultId","setItem","getBaziResult","stillAnalyzing","Object","values","some","includes","pollAnalysisStatus","getElementName","element","elementNames","downloadPDFAsStream","timestamp","getTime","downloadUrl","fetch","method","cache","ok","errorMsg","status","contentType","get","errorData","json","errorText","substring","e","Error","disposition","filename","filenameMatch","match","fileExtension","endsWith","blob","isDownloadStarted","fileReader","FileReader","headerPromise","Promise","resolve","reject","onloadend","target","result","onerror","readAsArrayBuffer","slice","header","headerView","Uint8Array","headerString","String","fromCharCode","apply","startsWith","url","window","URL","createObjectURL","iframe","document","createElement","display","body","appendChild","a","href","download","rel","contentWindow","click","setTimeout","revokeObjectURL","removeChild","pdfWindow","open","Dialog","alert","confirmButtonText","then","openError","downloadPDF","attempts","generatePDFLocally","querySelector","canvas","html2canvas","scale","useCORS","logging","windowWidth","documentElement","offsetWidth","windowHeight","offsetHeight","pdf","jsPDF","imgData","toDataURL","imgWidth","pageHeight","imgHeight","heightLeft","addImage","addPage","pageCount","internal","getNumberOfPages","i","setPage","setFontSize","setTextColor","pageSize","getWidth","getHeight","align","save","shareResult","handleLocalPDFGeneration","checkAnalysisStatus","aiAnalysisData","totalItems","completedItems","entries","forEach","Math","floor","maxAttempts","checkInterval","isComplete","reloadBaziData","urlParams","URLSearchParams","location","search","requestData","mockPaymentResponse","newResultId","analysisComplete","loadFollowupResults","mockError","baziChart","paidOptions","followupOptions","filter","option","paid","o","getFollowupAnalysis","selected","currentFollowup","showFollowupDialog","followupAnalysis","isLoadingFollowup","selectFollowupOption","analysis","payForFollowup","orderResponse","followupOrderId","paymentResponse","index","findIndex","pollFollowupStatus","startTime","timeoutMs","currentTime","finalResult","sectionMap","targetTitle","sections","querySelectorAll","textContent","scrollIntoView","behavior","section","parentElement","classList","add","remove","JSON","stringify","defaultMessage","find","analysisContent","keys","toLowerCase","trim","errorMessage","initFollowupOptions","followups","paidFollowups","isPaid","f","onUnmounted","reloadFollowupAnalysis","routes","component","Home","meta","Login","User","Payment","Result","createRouter","history","createWebHistory","pinia","createPinia","app","createApp","App","use","Vant","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","create","def","current","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","onload","clearTimeout","doneFns","parentNode","bind","head","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}